<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="省流：第1章重点章节概括​    1）掌握计算机网络的性能的常用评价指标，能够计算。​    2）掌握理论五层协议结构。​    3）掌握五层协议各层的任务、使用的数据单元、主要协议（运输层、网络层、链路层）。 第2章重点章节概括">
<meta property="og:type" content="article">
<meta property="og:title" content="计网期末复习">
<meta property="og:url" content="http://example.com/2026/01/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="Pocon&#39;s Blog">
<meta property="og:description" content="省流：第1章重点章节概括​    1）掌握计算机网络的性能的常用评价指标，能够计算。​    2）掌握理论五层协议结构。​    3）掌握五层协议各层的任务、使用的数据单元、主要协议（运输层、网络层、链路层）。 第2章重点章节概括">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112162710819.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217165624842.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217195313520.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217200452286.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217201029575.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217201516794.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217205045459.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217205418050.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217210036516.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217210542391.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230080556346.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230080707946.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230080814887.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230082400543.png">
<meta property="og:image" content="http://example.com/2026/01/AppData/Roaming/Typora/typora-user-images/image-20251230090317193.png">
<meta property="og:image" content="http://example.com/2026/01/AppData/Roaming/Typora/typora-user-images/image-20251230094424503.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/1768214465245.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260113210809317.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/922f9dfe4e787b6561d72bfd8b55373e.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/027796315228f0f0d25c57277890eea5.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230140724311.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230132925708.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230135923258.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230141807319.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230143450520.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230144431771.png">
<meta property="og:image" content="http://example.com/2026/01/AppData/Roaming/Typora/typora-user-images/image-20251230144608170.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230144959112.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230150424256.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107204926861.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107205714713.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107214545990.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107215011527.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107220459463.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107225612999.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107230718643.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260113214756031.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108122040672.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108123238630.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108124855573.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108125210479.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108130230374.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108132147260.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108132219338.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108132243608.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260109211924292.png">
<meta property="og:image" content="http://example.com/2026/01/AppData/Roaming/Typora/typora-user-images/image-20260109222327022.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260109222617249.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112203537385.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112204911411.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112204940511.png">
<meta property="og:image" content="http://example.com/2026/01/AppData/Roaming/Typora/typora-user-images/image-20260112205842498.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112205608282.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112205633774.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112210330267.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112210431747.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260115094417033.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260115095429308.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260110143232053.png">
<meta property="og:image" content="http://example.com/2026/01/AppData/Roaming/Typora/typora-user-images/image-20260110144042957.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260110145006940.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260110145902024.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112210731602.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211440802.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211450276.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211726843.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211646755.png">
<meta property="article:published_time" content="2026-01-17T08:56:13.000Z">
<meta property="article:modified_time" content="2026-01-17T10:34:40.820Z">
<meta property="article:author" content="Pocon">
<meta property="article:tag" content="期末复习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112162710819.png">

<link rel="canonical" href="http://example.com/2026/01/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>计网期末复习 | Pocon's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Pocon's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2026/01/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Pocon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pocon's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计网期末复习
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2026-01-17 16:56:13 / 修改时间：18:34:40" itemprop="dateCreated datePublished" datetime="2026-01-17T16:56:13+08:00">2026-01-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">计算机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="省流："><a href="#省流：" class="headerlink" title="省流："></a>省流：</h1><h4 id="第1章重点章节概括"><a href="#第1章重点章节概括" class="headerlink" title="第1章重点章节概括"></a>第1章重点章节概括</h4><p>​    1）掌握计算机网络的性能的常用评价指标，能够计算。<br>​    2）掌握理论五层协议结构。<br>​    3）掌握五层协议各层的任务、使用的数据单元、主要协议（运输层、网络层、链路层）。</p>
<h4 id="第2章重点章节概括"><a href="#第2章重点章节概括" class="headerlink" title="第2章重点章节概括"></a>第2章重点章节概括</h4><p>​    1）掌握常见的数字信号编码方式。<br>​    2）掌握影响数据传输速率的影响因素、理解信噪比、那奎斯特定律、Shannon公式的意义。<br>​    3）理解常见的信道复用技术（频分、时分、统计时分、CDMA)。<br>​    4）理解常见的物理层、链路层设备（集线器、交换机）的主要区别。（我写在了第三章）</p>
<h4 id="第3章重点章节概括"><a href="#第3章重点章节概括" class="headerlink" title="第3章重点章节概括"></a>第3章重点章节概括</h4><p>​    1）理解数据链路层的三个基本问题。<br>​    2）理解链路、帧等重要概念，最小帧长的影 响因素有哪些？<br>​    3）掌握CSMA/CD 协议的要点，工作流程。</p>
<h4 id="第4章重点章节概括"><a href="#第4章重点章节概括" class="headerlink" title="第4章重点章节概括"></a>第4章重点章节概括</h4><p>​    1）理解IP地址的概念和特点，特殊IP设置方法（如广播），掌握CIDR地址块划分方法。<br>​    2）理解MAC地址与IP地址的区别，掌握地址解析协议ARP的工作过程。<br>​    3）三个经典路由协议：RIP，OSPF，和 BGP，掌握三个协议的优缺点；<br>​        理解各个协议的基本原理，掌握各个协议过程中的信息交换（如与哪些路由器交换？交换什么信息？何时交换？如何交换（广播？泛洪？）？）<br>​        RIP协议：能够依据邻居的路由信息更新自己的路由信息。<br>​    4）理解运输层中重要的概念。<br>​    5）掌握IP层转发分组的过程</p>
<h4 id="第5章重点章节概括"><a href="#第5章重点章节概括" class="headerlink" title="第5章重点章节概括"></a>第5章重点章节概括</h4><p>​    1）UDP和TCP基本概念和比较<br>​    2）掌握TCP的流量控制<br>​    3）TCP拥塞控制的主要策略，能综合分析TCP拥塞控制的全过程。<br>​    4）理解TCP链接建立和释放过程<br>​    5）理解TCP链接中数据传输过程。</p>
<h4 id="第6章重点章节概括"><a href="#第6章重点章节概括" class="headerlink" title="第6章重点章节概括"></a>第6章重点章节概括</h4><p>​    1）理解DNS中的基本概念<br>​    2）DHCP基本过程</p>
<h4 id="第9章重点章节概括"><a href="#第9章重点章节概括" class="headerlink" title="第9章重点章节概括"></a>第9章重点章节概括</h4><p>​    隐蔽站现象、暴露站现象、CSMA/CA协议（概念、原理）、移动IP（概念、原理）</p>
<hr>
<h1 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h1><h2 id="计算机网络的性能评价"><a href="#计算机网络的性能评价" class="headerlink" title="计算机网络的性能评价"></a>计算机网络的性能评价</h2><h3 id="速率"><a href="#速率" class="headerlink" title="速率"></a>速率</h3><p>指的是数据的传送速率，10Mbit/s是 10 的 六次方 不是 2 的 20 次方。</p>
<p>如果我们说数据大小的话，一般还是 2 的多少次方</p>
<h3 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h3><p>在单位时间内网络中的某信道所能通过的“最高数据率”</p>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><p>在单位时间内通过某个网络的实际数据量。</p>
<h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><script type="math/tex; mode=display">
总时延 = 发送时延 + 传播时延 + 处理时延+ 排队时延</script><p>一般只考虑前两个时延</p>
<h4 id="发送时延"><a href="#发送时延" class="headerlink" title="发送时延"></a>发送时延</h4><script type="math/tex; mode=display">
发送时延 = \frac{数据帧长度（bit）}{发送速率（bit/s）}</script><h4 id="传播时延"><a href="#传播时延" class="headerlink" title="传播时延"></a>传播时延</h4><script type="math/tex; mode=display">
传播时延 = \frac{信道长度（m）}{电磁波在信道上的传播速率（m/s）}</script><h3 id="时延带宽积"><a href="#时延带宽积" class="headerlink" title="时延带宽积"></a>时延带宽积</h3><p>可以称其为以比特位单位的链路长度。也就是说链路上的比特数目的最大值</p>
<script type="math/tex; mode=display">
时延带宽积 = 传播时延 \times 带宽</script><h4 id="每比特的宽度"><a href="#每比特的宽度" class="headerlink" title="每比特的宽度"></a>每比特的宽度</h4><p>链路长度 /  带宽时延积</p>
<h3 id="往返时间RTT"><a href="#往返时间RTT" class="headerlink" title="往返时间RTT"></a>往返时间RTT</h3><p>考虑发送一条数据，对方会发一个数据量极小（不考虑发送时延）的ACK包，此时一个来回总时延 = A的发送时延 + 2<em>传播时延。这个时候 2 </em> 传播时延 就是RTT</p>
<h4 id="有效数据率"><a href="#有效数据率" class="headerlink" title="有效数据率"></a>有效数据率</h4><script type="math/tex; mode=display">
有效数据率 = \frac{数据长度}{发送时间+RTT}</script><h3 id="利用率"><a href="#利用率" class="headerlink" title="利用率"></a>利用率</h3><h4 id="信道利用率"><a href="#信道利用率" class="headerlink" title="信道利用率"></a>信道利用率</h4><p>某信道有百分之几的时间是被利用的。完全空闲的信道利用率是0。</p>
<p>信道利用率不是越高越好，因为信道的利用率增加的时候，信道引起的时延也迅速增加（堵车）</p>
<h4 id="网络利用率"><a href="#网络利用率" class="headerlink" title="网络利用率"></a>网络利用率</h4><p>全网络的信道利用率的加权平均值</p>
<h2 id="边缘和核心"><a href="#边缘和核心" class="headerlink" title="边缘和核心"></a>边缘和核心</h2><p>略，看书</p>
<h2 id="各层协议的最大传输单元（MTU）"><a href="#各层协议的最大传输单元（MTU）" class="headerlink" title="各层协议的最大传输单元（MTU）"></a>各层协议的最大传输单元（MTU）</h2><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112162710819.png" alt></p>
<h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><blockquote>
<p>基本知识和概念（提供什么服务、四大特性、通信模型图）  选择和填空</p>
</blockquote>
<p>物理层考虑的是怎么样才能在连接各种计算机的传输媒体上<strong>传输数据比特流</strong>，而不是指具体的传输媒体。需要尽可能屏蔽掉不同传输媒体和通信手段的差异。</p>
<h3 id="四个特性（背住）"><a href="#四个特性（背住）" class="headerlink" title="四个特性（背住）"></a>四个特性（背住）</h3><h4 id="机械特性"><a href="#机械特性" class="headerlink" title="机械特性"></a>机械特性</h4><p>接口所用接线器的形状和尺寸…</p>
<h4 id="电气特性"><a href="#电气特性" class="headerlink" title="电气特性"></a>电气特性</h4><p>接口电缆的各条线上出现的电压的范围</p>
<h4 id="功能特性"><a href="#功能特性" class="headerlink" title="功能特性"></a>功能特性</h4><p>某条线上出现的某一电平的电压的意义</p>
<h4 id="过程特性"><a href="#过程特性" class="headerlink" title="过程特性"></a>过程特性</h4><p>对于不同功能的各种可能时间的出现顺序</p>
<h3 id="通信系统的模型"><a href="#通信系统的模型" class="headerlink" title="通信系统的模型"></a>通信系统的模型</h3><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217165624842.png" alt></p>
<p>定义：消息（有语义信息的，明文的）、数据（符号序列）、信号（数据的电器表示）、码元（离散数值的基本波形）</p>
<h2 id="定律"><a href="#定律" class="headerlink" title="定律"></a>定律</h2><blockquote>
<p>两个定律（基本概念，基本原理）  香农定理、信噪比（信噪比提高几倍，S/N提高几倍）、影响的两个因素</p>
</blockquote>
<p>实际的信道存在的问题：<strong>带宽受限、有噪声、干扰和失真</strong></p>
<p>即传输速率越高、传输距离越远、噪声干扰越大、传输媒体质量越差失真越严重</p>
<p>限制传输速率的两个因素：<strong>信道能够通过的频率范围、信噪比</strong></p>
<h3 id="奈氏准则"><a href="#奈氏准则" class="headerlink" title="奈氏准则"></a>奈氏准则</h3><script type="math/tex; mode=display">
码元传输的最高速率 = 2W Baud</script><p>其中 W 指的是带宽(hz)，Baud 是波特，表示1秒能传多少码元。</p>
<p>这个公式告诉我们，码元的传输的最高速率是有上限的，超过这个上限就会出现严重的码间串扰问题（接收端收到的信号波形失去了码元之间的清晰界限）</p>
<p>所以实际的信道所能传输的最高码元速率，要明显地低于奈氏准则给出上限数值。</p>
<h4 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h4><font color="blue">激励工程人员不断探索更先进的编码技术，使一个码元携带更多比特的信息量</font>

<h3 id="信噪比（必考）"><a href="#信噪比（必考）" class="headerlink" title="信噪比（必考）"></a><font color="red">信噪比（必考）</font></h3><p>信噪比是<strong>信号</strong>的<strong>平均功率</strong>和<strong>噪声</strong>的<strong>平均功率</strong>之比</p>
<script type="math/tex; mode=display">
信噪比 = 10~log_{10}(\frac{S}{N}) ~~db</script><p>当 S/N =10 时，信噪比为10dB，而当 S/N =1000 时，信噪比为30dB</p>
<blockquote>
<p>[!NOTE]</p>
<p>问：将信噪比提高3倍，那么<code>S/N</code>应该如何变化</p>
<p>答：提高 $10^3$ 倍</p>
</blockquote>
<h3 id="香农公式"><a href="#香农公式" class="headerlink" title="香农公式"></a>香农公式</h3><script type="math/tex; mode=display">
C = W~log_2(1+\frac{S}{N})~~(bit/s)</script><p>其中 W 是信道的带宽</p>
<p>这个公式告诉我们</p>
<ul>
<li>信道的<strong>带宽</strong>或者信道中的<strong>信噪比越大</strong>，则信息的<strong>极限传输速率</strong>就<strong>越高</strong></li>
<li>只要信息传输速率<strong>低于</strong>信道的极限信息传输速率，就一定可以找到某种办法来实现无差错的传输</li>
</ul>
<h4 id="意义-1"><a href="#意义-1" class="headerlink" title="意义"></a>意义</h4><font color="blue">告诫工作人员，在实际有噪声的信道上，不论采用多么复杂的编码技术，都不可能突破信息传输速率的绝对极限</font>

<h3 id="常见的数字信号编码方式"><a href="#常见的数字信号编码方式" class="headerlink" title="常见的数字信号编码方式"></a>常见的数字信号编码方式</h3><p>调制包含<strong>基带调制</strong>和<strong>带通调制</strong>。编码的行为是基带调制，使用载波进行调制的是带通调制。其中基带调制有<strong>四种基本的编码</strong>，而带通调制有三种：<strong>调幅、调频、调相</strong>（载波是波嘛）</p>
<blockquote>
<p>编码的四种方式。基本概念，考选择</p>
</blockquote>
<p>不归零制：正电1，负电0</p>
<p>归零制：正脉冲1，负脉冲0</p>
<p>曼彻斯特编码：中心向上0，向下1</p>
<p>差分曼彻斯特编码：开始有跳变为0，没跳变为1</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217195313520.png" alt="image-20251217195313520"></p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><h5 id="信号频率"><a href="#信号频率" class="headerlink" title="信号频率"></a>信号频率</h5><ul>
<li>曼彻斯特和差分曼彻斯特编码比不归零制高</li>
</ul>
<h5 id="自同步能力"><a href="#自同步能力" class="headerlink" title="自同步能力"></a>自同步能力</h5><ul>
<li>不归零制不能从信号波形本身中提取信号时钟频率（自同步能力）</li>
<li>两曼有自同步能力</li>
</ul>
<h2 id="信道复用技术（必考，看教材p56）"><a href="#信道复用技术（必考，看教材p56）" class="headerlink" title="信道复用技术（必考，看教材p56）"></a><font color="red">信道复用技术（必考，看教材p56）</font></h2><blockquote>
<p>复用的几种方式  能够理解含义，进行比较优缺点。是本章最大的重点。其中还有CDMA工作原理，有关计算</p>
</blockquote>
<h3 id="复用"><a href="#复用" class="headerlink" title="复用"></a>复用</h3><p>相对于专用信道而言。允许用户使用高一个共享信道进行通信。</p>
<h3 id="频分复用（FDM）"><a href="#频分复用（FDM）" class="headerlink" title="频分复用（FDM）"></a>频分复用（FDM）</h3><ul>
<li>是<strong>最基本</strong>的</li>
<li>将<strong>整个带宽分为多份</strong>，用户在分配到一定的频带后，在通信过程中<strong><font color="red">自始至终</font></strong>都占用这个频带</li>
<li>所有用户在同样的时间占用<strong>不同</strong>的带宽（即频带）资源</li>
</ul>
<blockquote>
<p>​    这里的带宽是<strong>频率带宽</strong>而不是数据的发送速率</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217200452286.png" alt="image-20251217200452286" style="zoom:50%;"></p>
<p>可让 N 个用户各使用一个频带，或让更多的用户轮流使用这 N 个频带。这种方式称为频分多址接入 FDMA (Frequency Division Multiple Access)，简称为<strong>频分多址</strong>。</p>
<h3 id="时分复用（TDM）"><a href="#时分复用（TDM）" class="headerlink" title="时分复用（TDM）"></a>时分复用（TDM）</h3><ul>
<li>将时间划分为一段段等长的时分复用帧（TDM帧）</li>
<li>每一个时分复用的用户<strong><font color="blue">在每一个TDM帧中占用固定序号的</font> </strong><font color="red"><strong>时隙</strong></font></li>
<li>每一个用户所占用的时隙是<strong><font color="red">周期性</font></strong>地出现（其周期就是TDM帧地长度）的</li>
<li>TDM信号也成为<strong><font color="red">等时</font></strong>信号</li>
<li>所有用户在不同的时间占用<strong><font color="red">相同的</font></strong>频带宽度</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217201029575.png" alt="image-20251217201029575"></p>
<p>可让 N 个用户各使用一个时隙，或让更多的用户轮流使用这 N 个时隙。这种方式称为时分多址接入 TDMA (Time Division Multiple Access)，简称为<strong>时分多址</strong>。</p>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>当用户无数据发送的时候，分配给该用户的时隙就只能处于空闲状态。所以 <strong><font color="red">时分复用会导致信道利用率不高</font></strong></p>
<h3 id="统计时分复用（STDM）"><a href="#统计时分复用（STDM）" class="headerlink" title="统计时分复用（STDM）"></a>统计时分复用（STDM）</h3><p>STDM不是固定分配时隙，而是 <strong><font color="blue">按需动态地</font></strong> 分配时隙，因此可以提高线路的利用率</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217201516794.png" alt="image-20251217201516794"></p>
<ol>
<li>集中器按顺序依次将用户发的数据输入缓存，把缓存中的数据放入STDM帧中。对没有数据的帧就跳过去</li>
<li>当一个帧的数据放满了，就发送出去</li>
</ol>
<h4 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h4><ul>
<li>统计时分复用又称为 异步时分复用，普通地时分复用又称为 同步时分复用</li>
<li>虽然统计时分复用地输出线路上地数据率小于输入酰氯数据率地综合，但从平均地角度来看，这二者是平衡地。</li>
<li>由于STDM帧中地时隙并不是固定地分配给某个用户地，因此在每个时隙中还必须有用户的地址信息。图中输出线路每个时隙前还有一个短时隙放入这样的地址信息</li>
</ul>
<h3 id="波分复用"><a href="#波分复用" class="headerlink" title="波分复用"></a>波分复用</h3><p>光的频分复用。使用一根光纤来同时传输多个光载波信号</p>
<h3 id="码分复用"><a href="#码分复用" class="headerlink" title="码分复用"></a>码分复用</h3><ul>
<li>每一个用户可以在相同的时间使用相同的频带进行通信</li>
</ul>
<h4 id="CDMA工作原理"><a href="#CDMA工作原理" class="headerlink" title="CDMA工作原理"></a><font color="red">CDMA工作原理</font></h4><ul>
<li>每一个比特时间划分为m个短的间隔，称为 <strong><font color="blue">码片</font></strong> （chip）</li>
<li>为每个站指派一个 <font color="blue"><strong>唯一的</strong></font> m bit 码片序列<ul>
<li>发送比特1：发送自己的 m bit 码片序列</li>
<li>发送比特0：发送自己的 m bit 码片序列反码</li>
</ul>
</li>
</ul>
<h5 id="码片序列实现了扩频"><a href="#码片序列实现了扩频" class="headerlink" title="码片序列实现了扩频"></a>码片序列实现了扩频</h5><p>要发送信息的数据率 = b bit/s，实际发送的数据率 = mb bit/s，同时，所占用频带宽度也提高到原来的 m 倍。</p>
<h4 id="CDMA的重要特点"><a href="#CDMA的重要特点" class="headerlink" title="CDMA的重要特点"></a>CDMA的重要特点</h4><ul>
<li>每个站分配的码片序列：各不相同，且必须<strong><font color="blue">正交</font></strong></li>
<li><strong>任何一个码片向量和该码片向量自己的规格化内积都是1</strong></li>
<li><strong>一个码片向量和该码片反码的向量的规格化内积值是-1</strong></li>
</ul>
<h4 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h4><p>共有四个站进行码分多址CDMA通信，四个站的码片序列为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A：(-1  -1  -1  +1  +1  -1  +1  +1)</span><br><span class="line">B：(-1  -1  +1  -1  +1  +1  +1  -1)</span><br><span class="line">C：(-1  +1  -1  +1  +1  +1  -1  -1)</span><br><span class="line">D：(-1  +1  -1  -1  -1  -1  +1  -1)</span><br></pre></td></tr></table></figure>
<p>现有</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（-1  +1  -3  +1  -1  -3  +1  +1）</span><br></pre></td></tr></table></figure>
<p>问哪个站发送了数据？发送的是1还是0？</p>
<blockquote>
<p>解法一：A、B、C、D分别与接受信息求内积，得到的正数越大说明发送了越多的1，得到0说明没发，得到负数越小说明发送了越多的-1。这里求内积分别得到8，-8，0，8，说明ABD发了数据，A和D发的是1，B发的是0。</p>
<p>解法二：找到最大的数字：3，还存在1，所以不止一个。再次尝试枚举后，发现至少得三个站，然后再枚举尝试…这个比较简单枚举出来挺快的</p>
</blockquote>
<hr>
<h1 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h1><h2 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h2><blockquote>
<p>什么是帧   物理/逻辑链路 </p>
</blockquote>
<h3 id="数据链路和帧"><a href="#数据链路和帧" class="headerlink" title="数据链路和帧"></a>数据链路和帧</h3><h4 id="链路"><a href="#链路" class="headerlink" title="链路"></a>链路</h4><ul>
<li><strong><font color="blue">物理链路</font></strong></li>
<li>一条无源的点到点的物理线路段，中间没有任何其他的交换系欸但</li>
<li>一条链路只是一条通路的一个组成部分</li>
</ul>
<h4 id="数据链路"><a href="#数据链路" class="headerlink" title="数据链路"></a>数据链路</h4><ul>
<li><font color="blue">**逻辑链路**</font></li>
<li>把实现控制数据传输的协议的硬件和软件加到链路上</li>
</ul>
<h4 id="帧"><a href="#帧" class="headerlink" title="帧"></a>帧</h4><ul>
<li><strong>数据链路层协议数据单元</strong></li>
</ul>
<h2 id="三个基本问题"><a href="#三个基本问题" class="headerlink" title="三个基本问题"></a>三个基本问题</h2><blockquote>
<p>解决的三个基本问题   帧的长度的约束因素  如何实现透明传输（字符/字节）</p>
</blockquote>
<h3 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h3><ul>
<li>在一段数据的前后分别添加首部和尾部，构成一个帧。</li>
<li>首部和尾部的一个重要作用就是进行<strong><font color="blue">帧定界</font></strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217205045459.png" alt="image-20251217205045459"></p>
<blockquote>
<p>其中MTU指<font color="red">最大传送单元</font></p>
</blockquote>
<h4 id="用控制字符作为帧定界符"><a href="#用控制字符作为帧定界符" class="headerlink" title="用控制字符作为帧定界符"></a>用控制字符作为帧定界符</h4><ul>
<li>控制字符SOH（Start Of Header）放在一帧的最前面，表示帧的首部开始</li>
<li>控制字符EOT（End Of Transmission）放在一帧的末尾，表示帧的结束</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217205418050.png" alt="image-20251217205418050"></p>
<h3 id="透明传输"><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h3><blockquote>
<p>问题引入：如果数据中的某个字节的二进制代码恰好和 SOH 或 EOT意义，数据链路层就会 错误 地找到帧的边界。类比一下蛋白质</p>
</blockquote>
<p>用字节填充或字符填充可以解决早期的ASCII码传输的问题</p>
<h4 id="字节填充"><a href="#字节填充" class="headerlink" title="字节填充"></a>字节填充</h4><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217210036516.png" alt="image-20251217210036516"></p>
<p>SOH和EOT作为开始和结束定界符，在内容中出现需要转义。我们使用ESC作为转义符，所以转义符本身也是一个特殊符号。</p>
<p>实际实现中，发送方内容中一旦出现SOH、EOT、ESC就在前面加上一个ESC，接收方一旦得到ESC就丢掉。</p>
<h4 id="零比特填充"><a href="#零比特填充" class="headerlink" title="零比特填充"></a>零比特填充</h4><p><a href="#tra">跳转</a></p>
<h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><blockquote>
<p>差错控制并没有实现可靠传输。<strong>可靠传输指的是：数据链路层的发送端发送什么，在接收端就收到什么</strong></p>
<p>传输差错可以分为：比特差错；帧丢失、帧重复、帧失序+</p>
</blockquote>
<p>误码率BER：传输错误的比特占所传输比特总数的比率</p>
<h4 id="CRC循环冗余检验"><a href="#CRC循环冗余检验" class="headerlink" title="CRC循环冗余检验"></a>CRC循环冗余检验</h4><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251217210542391.png" alt="image-20251217210542391"></p>
<blockquote>
<p>二进制除法就是异或。相同为0，不相同为1</p>
</blockquote>
<p>这种为了进行检错而添加的冗余码常称为 <strong><font color="blue">帧检验序列 FCS</font></strong>（也就是说 （M concat 0..0） / P 的余数 ）</p>
<ul>
<li>CRC是一种检错方法，FCS是添加在数据后面的冗余码</li>
<li><p>FCS可以用CRC得出，但CRC并非用来获得FCS的唯一方法</p>
</li>
<li><p>CTC只能做到 <strong><font color="red">无差错接受</font></strong>，也就是说只能检测出有错，而不知道哪里错。所以并不是可靠传输</p>
</li>
</ul>
<blockquote>
<p>区分<strong>无比特差错</strong>和<strong>无传输差错</strong>。链路层可以实现无比特差错，但是由传输层实现无传输差错（帧丢失、帧重复等等）</p>
</blockquote>
<h5 id="余数的多项式表达方法"><a href="#余数的多项式表达方法" class="headerlink" title="余数的多项式表达方法"></a>余数的多项式表达方法</h5><p>CRC-16 = $X^{16} +X^{15} + X^2 + 1$ </p>
<p>等价于一个十七位的二进制数：1 10000000 00000101，除完后得到16位FCS</p>
<h2 id="点对点协议PPP"><a href="#点对点协议PPP" class="headerlink" title="点对点协议PPP"></a>点对点协议PPP</h2><blockquote>
<p>PPP协议基本概念，如何引入的CSMA/CD</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230080556346.png" alt="image-20251230080556346"></p>
<h3 id="PPP协议的帧格式（封装成帧）"><a href="#PPP协议的帧格式（封装成帧）" class="headerlink" title="PPP协议的帧格式（封装成帧）"></a>PPP协议的帧格式（封装成帧）</h3><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230080707946.png" alt="image-20251230080707946" style="zoom:67%;"></p>
<p>其MTU是1500B</p>
<h3 id="PPP的透明传输"><a href="#PPP的透明传输" class="headerlink" title="PPP的透明传输"></a>PPP的透明传输</h3><div class="table-container">
<table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>异步传输 (Asynchronous)</strong></th>
<th><strong>同步传输 (Synchronous)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>传输单位</strong></td>
<td>以<strong>字符（字节）</strong>为单位</td>
<td>以<strong>比特流</strong>为单位</td>
</tr>
<tr>
<td><strong>同步方式</strong></td>
<td>依靠起始位和停止位（Start/Stop bits）</td>
<td>依靠统一的<strong>外部时钟信号</strong></td>
</tr>
<tr>
<td><strong>数据间隔</strong></td>
<td>字节间的间隔时间不固定</td>
<td>比特流是连续的，间隔固定且紧凑</td>
</tr>
<tr>
<td><strong>透明传输手段</strong></td>
<td><strong>字符填充</strong> (Byte Stuffing)</td>
<td><strong>零比特填充</strong> (Bit Stuffing)</td>
</tr>
<tr>
<td><strong>应用场景</strong></td>
<td>传统的拨号调制解调器（Modem）</td>
<td>专线、光纤链路（如 SONET/SDH）</td>
</tr>
</tbody>
</table>
</div>
<h4 id="字节填充（异步传输）"><a href="#字节填充（异步传输）" class="headerlink" title="字节填充（异步传输）"></a>字节填充（异步传输）</h4><font color="red">**7D填充再异或**</font>

<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230080814887.png" alt="image-20251230080814887" style="zoom:67%;"></p>
<p>这里有两个符号：<strong>帧定界符</strong>（0x7E）、<strong>转义符</strong>（0x7D）</p>
<ul>
<li><h5 id="如果出现0x7E"><a href="#如果出现0x7E" class="headerlink" title="如果出现0x7E"></a>如果出现0x7E</h5><ul>
<li>先填入转义字符，再将<code>0x7E</code>与<code>0x20</code>做异或，最后填入异或结果0x5E</li>
</ul>
</li>
<li><h5 id="如果出现0x7D"><a href="#如果出现0x7D" class="headerlink" title="如果出现0x7D"></a>如果出现0x7D</h5><ul>
<li>先填入转义字符，再将<code>0x7D</code>与<code>0x20</code>做异或，最后填入异或结果0x5D</li>
</ul>
</li>
<li><h5 id="如果出现控制字符（-lt-0x20）"><a href="#如果出现控制字符（-lt-0x20）" class="headerlink" title="如果出现控制字符（&lt;0x20）"></a>如果出现控制字符（&lt;0x20）</h5><ul>
<li>先填入转义字符，再将<code>0x03</code>与<code>0x20</code>做异或，最后填入异或结果0x23 </li>
</ul>
</li>
</ul>
<blockquote>
<p>0x20在ASCII码中对应的是空格。与之异或相当于将该字节的<strong>第 6 位（从右往左数）取反</strong>。</p>
</blockquote>
<h4 id="零比特填充（同步传输）"><a href="#零比特填充（同步传输）" class="headerlink" title="零比特填充（同步传输）"></a>零比特填充（同步传输）</h4><p><a id="tra"></a></p>
<p>帧界定符是：01111110。所以<font color="red"><strong>遇到五个1插入一个0</strong></font></p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230082400543.png" alt="image-20251230082400543" style="zoom:67%;"></p>
<h2 id="CSMA-CD"><a href="#CSMA-CD" class="headerlink" title="CSMA/CD"></a>CSMA/CD</h2><blockquote>
<p>CSMA/CD的所有细节（存在问题，cs、ma、cd含义，工作过程，流程图的每一个细节）</p>
</blockquote>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>然而PPP协议只支持两个主机之间的通信，无法满足局域网中的广播功能。</p>
<p>所以最早开始我们将多个主机连接到一条总线上，当且仅当<strong>帧首部的目的地址</strong>和<strong>适配器硬件地址一致</strong>时，才接受这个帧</p>
<p><img src="../../AppData/Roaming/Typora/typora-user-images/image-20251230090317193.png" alt="image-20251230090317193" style="zoom:67%;"></p>
<p>但是这样存在问题：多个站点同时发送时，会产生发送碰撞或冲突，导致发送失败。对此以太网采取了两种重要措施</p>
<ul>
<li>采用较为灵活的无连接的工作方式<ul>
<li>不先建立连接，不编号（不可靠）</li>
<li>同一时间只能允许一台计算机发送</li>
</ul>
</li>
<li>发送的数据都使用曼彻斯特编码<ul>
<li>导致所占带宽比原始基带信号增加了一倍</li>
<li>曼彻斯特编码使得信号特征非常明显，网卡通过检测线路上电压幅度的异常增加或相位冲突，可以极快地判定“撞车”了。</li>
</ul>
</li>
</ul>
<h3 id="CSMA-CD-协议的要点"><a href="#CSMA-CD-协议的要点" class="headerlink" title="CSMA/CD 协议的要点"></a>CSMA/CD 协议的要点</h3><p><strong>CS</strong>：载波监听。即“边发送边监听”。不管在想要发送数据之前，还是在发送数据之中，每个站都必须<strong>不停地检测信道</strong></p>
<p><strong>MA</strong>：多点接入。说明这是总线型网络。许多计算机以多点接入地方式连接在一根总线上。</p>
<p><strong>CD</strong>：碰撞检测。适配器边发送数据，边检测信道上的信号电压的变化情况。电压摆动值超过一定的门限值时，就认为总线上至少有两个站在同时发送数据，表明产生了碰撞（或冲突）</p>
<h3 id="总流程"><a href="#总流程" class="headerlink" title="总流程"></a>总流程</h3><p><strong><font color="red">先听后发、边听边发、冲突停发、随机重发</font></strong></p>
<p><img src="../../AppData/Roaming/Typora/typora-user-images/image-20251230094424503.png" alt="image-20251230094424503" style="zoom:67%;"></p>
<h4 id="发送前监听"><a href="#发送前监听" class="headerlink" title="发送前监听"></a>发送前监听</h4><p>等待96bit时间，如果空闲就开始发送该帧；如果信道忙就持续检测直到信道空闲</p>
<blockquote>
<p>对于10Mbit的以太网来说，就是9.6微秒</p>
</blockquote>
<h4 id="发送时监听"><a href="#发送时监听" class="headerlink" title="发送时监听"></a>发送时监听</h4><ul>
<li><strong>发送成功</strong>：争用期（2$\tau$）内一直未检测到冲突，该帧一定发送成功</li>
<li><strong>发送失败</strong>：争用期（2$\tau$）内检测到冲突<ul>
<li>立即停止发送</li>
<li>广播碰撞通知信息<ul>
<li>这个时候发送人为干扰信号（32或48比特）来强化冲突</li>
</ul>
</li>
<li>执行指数退避算法</li>
</ul>
</li>
</ul>
<h4 id="截断二进制指数退避"><a href="#截断二进制指数退避" class="headerlink" title="截断二进制指数退避"></a>截断二进制指数退避</h4><ol>
<li>确定<strong>基本退避时间 t</strong>：一般是争用期  2$\tau$</li>
<li>定义<strong>重传次数 k</strong>：$k= Min(重传次数，10)$</li>
<li>得到<strong>重传时间 r</strong>：$r = random(0,1,2,…,(2^k-1)) * t$</li>
</ol>
<h5 id="例题-1"><a href="#例题-1" class="headerlink" title="例题"></a>例题</h5><h6 id="书上3-25"><a href="#书上3-25" class="headerlink" title="书上3-25"></a>书上3-25</h6><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/1768214465245.png" alt="1768214465245" style="zoom: 80%;"></p>
<p>几个关键点：</p>
<ul>
<li>发数据前要等待96bit时间来确定信道空闲</li>
<li><font color="red">**从发完干扰信息后，开始计时退避时间。**</font>

</li>
</ul>
<h4 id="争用期"><a href="#争用期" class="headerlink" title="争用期"></a>争用期</h4><p>对于 <strong>10Mbit/s</strong> 的以太网而言，争用期的长度为 <strong>51.2$\mu s$</strong>，也就是说<strong>512bit时间</strong>，即<strong>64B 时间</strong></p>
<p>所以太网在发送数据的时候，若前64字节没有发生冲突，则后续的数据就不会发生冲突</p>
<p>故以太网规定了 <strong>最短有效帧长为64字节</strong>。凡长度小于64字节的帧都是由于冲突而异常中止的无效帧，应当立即将其丢弃。</p>
<h5 id="影响帧最短长度的因素"><a href="#影响帧最短长度的因素" class="headerlink" title="影响帧最短长度的因素"></a>影响帧最短长度的因素</h5><p>在上述 Ethernet Ⅱ中，我们计算的最小帧长度的公式是：</p>
<script type="math/tex; mode=display">
MTU = 2 \times \tau \times 带宽
\\
= 2 \times \frac{距离}{传播速率} \times 带宽</script><p>实际做题中，传播速率一般不会变化。我们一般有：<strong>MTU减少多少，距离如何变</strong>；或者是简单的已知推未知</p>
<p>对于<strong>MTU减少多少，距离如何变</strong>这种，我们可以以此计算：<font color="red">减少的往返时间 = 减少的发送时延</font></p>
<h2 id="以太网的MAC层"><a href="#以太网的MAC层" class="headerlink" title="以太网的MAC层"></a>以太网的MAC层</h2><p>适配器收到的发往本站的帧主要有以下三类：</p>
<ul>
<li><strong>单播帧</strong>：一对一。即收到的帧的MAC地址和本站的MAC地址相同</li>
<li><strong>广播帧</strong>：一对全体。即发送给本局域网上所有站点的帧（全1地址）</li>
<li><strong>多播帧</strong>：一对多。即发送给本局域网上一部分站点的帧</li>
</ul>
<h4 id="MAC帧的格式"><a href="#MAC帧的格式" class="headerlink" title="MAC帧的格式"></a>MAC帧的格式</h4><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260113210809317.png" alt></p>
<h2 id="集线器与交换机"><a href="#集线器与交换机" class="headerlink" title="集线器与交换机"></a>集线器与交换机</h2><blockquote>
<p>集线器交换机的区别（带宽方面，交换机并行）</p>
</blockquote>
<h3 id="集线器"><a href="#集线器" class="headerlink" title="集线器"></a>集线器</h3><h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ul>
<li>用电子器件来模拟实际电缆线的工作。系统仍然像一个<font color="blue">传统的以太网</font></li>
<li>使用集线器的以太网<font color="blue">在逻辑上仍是一个总线网</font>，各工作站使用的还是 CSMA/CD协议，并共享逻辑上的总线</li>
<li>像一个多接口的转发器，工作在<strong>物理层</strong></li>
</ul>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul>
<li>使原来属于不同碰撞域的计算机能够<strong>跨碰撞域通信</strong></li>
<li>扩大了以太网覆盖的地理范围</li>
</ul>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li><strong><font color="red">碰撞域增大了，总的吞吐量未提高</font></strong></li>
<li>如果使用不同的以太网技术，那么就不能用集线器将它们互联起来</li>
</ul>
<h3 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h3><h4 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h4><ul>
<li>工作在<strong>数据链路层</strong></li>
<li><strong><font color="red">多端口的网桥</font></strong>。网桥根据MAC帧的目的地址对收到的帧进行转发和过滤。</li>
<li>每个接口都直接与一个单台主机或另一个以太网交换机相连，并且一般工作在<strong><font color="red">全双工</font></strong>方式</li>
<li>具有<strong><font color="red">并行性</font></strong><ul>
<li>能同时连通多对接口，使多对主机能同时通信</li>
<li>相互通信的主机都独占传输媒体，无碰撞地传输数据</li>
<li><font color="blue">每一个端口和连接到端口的主机构成了一个碰撞域</font></li>
</ul>
</li>
<li>接口有存储器</li>
<li>即插即用。其内部的帧交换表（地址表）通过<strong>自学习算法</strong>自动地主键建立起来</li>
</ul>
<h4 id="自学习算法"><a href="#自学习算法" class="headerlink" title="自学习算法"></a>自学习算法</h4><p>以太网交换机是一种即插即用设备，其内部的帧交换表（又称为地址表）是通过自学习算法自动的逐渐建立起来的。实际上，这种交换表就是一个内容可寻址存储器CAM。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/922f9dfe4e787b6561d72bfd8b55373e.jpg" style="zoom:67%;"></p>
<p>这里如果A先向B发送1帧：</p>
<ol>
<li>从端口1进入交换机</li>
<li>交换机查找表中有没有B的地址</li>
<li>没有，于是交换机把源地址 A  和端口 1 写入交换表中</li>
<li>向除了端口1以外的端口广播这个帧，此时C、D会过滤这个帧</li>
</ol>
<p>接着 B 通过端口3 向A发送1帧</p>
<ol>
<li>从端口3进入交换机</li>
<li>交换机查找表</li>
<li>发现有地址A，所以从端口1转发出去</li>
<li>最后将（B，3）写入帧交换表</li>
</ol>
<h5 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/027796315228f0f0d25c57277890eea5.jpg" alt="027796315228f0f0d25c57277890eea5" style="zoom: 33%;"></p>
<p>比如这里A发B，由于广播导致兜圈子。我们采用<strong>生成树协议（STP</strong>），不改变网络的实际拓扑，在逻辑上切断某些链路，使得一台主机到所有其他主机的路径是<strong>无环路的树状结构</strong></p>
<h4 id="优点（重点）"><a href="#优点（重点）" class="headerlink" title="优点（重点）"></a>优点（重点）</h4><ul>
<li>每个用户独享带宽，增加了总容量。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230140724311.png" alt="image-20251230140724311" style="zoom:67%;"></p>
<h2 id="碰撞域和冲突域"><a href="#碰撞域和冲突域" class="headerlink" title="碰撞域和冲突域"></a>碰撞域和冲突域</h2><ul>
<li>碰撞域（collision domain）又称为冲突域，指网络中一个站点发出的帧会与其他站点发出的帧产生碰撞或冲突的那部分网络。</li>
<li>碰撞域越大，发生碰撞的概率越高。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230132925708.png" alt="image-20251230132925708" style="zoom:67%;"></p>
<p>通过用多个集线器我们可以连城更大的以太网</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230135923258.png" alt="image-20251230135923258" style="zoom:67%;"></p>
<hr>
<h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h1><h2 id="网络提供的两种服务"><a href="#网络提供的两种服务" class="headerlink" title="网络提供的两种服务"></a>网络提供的两种服务</h2><h4 id="让网络负责可靠交付——虚电路服务"><a href="#让网络负责可靠交付——虚电路服务" class="headerlink" title="让网络负责可靠交付——虚电路服务"></a>让网络负责可靠交付——虚电路服务</h4><p>面向连接地可靠交付</p>
<h4 id="网络提供数据报服务——数据报服务"><a href="#网络提供数据报服务——数据报服务" class="headerlink" title="网络提供数据报服务——数据报服务"></a>网络提供数据报服务——数据报服务</h4><p>无连接地、尽最大努力交付地数据报服务，不提供服务质量地承诺</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230141807319.png" alt="image-20251230141807319" style="zoom: 67%;"></p>
<h2 id="网络层两个层面（数据、控制）"><a href="#网络层两个层面（数据、控制）" class="headerlink" title="网络层两个层面（数据、控制）"></a>网络层两个层面（数据、控制）</h2><p>在路由器之间传送的信息有以下两大类：数据、路由信息</p>
<h3 id="数据层面"><a href="#数据层面" class="headerlink" title="数据层面"></a>数据层面</h3><ul>
<li>路由表根据本路由器生成的<strong>转发表</strong>，把收到的分组从查找到的对应接口<strong>转发</strong>出去</li>
<li><strong>独立</strong>工作</li>
<li>采用<strong>硬件</strong>进行转发，快</li>
</ul>
<h3 id="控制层面"><a href="#控制层面" class="headerlink" title="控制层面"></a>控制层面</h3><ul>
<li>根据路由选择协议所用的路由算法<strong>计算路由</strong>，创建出本路由器的<strong>路由表</strong></li>
<li>许多路由器<strong>协同</strong>动作</li>
<li>采用<strong>软件</strong>计算，慢</li>
</ul>
<h2 id="IPv4三个配套协议（基本概念）"><a href="#IPv4三个配套协议（基本概念）" class="headerlink" title="IPv4三个配套协议（基本概念）"></a>IPv4三个配套协议（基本概念）</h2><h3 id="地址解析协议-ARP（要知道工作过程）"><a href="#地址解析协议-ARP（要知道工作过程）" class="headerlink" title="地址解析协议 ARP（要知道工作过程）"></a>地址解析协议 ARP（要知道工作过程）</h3><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><p>从IP地址解析处MAC地址</p>
<h4 id="ARP高速缓存"><a href="#ARP高速缓存" class="headerlink" title="ARP高速缓存"></a>ARP高速缓存</h4><ul>
<li>存放IP地址到MAC地址的映射表</li>
<li>映射表动态更新</li>
<li>格式：<IP地址；MAC地址；生存时间；类型\></IP地址；MAC地址；生存时间；类型\></li>
</ul>
<h4 id="ARP工作"><a href="#ARP工作" class="headerlink" title="ARP工作"></a>ARP工作</h4><h5 id="同一局域网内两主机"><a href="#同一局域网内两主机" class="headerlink" title="同一局域网内两主机"></a>同一局域网内两主机</h5><p><strong><font color="red">有缓存</font></strong>，<strong><font color="red">直接取</font></strong>，写入MAC的目的地址</p>
<p><strong><font color="red">无缓存</font></strong>，本局域网上A<strong><font color="red">广播发</font></strong>ARP请求（请求包含A的IP，MAC，B的IP），B更新ARP高速缓存并<strong><font color="red">单播回</font></strong>应（B的MAC），然后A更新高速缓存</p>
<h5 id="不同局域网"><a href="#不同局域网" class="headerlink" title="不同局域网"></a>不同局域网</h5><p>A通过上述过程得到路由器R的MAC并把IP数据报交给R，剩下工作交给R，R通过上述过程得到B的MAC地址，或者是下一个路由器R2的MAC地址。</p>
<h3 id="网际控制报文协议-ICMP"><a href="#网际控制报文协议-ICMP" class="headerlink" title="网际控制报文协议 ICMP"></a>网际控制报文协议 ICMP</h3><h4 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h4><p>允许主机或路由器<strong><font color="red">报告差错</font></strong>情况或提供有关异常情况的报告</p>
<h4 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"><strong>ICMP</strong>  <strong>报文种类</strong></th>
<th style="text-align:center"><strong>类型的值</strong></th>
<th style="text-align:center">ICMP报文的类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>差错报告报文</strong></td>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>终点不可达</strong></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><strong>11</strong></td>
<td style="text-align:center"><strong>时间超过</strong></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><strong>12</strong></td>
<td style="text-align:center"><strong>参数问题</strong></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>改变路由（Redirect）</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>询问报文</strong></td>
<td style="text-align:center"><strong>8</strong> <strong>或</strong>  <strong>0</strong></td>
<td style="text-align:center"><strong>回送</strong> <strong>(Echo)</strong>  <strong>请求或回答</strong></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><strong>13</strong> <strong>或</strong>  <strong>14</strong></td>
<td style="text-align:center"><strong>时间戳</strong> <strong>(Timestamp)</strong>  <strong>请求或回答</strong></td>
</tr>
</tbody>
</table>
</div>
<h4 id="引用举例"><a href="#引用举例" class="headerlink" title="引用举例"></a>引用举例</h4><p>PING、Traceroute</p>
<h3 id="网际组管理协议-IGMP"><a href="#网际组管理协议-IGMP" class="headerlink" title="网际组管理协议 IGMP"></a>网际组管理协议 IGMP</h3><p>使多播路由器知道多播组成员信息</p>
<p>IGMP 协议是让连接在本地局域网上的多播路由器知道本局域网上是否有主机参加或退出了某个多播组。IGMP 不知道 IP 多播组包含的成员数，也不知道这些成员都分布在哪些网络上。</p>
<h2 id="跳的含义"><a href="#跳的含义" class="headerlink" title="跳的含义"></a>跳的含义</h2><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230143450520.png" alt="image-20251230143450520" style="zoom:50%;"></p>
<h2 id="4-2-2-IP地址（所有）"><a href="#4-2-2-IP地址（所有）" class="headerlink" title="4.2.2 IP地址（所有）"></a>4.2.2 IP地址（所有）</h2><h3 id="IP地址及其表示方法"><a href="#IP地址及其表示方法" class="headerlink" title="IP地址及其表示方法"></a>IP地址及其表示方法</h3><p>IP地址在整个互联网范围内是唯一的，指明了连接到某个网络上的一个主机</p>
<h4 id="采用二级结构：网络号，主机号"><a href="#采用二级结构：网络号，主机号" class="headerlink" title="采用二级结构：网络号，主机号"></a>采用二级结构：网络号，主机号</h4><h5 id="网络号"><a href="#网络号" class="headerlink" title="网络号"></a>网络号</h5><p>标志主机（或路由器）所连接到的网络，一个网络号在整个互联网范围内必须是唯一的。</p>
<h5 id="主机号"><a href="#主机号" class="headerlink" title="主机号"></a>主机号</h5><p>标志网络中的主机（或路由器），一个主机号在它前面的网络号所指明的网络范围内必须是唯一的</p>
<h3 id="分类的IP地址"><a href="#分类的IP地址" class="headerlink" title="分类的IP地址"></a>分类的IP地址</h3><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230144431771.png" alt="image-20251230144431771" style="zoom: 57%;"></p>
<p><img src="../../AppData/Roaming/Typora/typora-user-images/image-20251230144608170.png" alt="image-20251230144608170" style="zoom: 53%;"></p>
<h4 id="特殊的IP地址"><a href="#特殊的IP地址" class="headerlink" title="特殊的IP地址"></a>特殊的IP地址</h4><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230144959112.png" alt="image-20251230144959112" style="zoom:67%;"></p>
<p>网络号全0：默认路由或非特定网络</p>
<h3 id="无分类编制CIDR（重点）"><a href="#无分类编制CIDR（重点）" class="headerlink" title="无分类编制CIDR（重点）"></a>无分类编制CIDR（重点）</h3><p>无分类域间路由选择，能更加有效地分配IPv4的地址空间，但无法解决IP地址枯竭的问题。</p>
<p>CIDR的作用是将不同的子网汇聚成一个超网</p>
<h5 id="网络前缀"><a href="#网络前缀" class="headerlink" title="网络前缀"></a>网络前缀</h5><p>略</p>
<h5 id="地址块"><a href="#地址块" class="headerlink" title="地址块"></a>地址块</h5><p>把网络前缀都相同的所有连续的IP地址组成一个CIDR地址块。此时这个地址块的IP地址数目（主机数）为$2^{(32-n)}-2$ 个</p>
<h5 id="地址掩码"><a href="#地址掩码" class="headerlink" title="地址掩码"></a>地址掩码</h5><p>IP地址 AND 地址掩码 = 网络地址</p>
<h5 id="三个特殊的CIDR地址块"><a href="#三个特殊的CIDR地址块" class="headerlink" title="三个特殊的CIDR地址块"></a>三个特殊的CIDR地址块</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20251230150424256.png" alt="image-20251230150424256" style="zoom:67%;"></p>
<h3 id="IP地址的特点"><a href="#IP地址的特点" class="headerlink" title="IP地址的特点"></a>IP地址的特点</h3><ul>
<li><h5 id="每个IP地址由两部分组成"><a href="#每个IP地址由两部分组成" class="headerlink" title="每个IP地址由两部分组成"></a>每个IP地址由两部分组成</h5><ul>
<li>IP地址是一种分等级的地址结构<ul>
<li>方便了IP地址的分配和管理</li>
<li>实现路由聚合</li>
</ul>
</li>
</ul>
</li>
<li><h5 id="标志一台主机和一条链路的接口"><a href="#标志一台主机和一条链路的接口" class="headerlink" title="标志一台主机和一条链路的接口"></a>标志一台主机和一条链路的接口</h5><ul>
<li>一台主机在两个网络上时，也会有两个IP地址，这种叫多归属主机</li>
<li>一个路由器至少应当连接到两个网络，所以一个路由器至少有两个IP地址</li>
</ul>
</li>
<li><h5 id="转发器或交换机连接起来的若干个局域网仍为一个网络"><a href="#转发器或交换机连接起来的若干个局域网仍为一个网络" class="headerlink" title="转发器或交换机连接起来的若干个局域网仍为一个网络"></a>转发器或交换机连接起来的若干个局域网仍为一个网络</h5><ul>
<li>一个网络是指具有相同网络前缀的主机的集合。转发器或交换机连接起来的若干个局域网都具有相同的网络号</li>
<li>具有不同网络号的局域网必须使用路由器进行互连</li>
</ul>
</li>
<li><h5 id="所有分配到网络前缀的网络都是平等的"><a href="#所有分配到网络前缀的网络都是平等的" class="headerlink" title="所有分配到网络前缀的网络都是平等的"></a>所有分配到网络前缀的网络都是平等的</h5></li>
</ul>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li>同一个局域网上的<font color="red">主机</font>或<font color="red">路由器（端口）</font>的IP地址中的网络号必须一样</li>
<li>IP源地址和目的地址在转发过程中不变，但是MAC的源和目的地址一直在变化（除了首尾）</li>
</ul>
<h3 id="IP数据报的格式"><a href="#IP数据报的格式" class="headerlink" title="IP数据报的格式"></a>IP数据报的格式</h3><p>IP首部如果不扩展就是   <strong><font color="red">20字节</font></strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107204926861.png" alt="image-20260107204926861" style="zoom:67%;"></p>
<ul>
<li>版本：4 或者 6</li>
<li>首部长度：4位，每一位表示  <strong><font color="red">4B</font></strong>    ，所以IP<strong>首部最大值是   60字节（并且是4的倍数）</strong></li>
<li>区分服务：8位</li>
<li>总长度：16位，所以IP数据报最大长度 65535B（MTU）</li>
<li>标识：16位，identification，计数器，也可以看成序列号</li>
<li>标志：3位，主要前两位有意义：MF、DF</li>
<li>片偏移：13位，每一位表示<font color="red"> <strong>8B</strong></font>。（<strong>分片的数据长度必须为8的整数</strong>）（因为片偏移比总长度少了3位）</li>
<li>生存时间：8位，TTL，可通过的路由器的最大值，最大跳数</li>
<li>协议：8位，比如说ICMP什么的</li>
<li>首部校验和：16位，只检测首部不检测数据</li>
<li>源地址：32位</li>
<li>目的地址：32位</li>
</ul>
<h4 id="分片例子"><a href="#分片例子" class="headerlink" title="分片例子"></a>分片例子</h4><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107205714713.png" alt="image-20260107205714713" style="zoom: 67%;"></p>
<p>并且分片的标识（identification）和没分片的一样</p>
<h3 id="IP转发分组的过程"><a href="#IP转发分组的过程" class="headerlink" title="IP转发分组的过程"></a>IP转发分组的过程</h3><h4 id="基于终点的转发"><a href="#基于终点的转发" class="headerlink" title="基于终点的转发"></a>基于终点的转发</h4><h5 id="转发表"><a href="#转发表" class="headerlink" title="转发表"></a>转发表</h5><p>&lt;目的<strong><font color="red">网络</font></strong>地址，下一跳地址></p>
<h5 id="转发表中的两种特殊路由"><a href="#转发表中的两种特殊路由" class="headerlink" title="转发表中的两种特殊路由"></a>转发表中的两种特殊路由</h5><ul>
<li>主机路由<ul>
<li>网络前缀是a.b.c.d/32</li>
<li>是对特定目的主机的IP地址专门指定的一个路由</li>
</ul>
</li>
<li>默认路由<ul>
<li>网络前缀是0.0.0.0/0</li>
<li>作为一个兜底机制</li>
</ul>
</li>
</ul>
<h5 id="转发过程（必考）"><a href="#转发过程（必考）" class="headerlink" title="转发过程（必考）"></a><font color="red">转发过程（必考）</font></h5><ul>
<li>主机H1检查目的地址<font color="blue">是否连接在本网络上</font>（<strong><font color="green">和子网掩码按位与得到网络地址</font></strong>）<ul>
<li>如果是，则直接交付</li>
<li>如果不是，交给路由器R1</li>
</ul>
</li>
<li>路由器R1<font color="blue">收到分组后查找转发表</font>，从第一行开始</li>
</ul>
<h4 id="最长前缀匹配"><a href="#最长前缀匹配" class="headerlink" title="最长前缀匹配"></a>最长前缀匹配</h4><h5 id="最长前缀匹配原则"><a href="#最长前缀匹配原则" class="headerlink" title="最长前缀匹配原则"></a>最长前缀匹配原则</h5><p>选择前缀最长的一个作为匹配的前缀。需要把前缀最长的排在转发表的第一行，以加快查表</p>
<h4 id="前缀二叉线索树（原理、如何加速）"><a href="#前缀二叉线索树（原理、如何加速）" class="headerlink" title="前缀二叉线索树（原理、如何加速）"></a>前缀二叉线索树（原理、如何加速）</h4><h5 id="二叉线索树结构"><a href="#二叉线索树结构" class="headerlink" title="二叉线索树结构"></a>二叉线索树结构</h5><ul>
<li>从根节点自顶向下最多32层，每一层对应IP地址的一位</li>
<li>使用唯一前缀来构造二叉线索</li>
<li>广泛使用了各种压缩技术</li>
</ul>
<h5 id="加速原理"><a href="#加速原理" class="headerlink" title="加速原理"></a>加速原理</h5><ul>
<li><p>减少比较次数：最多只需要32次位操作</p>
</li>
<li><p>自动实现最长前缀匹配</p>
</li>
<li>路径压缩：共同部分（如都已101..开头，且中间5位没有其他变化），二叉线索数可以将这些节点压缩成一条路径，跳过了不必要的中间判断</li>
</ul>
<h5 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107214545990.png" alt="image-20260107214545990" style="zoom:67%;"></p>
<p>我们先检查IP地址左边的第一位，如果为0，则第一层的节点在根节点左下方。。。直到找到叶节点</p>
<p>如果找到一个叶节点</p>
<ul>
<li>将目的IP地址和该叶节点的子网掩码进行按位与运算</li>
<li>如果结果和叶节点的网络前缀匹配，就按吓一跳的接口转发该分组。否则丢弃</li>
</ul>
<p>如果在分支里发现不存在的字符</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107215011527.png" alt="image-20260107215011527" style="zoom:67%;"></p>
<ul>
<li>查到第三个字符0的时候，发现找不到匹配的，说明这个地址不在这个二叉线索中</li>
<li>检查是否存在默认路由。有就丢给默认。没有就丢了</li>
</ul>
<h2 id="三个路由协议（原理，能比较，给出场景选协议）"><a href="#三个路由协议（原理，能比较，给出场景选协议）" class="headerlink" title="三个路由协议（原理，能比较，给出场景选协议）"></a>三个路由协议（原理，能比较，给出场景选协议）</h2><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107220459463.png" alt="image-20260107220459463" style="zoom:33%;"></p>
<blockquote>
<p>每种协议维持什么表、表内什么信息、和谁交换、如何交换、什么频率交换、如何更新</p>
<p>RIP和OSPF横向对比</p>
<p>三种协议使用的网络协议</p>
<p>泛洪法和普通广播有什么不同</p>
<p>RIP频率：状态变化或30min。OSPF频率</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>项目</th>
<th><strong>RIP</strong></th>
<th><strong>OSPF</strong></th>
<th><strong>BGP</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>封装协议</strong></td>
<td>UDP</td>
<td>IP</td>
<td>TCP</td>
</tr>
<tr>
<td><strong>传播方式</strong></td>
<td>逐跳</td>
<td>泛洪</td>
<td>TCP 会话间传递</td>
</tr>
<tr>
<td><strong>更新内容</strong></td>
<td>全表，周期性</td>
<td>链路状态，事件驱动</td>
<td>路径属性，事件驱动</td>
</tr>
<tr>
<td><strong>拓扑视图</strong></td>
<td>无全局视图</td>
<td>拥有全图</td>
<td>无全图，仅路径属性</td>
</tr>
<tr>
<td><strong>计算算法</strong></td>
<td>Bellman-Ford</td>
<td>Dijkstra</td>
<td>策略驱动</td>
</tr>
<tr>
<td><strong>收敛速度</strong></td>
<td>慢</td>
<td>快</td>
<td>慢（但更稳定）</td>
</tr>
<tr>
<td><strong>带宽占用</strong></td>
<td>高（周期发全表）</td>
<td>中（仅更新变化）</td>
<td>低（TCP 控制精细）</td>
</tr>
<tr>
<td><strong>扩展性</strong></td>
<td>差</td>
<td>较好</td>
<td>极强</td>
</tr>
<tr>
<td><strong>应用场景</strong></td>
<td>小型网络</td>
<td>企业内部网络</td>
<td>运营商/跨 AS 互联</td>
</tr>
</tbody>
</table>
</div>
<h3 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h3><p>路由信息协议（RIP）是一种分布式的、基于距离向量的路由选择协议。使用的算法时<strong><font color="red">距离向量算法</font></strong>。最大优点是简单，要求网络中的每个路由器都要维护从它自己到其他每一个目的网络的<strong>距离记录</strong>。其中距离也称为跳数，每经过一个路由器，条数就加一。</p>
<h4 id="路由表结构"><a href="#路由表结构" class="headerlink" title="路由表结构"></a>路由表结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[目的网络		最短距离		下一跳地址]</span><br></pre></td></tr></table></figure>
<p>刚开始路由表都是空的，然后得到直接连接的网络距离为1，之后相邻路由器交换并更新路由信息，最后收敛（自治系统中所有的节点都得到正确的路由选择信息的过程）。直接及交付的话，下一条地址用 <code>-</code>标识</p>
<h4 id="特点-3"><a href="#特点-3" class="headerlink" title="特点"></a>特点</h4><ul>
<li>仅和<strong><font color="blue">相邻</font></strong>路由器交换信息</li>
<li><strong><font color="blue">交换的信息</font></strong>是当前本路由器所知道的全部信息，即自己的<strong><font color="blue">路由表</font></strong></li>
<li>按<font color="blue"><strong>固定时间间隔</strong></font>交换路由信息。网络<strong><font color="blue">拓扑发生变化</font></strong>时也进士交换变换后的路由信息</li>
<li>好消息传播得快，<strong><font color="blue">坏消息传播的慢</font></strong>（坏消息慢收敛）。也就是说，当网络出现故障时，要经过比较长得时间才能将此消息（坏消息）传送到所有得路由器</li>
<li>最大距离有限，适用于<strong><font color="red">网络规模较小</font></strong>的情况</li>
<li>实现简单，开销较小</li>
<li>采用<strong><font color="blue">UDP</font></strong>协议</li>
</ul>
<h4 id="距离向量算法"><a href="#距离向量算法" class="headerlink" title="距离向量算法"></a>距离向量算法</h4><ol>
<li>把邻居 X 发来的路由表<strong><font color="orange">下一跳都改成 X</font></strong> ，并把所有的所有的距离都 <strong><font color="orange">加1</font></strong></li>
<li>对发来的修改后的路由表, 重复以下操作<ol>
<li>如果自己的路由表<strong><font color="orange">没有</font></strong>目的网络 N，就直接把这条记录<strong><font color="orange">加进</font></strong>路由表中</li>
<li>如果自己的路由表有目标网络 N<ol>
<li>如果 N <strong><font color="orange">是邻居</font></strong> X，用邻居发来的新的项<strong><font color="orange">替换</font></strong>原来的项</li>
<li>如果 N <strong><font color="orange">不是邻居</font></strong>X，并且N的距离<font color="orange"><strong>小于</strong></font>路由表中的距离，则用收到项目<strong><font color="orange">更新</font></strong>原路由表中的项目</li>
</ol>
</li>
</ol>
</li>
<li>若三分钟还未收到相邻路由器的更新路由表，则把次相邻路由器记为不可达路由器（距离=16）</li>
</ol>
<h3 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h3><p>是为了克服RIP的缺点而开发。使用了Dijkstra 提出的最短路径算法 SPF。采用分布式的链路状态协议</p>
<h4 id="特点-4"><a href="#特点-4" class="headerlink" title="特点"></a>特点</h4><ul>
<li>采用<strong><font color="blue">（可靠的）洪泛法</font></strong>。向本AS中<strong><font color="blue">所有路由器</font></strong>发送消息</li>
<li>发送的信息是与本路由器相邻的所有路由器的<strong><font color="blue">链路状态</font></strong></li>
<li>将自治系统划分为两种不同的区域，分层次划分区域使通信量大大减小，因而能<strong><font color="red">用于规模很大的AS中</font></strong>（因为OFPS链路状态只涉及相邻路由器，与整个互联网的规模并无直接关系，所以OFPS在大规模网络比RIP好，并且没有坏消息传播慢的问题）</li>
<li>采用<strong><font color="red">IP协议</font></strong></li>
</ul>
<blockquote>
<p>洪泛 vs 广播。广播是一种<strong>通信模式</strong>。发送者将报文发给网络中的<strong>所有</strong>成员。洪泛是一种<strong>转发算法</strong>。接收到一个包后，向除了“来路”以外的所有接口转发。</p>
</blockquote>
<h4 id="链路状态数据库"><a href="#链路状态数据库" class="headerlink" title="链路状态数据库"></a>链路状态数据库</h4><h5 id="链路状态"><a href="#链路状态" class="headerlink" title="链路状态"></a>链路状态</h5><p>说明本路由器都和哪些路由器相邻，以及该链路的度量</p>
<h5 id="内容和特点"><a href="#内容和特点" class="headerlink" title="内容和特点"></a>内容和特点</h5><ul>
<li>包含全网的拓扑结构图</li>
<li>在全网范围内一致</li>
<li>每个路由器使用链路状态数据库中的数据构造自己的路由表</li>
</ul>
<h4 id="工作过程"><a href="#工作过程" class="headerlink" title="工作过程"></a>工作过程</h4><ol>
<li><p>确定邻站可达</p>
<ul>
<li>相隔路由器每隔10s发送一次问候分组</li>
<li>40s没收到问候分组则该邻居不可达</li>
</ul>
</li>
<li><p>同步链路状态数据库</p>
<ul>
<li>同步：指不同路由器的<strong><font color="orange">链路状态数据库的内容</font></strong>是一样的</li>
<li>两个同步的路由器叫做完全邻接的路由器</li>
</ul>
</li>
<li><p>更新链路状态</p>
<ul>
<li><strong><font color="red">只要链路状态发生变化</font></strong>，路由器就使用链路状态更新分组，采用<strong><font color="orange">可靠的洪泛法</font></strong>向全网更新链路状态</li>
<li>规定<strong><font color="red">每隔一段时间</font></strong>，如30分钟要刷新一次数据库中的链路状态</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107225612999.png" alt="image-20260107225612999" style="zoom: 50%;"></p>
</li>
</ol>
<h3 id="BGP"><a href="#BGP" class="headerlink" title="BGP"></a>BGP</h3><p>是不同AS的路由器之间交换路由信息的协议</p>
<h4 id="特点-5"><a href="#特点-5" class="headerlink" title="特点"></a>特点</h4><ul>
<li>用于AS之间的路由选择</li>
<li>只能力求选出一条能够到达目的网络且比较好的路由，而并非要计算出一条最佳路由</li>
<li>采用了路径向量路由选择协议</li>
<li>使用<strong><font color="red">TCP协议</font></strong></li>
</ul>
<h4 id="路由信息"><a href="#路由信息" class="headerlink" title="路由信息"></a>路由信息</h4><p>BGP路由 = [前缀， BGP属性] =</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[前缀，	AS-PATH,	NEXT-HOP]</span><br></pre></td></tr></table></figure>
<p>前缀：指明到哪一个子网（CIDR）</p>
<p>AS-PATH：自治系统路径，<strong><font color="red">不允许出现相同的AS号</font></strong>避免兜圈子</p>
<p>NEXT-HOP：下一跳</p>
<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><h5 id="BGP发言者"><a href="#BGP发言者" class="headerlink" title="BGP发言者"></a>BGP发言者</h5><p>指一个AS的边界路由器，和其他AS的边界路由器交换信息</p>
<h5 id="eBGP"><a href="#eBGP" class="headerlink" title="eBGP"></a>eBGP</h5><ul>
<li>AS之间，BGP发言者在半永久性TCP连接上建立BGP会话，这称为eBGP连接</li>
<li>BGP发言者在不同AS之间交换路由信息</li>
</ul>
<h5 id="iBGP"><a href="#iBGP" class="headerlink" title="iBGP"></a>iBGP</h5><ul>
<li>AS内部，任何相互通信的两个路由器之间有一个逻辑连接（也是用TCP）。AS内部所有的路由器是全连通的。这种连接称为iBGP连接</li>
<li>AS内部的路由器之间交换BGP路由信息</li>
</ul>
<h5 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h5><ul>
<li><p>在 eBGP 连接的对等端得知的前缀信息，可以通报给一个 iBGP 连接的对等端。反过来也是可以的。</p>
</li>
<li><p>但从 iBGP 连接的对等端得知的前缀信息，则不能够通报给另一个 iBGP 连接的对等端。</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260107230718643.png" alt="image-20260107230718643" style="zoom:67%;"></p>
<h2 id="NAT网络地址转换"><a href="#NAT网络地址转换" class="headerlink" title="NAT网络地址转换"></a>NAT网络地址转换</h2><p>在专用网上使用专用地址的主机如何与互联网上的主机通信（不需要加密）？</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260113214756031.png" alt="image-20260113214756031"></p>
<p>在内部主机与外部主机通信时，NAT路由器上发生了两次地址转换：</p>
<ol>
<li>离开专用网时：替换源地址，将内部地址替换为全球地址</li>
<li>进入专用网时：替换目的地址，将全球地址替换为内部地址</li>
</ol>
<hr>
<h1 id="运输层"><a href="#运输层" class="headerlink" title="运输层"></a>运输层</h1><h2 id="基本概念-2"><a href="#基本概念-2" class="headerlink" title="基本概念"></a>基本概念</h2><blockquote>
<p>基本概念  两个协议的数据单元和比较   复用和分用  端口号</p>
</blockquote>
<h3 id="运输协议数据单元"><a href="#运输协议数据单元" class="headerlink" title="运输协议数据单元"></a>运输协议数据单元</h3><p>两个对等运输实体在通信时的数据单位叫做运输协议数据单元（<strong>TPDU</strong>）</p>
<p>TCP传送的数据单位协议是 <strong>TCP报文段</strong>（segment）</p>
<p>UDP传送的数据单位协议是 <strong>UDP报文</strong> 或 <strong>用户数据报</strong></p>
<h3 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h3><p>在运输层使用协议端口号 (protocol port number)，或通常简称为端口 (port)。把端口设为通信的抽象终点。</p>
<p>端口数运输层与应用层的服务接口，运输层的复用和分用功能通过端口实现</p>
<h5 id="复用-1"><a href="#复用-1" class="headerlink" title="复用"></a>复用</h5><p>应用进程都可以通过运输层再传送到IP层。</p>
<h5 id="分用"><a href="#分用" class="headerlink" title="分用"></a>分用</h5><p>运输层从IP层收到发送给应用进程的数据后，必须分别交付给知名的各应用进程。</p>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><p>无连接不可靠</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108122040672.png" alt="image-20260108122040672"></p>
<p>计算校验和的时候，临时把12字节的“伪首部”和UDP用户数据报连接在一起。</p>
<h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><h3 id="TCP和UDP区别"><a href="#TCP和UDP区别" class="headerlink" title="TCP和UDP区别"></a>TCP和UDP区别</h3><div class="table-container">
<table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>TCP (Transmission Control Protocol)</strong></th>
<th><strong>UDP (User Datagram Protocol)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>连接性</strong></td>
<td><strong>面向连接</strong>。传输前需“三次握手”建立通道。</td>
<td><strong>无连接</strong>。想发就发，不需要提前打招呼。</td>
</tr>
<tr>
<td><strong>可靠性</strong></td>
<td><strong>极高</strong>。有确认、重传、排序机制，保证不丢包。</td>
<td><strong>不可靠</strong>。尽力而为，丢了就丢了，不保证顺序。</td>
</tr>
<tr>
<td><strong>传输方式</strong></td>
<td><strong>字节流</strong>。没有明确边界，像自来水一样流动。</td>
<td><strong>数据报</strong>。保留报文边界，一个包一个包地发。</td>
</tr>
<tr>
<td><strong>速度与效率</strong></td>
<td>较慢。因为头部大（20字节）且有复杂的控制机制。</td>
<td>极快。头部小（8字节），开销极低。</td>
</tr>
<tr>
<td><strong>拥塞控制</strong></td>
<td><strong>有</strong>。网络拥堵时会主动减速。</td>
<td><strong>无</strong>。网络再堵也会按原速发送。</td>
</tr>
<tr>
<td><strong>通信对象</strong></td>
<td>一对一（单播）。</td>
<td>支持一对一、一对多（组播）、多对多。</td>
</tr>
</tbody>
</table>
</div>
<h3 id="特点-6"><a href="#特点-6" class="headerlink" title="特点"></a>特点</h3><ul>
<li>面向连接</li>
<li>点对点</li>
<li>可靠交付</li>
<li>全双工</li>
<li>面向字节流<ul>
<li>不保证双方发送和接收的数据块大小完全相同</li>
<li>保证双方发出的和收到的字节流完全一样</li>
</ul>
</li>
</ul>
<h3 id="TCP的连接"><a href="#TCP的连接" class="headerlink" title="TCP的连接"></a>TCP的连接</h3><p>TCP把连接作为最基本的抽象</p>
<p>TCP连接的端点是：<strong>套接字</strong></p>
<p>同一个IP地址可以有多个不同的TCP连接</p>
<p>同一个端口号也可以出现再多个不同的TCP连接中</p>
<h4 id="套接字"><a href="#套接字" class="headerlink" title="套接字"></a>套接字</h4><p>每一条TCP连接唯一地被通信两端地两个端点（套接字）所确定</p>
<script type="math/tex; mode=display">
套接字 socket = (IP地址 : 端口号)</script><script type="math/tex; mode=display">
TCP 连接 ::= {socket1, socket2} = {(IP1: port1)，(IP2: port2)}</script><h3 id="TCP报文首部格式"><a href="#TCP报文首部格式" class="headerlink" title="TCP报文首部格式"></a>TCP报文首部格式</h3><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108123238630.png" alt="image-20260108123238630" style="zoom: 67%;"></p>
<ul>
<li><p><strong>源端口</strong>：（16位）2字节，实现运输车的分用</p>
</li>
<li><p><strong>目的端口</strong>：（16位）2字节，实现运输层的复用</p>
</li>
<li><p><strong>序号</strong>：（32位）4字节，TCP连接中传送的数据流中的<font color="green">每一个字节都有一个序号</font>。序号字段的值则指的是本报文段所发送的数据的<font color="green">第一个字节的序号</font></p>
</li>
<li><strong>确认号</strong>：（32位）4字节，是期望收到的对方的下一个报文段的数据的第一个字节的序号。（ACK N = <strong><font color="green">到N-1为止</font></strong>的所有数据均已正确收到）</li>
<li><strong>数据偏移</strong>：（4位），指出TCP报文段的<strong><font color="blue">数据起始处</font></strong>距离TCP<strong><font color="blue">报文段的起始处</font></strong>有多远，单位是<strong><font color="green">4字节（32位）</font></strong>，所以最长是60字节。同时最短是20字节</li>
<li><strong>保留</strong>：（6位），全置为0</li>
<li><strong>标识</strong>：（6位）<ul>
<li>紧急URG：控制位，URG=1代表有紧急数据，要求快速传输</li>
<li>确认ACK：控制位，ACK=1时，确认号字段才有效</li>
<li>推送PSH：控制位，接收TCP收到PSH=1的报文段后，就尽快交付接收应用进程，不再等到整个缓存都填满再交付</li>
<li>复位RST：控制位，RST=1表明TCP连接出现严重差错，必须释放连接然后重新建立运输连接</li>
<li>同步SYN：控制位，SYN=1表示这是一个连接请求或连接接收报文<ul>
<li>SYN=1，ACK=0，表明这是一个连接请求报文段</li>
<li>SYN=1，ACK=1，表明这是一个连接接受报文段</li>
</ul>
</li>
<li>终止FIN：控制位，FIN=1表示此报文段的发送端的数据已经发送完毕，并要求释放运输连接</li>
</ul>
</li>
<li><strong>窗口</strong>：（16位）2字节，窗口值告诉对方，从本报文段首部的确认号算起，接收方目前允许对方发送的数据量（以字节为单位）</li>
<li><strong>校验和</strong>：（16位）2字节，加上12字节伪首部计算</li>
<li><strong>紧急指针</strong>：（16位）2字节，URG=1时，指出本报文段中的紧急数据的字节数，指出了紧急数据的末尾再报文段中的位置</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108124855573.png" alt="image-20260108124855573" style="zoom:67%;"></p>
<h4 id="MSS"><a href="#MSS" class="headerlink" title="MSS"></a>MSS</h4><p>MSS是TCP报文段中的数据字段的最大长度（报文段长度 - TCP首部长度），可以在首部中的选项字段出现。其和接受窗口大小没有关系</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108125210479.png" alt="image-20260108125210479"></p>
<h3 id="以字节为单位的滑动窗口"><a href="#以字节为单位的滑动窗口" class="headerlink" title="以字节为单位的滑动窗口"></a>以字节为单位的滑动窗口</h3><h4 id="发送窗口"><a href="#发送窗口" class="headerlink" title="发送窗口"></a>发送窗口</h4><p>在没有收到确认的情况下，发送发可以<strong>连续把窗口内的数据全部发送出去</strong>，凡是已经<strong>发送过的数据</strong>，在<strong>未收到确认之前</strong>都必须<strong>暂时保留</strong>，以便在超时重传时使用</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108130230374.png" alt="image-20260108130230374" style="zoom:50%;"></p>
<h5 id="发送缓存"><a href="#发送缓存" class="headerlink" title="发送缓存"></a>发送缓存</h5><h4 id="接受窗口"><a href="#接受窗口" class="headerlink" title="接受窗口"></a>接受窗口</h4><p>只允许接收落入窗口内的数据</p>
<h5 id="接受缓存"><a href="#接受缓存" class="headerlink" title="接受缓存"></a>接受缓存</h5><h3 id="超时重传时间的选择"><a href="#超时重传时间的选择" class="headerlink" title="超时重传时间的选择"></a>超时重传时间的选择</h3><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108132147260.png" alt="image-20260108132147260" style="zoom: 50%;"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108132219338.png" alt="image-20260108132219338"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260108132243608.png" alt="image-20260108132243608"></p>
<h2 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a><font color="red">流量控制</font></h2><p>流量控制：让发送方的发送速率不要太快，使接收方来得及接收</p>
<blockquote>
<p>[!NOTE]</p>
<p>拥塞控制：拥塞控制是作用于网络的，它是防止过多的数据注入到网络中，避免出现网络负载过大的情况；常用的方法就是：（ 1 ）慢开始、拥塞避免（ 2 ）快重传、快恢复。</p>
<p>流量控制：流量控制是作用于接收者的，它是控制发送者的发送速度从而使接收者来得及接收，防止分组丢失的。<br>拥塞控制就是防止这种现象的发生，或者缓解拥堵问题。</p>
</blockquote>
<h3 id="利用滑动窗口实现流量控制（必考）"><a href="#利用滑动窗口实现流量控制（必考）" class="headerlink" title="利用滑动窗口实现流量控制（必考）"></a><font color="red">利用滑动窗口实现流量控制</font>（必考）</h3><p>这张图必考，然后还会考到<strong><font color="red">持续计时器</font></strong>这一个细节。</p>
<blockquote>
<p>MSS=100。连接过程中接收方发送rwnd=400</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260109211924292.png" alt="image-20260109211924292" style="zoom: 200%;"></p>
<ul>
<li>发送方得知拥塞窗口大小是400，所以按计划应该发送1，101，201，301四个数据包</li>
<li>在发完201后，接受到ACK包，ACK201代表200以前（1，201）都收到了，同时修改拥塞窗口为300。此时发送方从201开始发300，分别是201，301，401</li>
<li>重传计时器超时后没有收到ACK 201，于是重新发送ACK 201</li>
<li>收到ACK 501，rwnd=100，意味着从1~500都受到了，此时从501传100字节即可，即发送501包</li>
<li>接收方得到全部内容，设置接收窗口为0</li>
</ul>
<p>如果最后一条rwnd=0发送成功，但是后续有一条rwnd=400丢失了，就会发生<strong><font color="red">死锁</font></strong>：发送方等到接收方发送新的指令，接收方等到发送方发来包</p>
<h4 id="持续计时器"><a href="#持续计时器" class="headerlink" title="持续计时器"></a>持续计时器</h4><p>TCP连接的一方收到对方的零窗口通知，就启动该持续计时器</p>
<ul>
<li>若持续计时器设置的时间到期，就发送一个零窗口探测报文段</li>
<li>若窗口依然是0，收到这个报文段的一方就重新设置持续计时器</li>
<li>若窗口不是零，则死锁的僵局就可以打破了</li>
</ul>
<h3 id="TCP的传输效率"><a href="#TCP的传输效率" class="headerlink" title="TCP的传输效率"></a>TCP的传输效率</h3><p>略</p>
<h2 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h2><h4 id="拥塞产生的原因"><a href="#拥塞产生的原因" class="headerlink" title="拥塞产生的原因"></a>拥塞产生的原因</h4><ul>
<li>节点缓存容量太小</li>
<li>链路容量不足</li>
<li>处理机处理速率太慢</li>
<li>拥塞本身会进一步加剧拥塞</li>
</ul>
<h3 id="拥塞控制-vs-流量控制（重点）"><a href="#拥塞控制-vs-流量控制（重点）" class="headerlink" title="拥塞控制 vs 流量控制（重点）"></a>拥塞控制 vs 流量控制（重点）</h3><h4 id="拥塞控制-1"><a href="#拥塞控制-1" class="headerlink" title="拥塞控制"></a>拥塞控制</h4><ul>
<li>防止过多的数据注入到网络中，避免路由器或链路过载</li>
<li>是一个全局性的过程，涉及所有的主机、路由器以及与降低网络传输性能的有关的所有因素</li>
</ul>
<h4 id="流量控制-1"><a href="#流量控制-1" class="headerlink" title="流量控制"></a>流量控制</h4><ul>
<li>抑制发送端发送数据的速率，以使接收端来得及接收</li>
<li>点对点通信量的控制，是个端到端的问题</li>
</ul>
<h3 id="TCP的拥塞控制方法"><a href="#TCP的拥塞控制方法" class="headerlink" title="TCP的拥塞控制方法"></a>TCP的拥塞控制方法</h3><ul>
<li>TCP采用<strong>滑动窗口的方法</strong>进行拥塞控制，属于闭环控制方法</li>
</ul>
<blockquote>
<p>闭环的意思是根据网络当前运行状态采取相应控制措施。而开环控制的意思是设计网络的事先实现考虑周全</p>
</blockquote>
<ul>
<li>TCP发送方维持一个拥塞窗口 cwnd</li>
</ul>
<font color="red">真正的发送窗口大小</font>
$$
发送窗口值 = Min(接收方通知的窗口值，拥塞窗口值)
$$

### 四种方法

![img](https://pica.zhimg.com/v2-4e24049a7b2985a74d9042bfdf5f881e_r.jpg)

#### 慢开始

##### 目的

探测网络的负载能力或拥塞程度

##### 算法

- 设定开始的cwnd=1，SSTH = 16（自定义）
- 每收到一个ACK，cwnd +=SMSS（拥塞窗口增加最多一个发送方的最大报文段SMSS） . 每个RTT cwnd翻倍
- 到达SSTH，开始执行用三个避免算法

![image-20260109221746253](https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260109221746253.png)

#### 拥塞避免

##### 目的

让用拥塞窗口缓慢增大，避免出现拥塞

##### 算法

每经过一个RTT，cwnd = cwnd + 1

#### 当网络出现拥塞时

就是重传定时器超时的时候

##### 算法

1. SSTH =MIN(cwnd/2, 2)
2. cwnd = 1
3. 开始慢开始

#### 快重传

##### 目的

让发送方尽早知道发生了个别报文段的丢失

##### 算法

发送方连续收到三个重复的确认，立即进行重传，不会超时

#### 快恢复

收到连续三个ACK后，不执行慢开始而是快恢复

##### 算法

1. SSTH = cwnd / 2、
2. cwnd = SSTH（新的）
3. 执行拥塞避免算法

#### 示意图

<img src="../../AppData/Roaming/Typora/typora-user-images/image-20260109222327022.png" alt="image-20260109222327022" style="zoom:67%;">

#### 算法流程图

<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260109222617249.png" alt="image-20260109222617249" style="zoom:67%;">

结合图，每一步状态、发生了什么、如何处理、以及同一个方法的不同版本

## 三次握手和四次挥手

<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112203537385.png" alt="image-20260112203537385" style="zoom:67%;">

中间这里客户的ack应该一直是201，图有问题

### 握手过程

1. 客户请求连接（SYN=1），消耗一个序号（seq=100）。
2. 服务器收到你的连接（SYN=1），并且同意连接（ACK=1 ack=101），消耗一个序号（seq = 200）
3. 客户收到服务器的收到（ACK=1, ack = 201），不消耗序号（seq = 101）（下方第一次客户发数据的序号也是101）

第三条如果携带了数据，就要消耗一个序号

<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112204911411.png" alt="image-20260112204911411" style="zoom: 50%;">

### 挥手过程

1. 用户主动关闭连接（FIN=1），消耗一个序号（seq = 613）
2. 服务器收到你的终止（ACK=1，ack=614）， 这个时候用户到服务器的连接终止。（主要看这里的seq=201）
   - 如果服务端还有没发完的数据就接着发...
3. 服务器终止连接（FIN=1），消耗一个序号（seq=w，如果没有2.1这一步那么w=201），等待最后客户的确认（ACK=1， ack=614）
4. 客户收到服务器的终止（ACK=1）， （seq=614，ack=202）
5. 此时TCP连接没有完全释放掉，必须经过**时间等待计时器**设置的时间2MSL（最大报文生存时间）后，才释放TCP连接

> 等待2MSL时间的作用：保证最后一个ACK报文段能够到达客户；防止已失效的连接请求报文段出现在本来连接中

注意这里，带FIN的地方都会消耗一个序号

> 保活计时器：2h还没收到客户消息，服务器发送探测报文段，若发送了10个探测报文段还没有响应，就假定客户出了故障，因此终止连接。

<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112204940511.png" alt="image-20260112204940511" style="zoom: 50%;">

# 应用层

## DNS

### 四种域名服务器 

<img src="../../AppData/Roaming/Typora/typora-user-images/image-20260112205842498.png" alt="image-20260112205842498" style="zoom:50%;">

四种分别是：**根域名服务器，顶级域名服务器，权限域名服务器，本地域名服务器**

#### 根域名服务器

最高层次，最为重要。

所有根域名服务器都知道所有的顶级域名服务器的域名和 IP 地址

根域名服务器总共只有 13 个不同 IP 地址的域名，但并非仅由13台机器所组成。

#### 顶级域名服务器

顶级域名服务器（即 TLD 服务器）负责管理在该顶级域名服务器注册的所有二级域名。

#### 权限域名服务器

负责一个区（zone）的域名服务器。
当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户，下一步应当找哪一个权限域名服务器。 

#### 本地域名服务器

当一个主机发出 DNS 查询请求时，该查询请求报文就发送给本地域名服务器。
每一个互联网服务提供者 ISP 或一个大学，都可以拥有一个本地域名服务器。
当所要查询的主机也属于**同一个本地 ISP 时**，该本地域名服务器立即就能将所查询的主机名转换为它的 IP 地址，而**不需要再去询问其他的域名服务器**。
本地域名服务器有时也称为**默认域名服务器**。

### 域名的解析过程

#### 迭代查询

本地域名服务器向根域名服务器的查询通常采用迭代查询

请求方（本地 DNS 服务器）把解析任务 完全交给 对方。

<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112205608282.png" alt="image-20260112205608282" style="zoom:50%;">

在域名解析过程中，**本地域名服务器** 向根域名服务器发送的通常是迭代查询。

当 **根域名服务器** 收到查询请求后，不会代替本地域名服务器继续查询，而是返回结果中的两种情况之一：

- 若能解析出所需的 IP 地址，则直接返回；
- 若不能解析，则告知本地域名服务器应当联系的下一级顶级域名服务器。

随后，本地域名服务器根据指引，向对应的 **顶级域名服务器** 继续查询。顶级域名服务器的处理方式类似：

- 若能解析出所需的 IP 地址，则返回结果；
- 否则告知本地域名服务器应当访问的下一步权限域名服务器。

#### 递归查询

主机向本地域名服务器的查询通常使用递归查询

如果主机所询问的本地域名服务器不知道被查询域名的IP地址，那么本地域名和服务器就以DNS客户的身份，向其他根域名服务器继续发出查询请求报文。

<img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112205633774.png" alt="image-20260112205633774" style="zoom:50%;">

## DHCP

UDP端口68

动态主机配置协议 DHCP (Dynamic Host Configuration Protocol) 提供了即插即用连网 (plug-and-play networking) 的机制，允许一台计算机加入网络和获取 IP 地址，而不用手工配置

### 工作方式

1. 需要IP地址的主机向DHCP服务器**<font color="blue">广播</font>**发送**<font color="red">发现报文</font>**（DHCPDISCOVER）

> [!IMPORTANT]
>
> 发现报文中
>
> <font color="orange">**源地址：0.0.0.0**</font>
>
> <font color="orange">**目的地址：225.225.225.225**</font>

<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112210330267.png" alt="image-20260112210330267" style="zoom:50%;"></p>
<ol>
<li>DHCP服务器<strong><font color="blue">单播</font></strong>回答<strong><font color="red">提供报文</font></strong>（DHCPOFFER），提供IP地址等配置信息</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112210431747.png" alt="image-20260112210431747" style="zoom:50%;"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260115094417033.png" alt="image-20260115094417033" style="zoom:67%;"></p>
<ul>
<li>DHCP被动打开端口67，等待用户发来的报文</li>
<li>用户从UDP端口68发送 DHCP发送报文</li>
<li>凡是收到DHCP发现报文的DHCP服务器都发出DHCP提供报文，因此可能收到多个DHCP提供报文</li>
<li>DHCP客户从几个DHCP服务器中选择其中给的一个，并向所选择的DHCP服务器发送DHCP请求报文</li>
<li>被选择的DHCP服务器发送确认报文DHCPACK。从这时起，DHCP客户就可以使用这个IP地址了。这种状态叫做已绑定状态，因为DHCP客户端的IP地址和MAC地址已经完成绑定，并且可以开始使用得到的临时IP地址了。</li>
<li>租用期过了一半，DHCP客户发送请求报文要求更新租用期</li>
<li>DHCP服务器同意就发送DHCPACK更新计时器，不然就发送DHCPNACK，此时客户立即停止使用原来的IP地址，并且重新申请IP地址。</li>
<li>DHCP客户可以随时提前终止服务器所提供的租用期，这是只需向DHCP服务器发送释放报文DHCPRELEASE即可。</li>
</ul>
<h3 id="DHCP服务器不在本地网络"><a href="#DHCP服务器不在本地网络" class="headerlink" title="DHCP服务器不在本地网络"></a><font color="red">DHCP服务器不在本地网络</font></h3><p>若当前网络没有DHCP服务器，那么当前网络一定有DHCP中继代理，它配置了<strong>DHCP服务器的IP地址信息</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260115095429308.png" alt="image-20260115095429308" style="zoom:50%;"></p>
<ul>
<li>DHCP中继代理收到主机广播发送的<strong>发现报文</strong>后，就以<strong><font color="blue">单播</font></strong>方式向DHCP服务器转发此报文，并等待其回答</li>
<li>收到DHCP服务器回答的<strong>提供报文</strong>后，DHCP中继代理再将其发回给主机</li>
</ul>
<h1 id="无线网"><a href="#无线网" class="headerlink" title="无线网"></a>无线网</h1><h2 id="CSMA-CA"><a href="#CSMA-CA" class="headerlink" title="CSMA/CA"></a>CSMA/CA</h2><blockquote>
<p>CSMA/CA 为什么要用CA 隐蔽站和暴露站现象是什么 基本概念 工作过程 图 每一步在干什么  争用过程</p>
</blockquote>
<h3 id="不能使用CSMA-CD原因"><a href="#不能使用CSMA-CD原因" class="headerlink" title="不能使用CSMA/CD原因"></a>不能使用CSMA/CD原因</h3><ul>
<li>CD要求：一个站点在发送本站数据的同时，还必须不间断地检测信道，但接收到地信号强度往往会远远小于发送信号地强度，在无线局域网地设备中要实现这种功能就<strong><font color="blue">花费过大</font></strong></li>
<li>即使能够实现碰撞检测地功能，并且在发送数据时检测到信道是空闲的时候，在接收端仍然有<font color="blue"><strong>可能发生碰撞</strong></font><ul>
<li>检测到信道空闲，其实信道可能并不空闲；即使能够在硬件上实现无线局域网的碰撞检测功能（无线局域网的适配器无法实现碰撞检测），也无法检测出隐蔽站问题带来的碰撞</li>
</ul>
</li>
</ul>
<h4 id="隐蔽站问题"><a href="#隐蔽站问题" class="headerlink" title="隐蔽站问题"></a>隐蔽站问题</h4><p>由于无线信号<strong><font color="green">覆盖范围</font></strong>和<strong><font color="green">穿透能力</font></strong>有限，A和C检测不到彼此的无线信号，都以为B是空闲的，因而都向B发送数据，结果发生碰撞</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260110143232053.png" alt="image-20260110143232053" style="zoom:50%;"></p>
<h4 id="暴露站问题"><a href="#暴露站问题" class="headerlink" title="暴露站问题"></a>暴露站问题</h4><p>无线网络中，一个本可以发送数据的节点（暴露站）因为检测到信道上有一个正在通信的节点（B）发出的信号，从而放弃发送，即使这个通信并不会干扰到其目标节点（C）</p>
<h3 id="改进为CA"><a href="#改进为CA" class="headerlink" title="改进为CA"></a>改进为CA</h3><p>无线局域网不能使用CSMA/CD但是可以使用CSMA协议，故</p>
<ul>
<li>增加<strong><font color="red">碰撞避免CA</font></strong>：尽量减少碰撞发生的概率</li>
<li>使用CSMA/CA的同时，使用<strong><font color="red">停止等待协议</font></strong>：链路层确认，解决碰撞后重传</li>
</ul>
<h3 id="算法过程"><a href="#算法过程" class="headerlink" title="算法过程"></a>算法过程</h3><p><img src="../../AppData/Roaming/Typora/typora-user-images/image-20260110144042957.png" alt="image-20260110144042957"></p>
<h4 id="DIFS"><a href="#DIFS" class="headerlink" title="DIFS"></a>DIFS</h4><p>在完成发送后，必须再等待一段很短的时间（继续监听）才能发送下一帧，这段时间的统称是 <strong>帧间间隔</strong>（IFS）。</p>
<ul>
<li><p>DIFS是 分布协调功能帧间间隔。</p>
</li>
<li><p>SIFS是 短帧间间隔</p>
</li>
</ul>
<h5 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h5><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260110145006940.png" alt="image-20260110145006940"></p>
<ul>
<li><p>A监听信道，若信道在时间间隔DIFS一直都是空闲的，A就可以在t0时间发送数据帧DATA</p>
</li>
<li><p>B收到数据帧，必须进行CRC校验，若校验无差错，再从接收状态转为发送状态，经过时间间隔SIFS后，向A发送确认帧</p>
</li>
</ul>
<p>在（DATA+SIFS+ACK）时间段中，必须不允许任何其他站发送数据</p>
<h5 id="虚拟载波监听"><a href="#虚拟载波监听" class="headerlink" title="虚拟载波监听"></a>虚拟载波监听</h5><p>由软件实现，源站A要把占用信道的时间（DATA+SIFS+ACK）写入数据帧DATA的首部吗，所有处在站点A的广播范围内的各站都能够收到这信息，并创建自己的网络分配向量（NAV）：信道忙的持续时间，其他站点不能在这段时间发送数据</p>
<p>区分与载波监听，其在物理层由硬件实现，每个站检测收到的信号强度超过一定的门限数值代表有其他移动站在信道上发送数据。</p>
<h4 id="争用信道"><a href="#争用信道" class="headerlink" title="争用信道"></a>争用信道</h4><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260110145902024.png" alt="image-20260110145902024"></p>
<p>A和B通信过程中，C和D也要发送数据。但C和D检测到信道忙，因此必须<strong>推迟接入</strong>（经过DIFS发现信道空），以免发生碰撞</p>
<p>在等待信道进入空闲状态后，都经过规定的时间间隔 DIFS 再同时发送数据必然产生碰撞。因此，CSMA/CA 规定：<strong>所有推迟接入的站都必须<font color="blue">在争用期执行统一的退避算法</font>开始公平地争用信道。</strong></p>
<h5 id="争用期-1"><a href="#争用期-1" class="headerlink" title="争用期"></a>争用期</h5><p>也叫做争用窗口 CW。征用窗口由许多时隙组成。在下一个时隙开始时，每个站点都能检测出在前一个时隙开始时信道是否在忙</p>
<p>CSMA/CA规定，如果未收到确认帧，则必须重传，但每重传一次，争用窗口的数值就近似加倍</p>
<h5 id="退避算法"><a href="#退避算法" class="headerlink" title="退避算法"></a>退避算法</h5><ul>
<li>站点<strong>进入争用期</strong>时，应在 0~CW 个时隙中随机生成一个退避时隙数，并设置<font color="red"><strong>退避计时器</strong></font></li>
<li>当几个站同时争用信道时，计时器<strong><font color="blue">最先将为零</font></strong>的站首先接入媒体，发送数据帧。此时信道转为忙，而其他正在退避的站则<strong><font color="red">冻结</font></strong>其计时器，保留计时器的数值不变，推迟到下次争用信道是<strong><font color="red">接着倒计时</font></strong></li>
</ul>
<h2 id="移动IP"><a href="#移动IP" class="headerlink" title="移动IP"></a>移动IP</h2><blockquote>
<p>9.4 移动IP 基本过程（9.4.1）</p>
</blockquote>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>移动IP：允许计算机移动到外地时，仍然保留其原来的IP地址</p>
<p>解决的问题：使用户的移动性对上层的网络应用透明</p>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112210731602.png" alt="image-20260112210731602"></p>
<p>移动站 A 必须有一个<strong>原始地址</strong>，即<strong><font color="red">永久地址</font></strong>，或<strong><font color="red">归属地址</font></strong> (home address)。移动站原始连接到的网络叫做<strong><font color="blue">归属网络</font></strong> (home network)。<strong><font color="orange">永久地址和归属网络的关联是不变的</font></strong>。<strong><font color="blue">归属代理</font></strong> (home agent) <strong>让地址的改变对互联网的其余部分透明</strong>，它通常就是连接在归属网络上的路由器，代理功能在应用层完成。归属代理既是路由器，也是主机。</p>
<p>当移动站 A 移动到<strong>另一个地点</strong>，接入的网络称为<strong><font color="red">被访网络</font></strong> (visited network)或外地网络 (foreign network)。被访网络中使用的代理叫做<strong><font color="blue">外地代理</font></strong> (foreign agent)，它通常就是<strong>连接在被访网络上的路由器</strong>。为移动站 A 在<strong>被访网络中创建的临时地址叫做转交地址</strong> (care-of address)。</p>
<blockquote>
<p>转交地址是供移动站、归属代理以及外地代理使用的，各种应用程序都不使用这种转交地址。</p>
<p>转交地址在互联网中并不唯一</p>
</blockquote>
<h3 id="通信者B和移动站A通信的四个重要步骤"><a href="#通信者B和移动站A通信的四个重要步骤" class="headerlink" title="通信者B和移动站A通信的四个重要步骤"></a>通信者B和移动站A通信的四个重要步骤</h3><p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211440802.png" alt="image-20260112211440802" style="zoom:67%;"></p>
<ol>
<li>B 发送给 A 的数据报的目的地址是：131.8.6.7。此数据报被 A 的归属代理截获（只有当 A 离开归属网络时，归属代理才能截获发给 A 的数据）</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211450276.png" alt="image-20260112211450276" style="zoom:67%;"></p>
<ol>
<li>归属代理把 B 发来的数据再进行封装，新的数据包的目的地址是： 15.5.6.7， 就是 A 现在的转交地址， 使用 隧道技术 或 IP-in-IP 将信封装的数据报发送到被访网络的外地代理</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211726843.png" alt="image-20260112211726843" style="zoom:67%;"></p>
<ol>
<li>被访网络中的外地代理把收到的封装的数据报进行拆封，取出 B 发送的原始数据报，然后转发给移动站 A。这个数据报的目的地址是：131.8.6.7，就是 A 的永久地址。A 收到 B 发送的原始数据报后，也得到了 B 的IP地址。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Pocon041/blogimage2@main/image-20260112211646755.png" alt="image-20260112211646755" style="zoom:67%;"></p>
<ol>
<li>如果现在 A 要向 B 发送数据报，A 仍然使用自己的永久地址作为数据报的源地址，用 B 的 IP 地址作为数据报的目的地址。这个数据报显然没有必要在通过 A 的归属代理进行转发了。</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" rel="tag"># 期末复习</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/10/07/SVM/" rel="prev" title="支持向量机（SVM）">
      <i class="fa fa-chevron-left"></i> 支持向量机（SVM）
    </a></div>
      <div class="post-nav-item">
    <a href="/2026/01/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" rel="next" title="操作系统期末复习">
      操作系统期末复习 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9C%81%E6%B5%81%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">省流：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC1%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">第1章重点章节概括</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC2%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.2.</span> <span class="nav-text">第2章重点章节概括</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC3%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.3.</span> <span class="nav-text">第3章重点章节概括</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC4%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.4.</span> <span class="nav-text">第4章重点章节概括</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC5%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.5.</span> <span class="nav-text">第5章重点章节概括</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC6%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.6.</span> <span class="nav-text">第6章重点章节概括</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC9%E7%AB%A0%E9%87%8D%E7%82%B9%E7%AB%A0%E8%8A%82%E6%A6%82%E6%8B%AC"><span class="nav-number">1.0.0.7.</span> <span class="nav-text">第9章重点章节概括</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%AA%E8%AE%BA"><span class="nav-number">2.</span> <span class="nav-text">绪论</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E6%80%A7%E8%83%BD%E8%AF%84%E4%BB%B7"><span class="nav-number">2.1.</span> <span class="nav-text">计算机网络的性能评价</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9F%E7%8E%87"><span class="nav-number">2.1.1.</span> <span class="nav-text">速率</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%A6%E5%AE%BD"><span class="nav-number">2.1.2.</span> <span class="nav-text">带宽</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="nav-number">2.1.3.</span> <span class="nav-text">吞吐量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E5%BB%B6"><span class="nav-number">2.1.4.</span> <span class="nav-text">时延</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E6%97%B6%E5%BB%B6"><span class="nav-number">2.1.4.1.</span> <span class="nav-text">发送时延</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%A0%E6%92%AD%E6%97%B6%E5%BB%B6"><span class="nav-number">2.1.4.2.</span> <span class="nav-text">传播时延</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF"><span class="nav-number">2.1.5.</span> <span class="nav-text">时延带宽积</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AF%8F%E6%AF%94%E7%89%B9%E7%9A%84%E5%AE%BD%E5%BA%A6"><span class="nav-number">2.1.5.1.</span> <span class="nav-text">每比特的宽度</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%80%E8%BF%94%E6%97%B6%E9%97%B4RTT"><span class="nav-number">2.1.6.</span> <span class="nav-text">往返时间RTT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%89%E6%95%88%E6%95%B0%E6%8D%AE%E7%8E%87"><span class="nav-number">2.1.6.1.</span> <span class="nav-text">有效数据率</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E7%8E%87"><span class="nav-number">2.1.7.</span> <span class="nav-text">利用率</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%A1%E9%81%93%E5%88%A9%E7%94%A8%E7%8E%87"><span class="nav-number">2.1.7.1.</span> <span class="nav-text">信道利用率</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%88%A9%E7%94%A8%E7%8E%87"><span class="nav-number">2.1.7.2.</span> <span class="nav-text">网络利用率</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%B9%E7%BC%98%E5%92%8C%E6%A0%B8%E5%BF%83"><span class="nav-number">2.2.</span> <span class="nav-text">边缘和核心</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%84%E5%B1%82%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%80%E5%A4%A7%E4%BC%A0%E8%BE%93%E5%8D%95%E5%85%83%EF%BC%88MTU%EF%BC%89"><span class="nav-number">2.3.</span> <span class="nav-text">各层协议的最大传输单元（MTU）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">3.</span> <span class="nav-text">物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">3.1.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E4%B8%AA%E7%89%B9%E6%80%A7%EF%BC%88%E8%83%8C%E4%BD%8F%EF%BC%89"><span class="nav-number">3.1.1.</span> <span class="nav-text">四个特性（背住）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%BA%E6%A2%B0%E7%89%B9%E6%80%A7"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">机械特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%B5%E6%B0%94%E7%89%B9%E6%80%A7"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">电气特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E7%89%B9%E6%80%A7"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">功能特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%87%E7%A8%8B%E7%89%B9%E6%80%A7"><span class="nav-number">3.1.1.4.</span> <span class="nav-text">过程特性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A8%A1%E5%9E%8B"><span class="nav-number">3.1.2.</span> <span class="nav-text">通信系统的模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E5%BE%8B"><span class="nav-number">3.2.</span> <span class="nav-text">定律</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A5%88%E6%B0%8F%E5%87%86%E5%88%99"><span class="nav-number">3.2.1.</span> <span class="nav-text">奈氏准则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%84%8F%E4%B9%89"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">意义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E5%99%AA%E6%AF%94%EF%BC%88%E5%BF%85%E8%80%83%EF%BC%89"><span class="nav-number">3.2.2.</span> <span class="nav-text">信噪比（必考）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A6%99%E5%86%9C%E5%85%AC%E5%BC%8F"><span class="nav-number">3.2.3.</span> <span class="nav-text">香农公式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%84%8F%E4%B9%89-1"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">意义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F"><span class="nav-number">3.2.4.</span> <span class="nav-text">常见的数字信号编码方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9"><span class="nav-number">3.2.4.1.</span> <span class="nav-text">特点</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%A2%91%E7%8E%87"><span class="nav-number">3.2.4.1.1.</span> <span class="nav-text">信号频率</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%90%8C%E6%AD%A5%E8%83%BD%E5%8A%9B"><span class="nav-number">3.2.4.1.2.</span> <span class="nav-text">自同步能力</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%A1%E9%81%93%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF%EF%BC%88%E5%BF%85%E8%80%83%EF%BC%8C%E7%9C%8B%E6%95%99%E6%9D%90p56%EF%BC%89"><span class="nav-number">3.3.</span> <span class="nav-text">信道复用技术（必考，看教材p56）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%8D%E7%94%A8"><span class="nav-number">3.3.1.</span> <span class="nav-text">复用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%91%E5%88%86%E5%A4%8D%E7%94%A8%EF%BC%88FDM%EF%BC%89"><span class="nav-number">3.3.2.</span> <span class="nav-text">频分复用（FDM）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8%EF%BC%88TDM%EF%BC%89"><span class="nav-number">3.3.3.</span> <span class="nav-text">时分复用（TDM）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-number">3.3.3.1.</span> <span class="nav-text">问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8%EF%BC%88STDM%EF%BC%89"><span class="nav-number">3.3.4.</span> <span class="nav-text">统计时分复用（STDM）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A6%81%E7%82%B9"><span class="nav-number">3.3.4.1.</span> <span class="nav-text">要点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A2%E5%88%86%E5%A4%8D%E7%94%A8"><span class="nav-number">3.3.5.</span> <span class="nav-text">波分复用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A0%81%E5%88%86%E5%A4%8D%E7%94%A8"><span class="nav-number">3.3.6.</span> <span class="nav-text">码分复用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CDMA%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">3.3.6.1.</span> <span class="nav-text">CDMA工作原理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A0%81%E7%89%87%E5%BA%8F%E5%88%97%E5%AE%9E%E7%8E%B0%E4%BA%86%E6%89%A9%E9%A2%91"><span class="nav-number">3.3.6.1.1.</span> <span class="nav-text">码片序列实现了扩频</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CDMA%E7%9A%84%E9%87%8D%E8%A6%81%E7%89%B9%E7%82%B9"><span class="nav-number">3.3.6.2.</span> <span class="nav-text">CDMA的重要特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">3.3.6.3.</span> <span class="nav-text">例题</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-number">4.</span> <span class="nav-text">数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1"><span class="nav-number">4.1.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%92%8C%E5%B8%A7"><span class="nav-number">4.1.1.</span> <span class="nav-text">数据链路和帧</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%BE%E8%B7%AF"><span class="nav-number">4.1.1.1.</span> <span class="nav-text">链路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF"><span class="nav-number">4.1.1.2.</span> <span class="nav-text">数据链路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%A7"><span class="nav-number">4.1.1.3.</span> <span class="nav-text">帧</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E4%B8%AA%E5%9F%BA%E6%9C%AC%E9%97%AE%E9%A2%98"><span class="nav-number">4.2.</span> <span class="nav-text">三个基本问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="nav-number">4.2.1.</span> <span class="nav-text">封装成帧</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%8E%A7%E5%88%B6%E5%AD%97%E7%AC%A6%E4%BD%9C%E4%B8%BA%E5%B8%A7%E5%AE%9A%E7%95%8C%E7%AC%A6"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">用控制字符作为帧定界符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="nav-number">4.2.2.</span> <span class="nav-text">透明传输</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E5%A1%AB%E5%85%85"><span class="nav-number">4.2.2.1.</span> <span class="nav-text">字节填充</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9B%B6%E6%AF%94%E7%89%B9%E5%A1%AB%E5%85%85"><span class="nav-number">4.2.2.2.</span> <span class="nav-text">零比特填充</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="nav-number">4.2.3.</span> <span class="nav-text">差错控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CRC%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E9%AA%8C"><span class="nav-number">4.2.3.1.</span> <span class="nav-text">CRC循环冗余检验</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%99%E6%95%B0%E7%9A%84%E5%A4%9A%E9%A1%B9%E5%BC%8F%E8%A1%A8%E8%BE%BE%E6%96%B9%E6%B3%95"><span class="nav-number">4.2.3.1.1.</span> <span class="nav-text">余数的多项式表达方法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AEPPP"><span class="nav-number">4.3.</span> <span class="nav-text">点对点协议PPP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PPP%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B8%A7%E6%A0%BC%E5%BC%8F%EF%BC%88%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7%EF%BC%89"><span class="nav-number">4.3.1.</span> <span class="nav-text">PPP协议的帧格式（封装成帧）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PPP%E7%9A%84%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="nav-number">4.3.2.</span> <span class="nav-text">PPP的透明传输</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E5%A1%AB%E5%85%85%EF%BC%88%E5%BC%82%E6%AD%A5%E4%BC%A0%E8%BE%93%EF%BC%89"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">字节填充（异步传输）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B00x7E"><span class="nav-number">4.3.2.1.1.</span> <span class="nav-text">如果出现0x7E</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B00x7D"><span class="nav-number">4.3.2.1.2.</span> <span class="nav-text">如果出现0x7D</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E6%8E%A7%E5%88%B6%E5%AD%97%E7%AC%A6%EF%BC%88-lt-0x20%EF%BC%89"><span class="nav-number">4.3.2.1.3.</span> <span class="nav-text">如果出现控制字符（&lt;0x20）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9B%B6%E6%AF%94%E7%89%B9%E5%A1%AB%E5%85%85%EF%BC%88%E5%90%8C%E6%AD%A5%E4%BC%A0%E8%BE%93%EF%BC%89"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">零比特填充（同步传输）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSMA-CD"><span class="nav-number">4.4.</span> <span class="nav-text">CSMA&#x2F;CD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%83%8C%E6%99%AF"><span class="nav-number">4.4.1.</span> <span class="nav-text">背景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSMA-CD-%E5%8D%8F%E8%AE%AE%E7%9A%84%E8%A6%81%E7%82%B9"><span class="nav-number">4.4.2.</span> <span class="nav-text">CSMA&#x2F;CD 协议的要点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E6%B5%81%E7%A8%8B"><span class="nav-number">4.4.3.</span> <span class="nav-text">总流程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E5%89%8D%E7%9B%91%E5%90%AC"><span class="nav-number">4.4.3.1.</span> <span class="nav-text">发送前监听</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E6%97%B6%E7%9B%91%E5%90%AC"><span class="nav-number">4.4.3.2.</span> <span class="nav-text">发送时监听</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%AA%E6%96%AD%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%8C%87%E6%95%B0%E9%80%80%E9%81%BF"><span class="nav-number">4.4.3.3.</span> <span class="nav-text">截断二进制指数退避</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98-1"><span class="nav-number">4.4.3.3.1.</span> <span class="nav-text">例题</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B9%A6%E4%B8%8A3-25"><span class="nav-number">4.4.3.3.1.1.</span> <span class="nav-text">书上3-25</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%89%E7%94%A8%E6%9C%9F"><span class="nav-number">4.4.3.4.</span> <span class="nav-text">争用期</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BD%B1%E5%93%8D%E5%B8%A7%E6%9C%80%E7%9F%AD%E9%95%BF%E5%BA%A6%E7%9A%84%E5%9B%A0%E7%B4%A0"><span class="nav-number">4.4.3.4.1.</span> <span class="nav-text">影响帧最短长度的因素</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84MAC%E5%B1%82"><span class="nav-number">4.5.</span> <span class="nav-text">以太网的MAC层</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MAC%E5%B8%A7%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="nav-number">4.5.0.1.</span> <span class="nav-text">MAC帧的格式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8%E4%B8%8E%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-number">4.6.</span> <span class="nav-text">集线器与交换机</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8"><span class="nav-number">4.6.1.</span> <span class="nav-text">集线器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-1"><span class="nav-number">4.6.1.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-number">4.6.1.2.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-number">4.6.1.3.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-number">4.6.2.</span> <span class="nav-text">交换机</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-2"><span class="nav-number">4.6.2.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95"><span class="nav-number">4.6.2.2.</span> <span class="nav-text">自学习算法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-1"><span class="nav-number">4.6.2.2.1.</span> <span class="nav-text">问题</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">4.6.2.3.</span> <span class="nav-text">优点（重点）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A2%B0%E6%92%9E%E5%9F%9F%E5%92%8C%E5%86%B2%E7%AA%81%E5%9F%9F"><span class="nav-number">4.7.</span> <span class="nav-text">碰撞域和冲突域</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">5.</span> <span class="nav-text">网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.1.</span> <span class="nav-text">网络提供的两种服务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A9%E7%BD%91%E7%BB%9C%E8%B4%9F%E8%B4%A3%E5%8F%AF%E9%9D%A0%E4%BA%A4%E4%BB%98%E2%80%94%E2%80%94%E8%99%9A%E7%94%B5%E8%B7%AF%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.1.0.1.</span> <span class="nav-text">让网络负责可靠交付——虚电路服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%8F%90%E4%BE%9B%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%9C%8D%E5%8A%A1%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.1.0.2.</span> <span class="nav-text">网络提供数据报服务——数据报服务</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E4%B8%A4%E4%B8%AA%E5%B1%82%E9%9D%A2%EF%BC%88%E6%95%B0%E6%8D%AE%E3%80%81%E6%8E%A7%E5%88%B6%EF%BC%89"><span class="nav-number">5.2.</span> <span class="nav-text">网络层两个层面（数据、控制）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%B1%82%E9%9D%A2"><span class="nav-number">5.2.1.</span> <span class="nav-text">数据层面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%B1%82%E9%9D%A2"><span class="nav-number">5.2.2.</span> <span class="nav-text">控制层面</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IPv4%E4%B8%89%E4%B8%AA%E9%85%8D%E5%A5%97%E5%8D%8F%E8%AE%AE%EF%BC%88%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%89"><span class="nav-number">5.3.</span> <span class="nav-text">IPv4三个配套协议（基本概念）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE-ARP%EF%BC%88%E8%A6%81%E7%9F%A5%E9%81%93%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%EF%BC%89"><span class="nav-number">5.3.1.</span> <span class="nav-text">地址解析协议 ARP（要知道工作过程）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8"><span class="nav-number">5.3.1.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ARP%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98"><span class="nav-number">5.3.1.2.</span> <span class="nav-text">ARP高速缓存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ARP%E5%B7%A5%E4%BD%9C"><span class="nav-number">5.3.1.3.</span> <span class="nav-text">ARP工作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E4%B8%80%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E4%B8%A4%E4%B8%BB%E6%9C%BA"><span class="nav-number">5.3.1.3.1.</span> <span class="nav-text">同一局域网内两主机</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8D%E5%90%8C%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="nav-number">5.3.1.3.2.</span> <span class="nav-text">不同局域网</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E9%99%85%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE-ICMP"><span class="nav-number">5.3.2.</span> <span class="nav-text">网际控制报文协议 ICMP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8-1"><span class="nav-number">5.3.2.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%8D%E7%B1%BB"><span class="nav-number">5.3.2.2.</span> <span class="nav-text">种类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%95%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="nav-number">5.3.2.3.</span> <span class="nav-text">引用举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E9%99%85%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE-IGMP"><span class="nav-number">5.3.3.</span> <span class="nav-text">网际组管理协议 IGMP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%B3%E7%9A%84%E5%90%AB%E4%B9%89"><span class="nav-number">5.4.</span> <span class="nav-text">跳的含义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-2-IP%E5%9C%B0%E5%9D%80%EF%BC%88%E6%89%80%E6%9C%89%EF%BC%89"><span class="nav-number">5.5.</span> <span class="nav-text">4.2.2 IP地址（所有）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E5%9C%B0%E5%9D%80%E5%8F%8A%E5%85%B6%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="nav-number">5.5.1.</span> <span class="nav-text">IP地址及其表示方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%87%E7%94%A8%E4%BA%8C%E7%BA%A7%E7%BB%93%E6%9E%84%EF%BC%9A%E7%BD%91%E7%BB%9C%E5%8F%B7%EF%BC%8C%E4%B8%BB%E6%9C%BA%E5%8F%B7"><span class="nav-number">5.5.1.1.</span> <span class="nav-text">采用二级结构：网络号，主机号</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%8F%B7"><span class="nav-number">5.5.1.1.1.</span> <span class="nav-text">网络号</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%BB%E6%9C%BA%E5%8F%B7"><span class="nav-number">5.5.1.1.2.</span> <span class="nav-text">主机号</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="nav-number">5.5.2.</span> <span class="nav-text">分类的IP地址</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="nav-number">5.5.2.1.</span> <span class="nav-text">特殊的IP地址</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%88%B6CIDR%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">5.5.3.</span> <span class="nav-text">无分类编制CIDR（重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%89%8D%E7%BC%80"><span class="nav-number">5.5.3.0.1.</span> <span class="nav-text">网络前缀</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E5%9D%97"><span class="nav-number">5.5.3.0.2.</span> <span class="nav-text">地址块</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E6%8E%A9%E7%A0%81"><span class="nav-number">5.5.3.0.3.</span> <span class="nav-text">地址掩码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%89%E4%B8%AA%E7%89%B9%E6%AE%8A%E7%9A%84CIDR%E5%9C%B0%E5%9D%80%E5%9D%97"><span class="nav-number">5.5.3.0.4.</span> <span class="nav-text">三个特殊的CIDR地址块</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E5%9C%B0%E5%9D%80%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-number">5.5.4.</span> <span class="nav-text">IP地址的特点</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%AF%8F%E4%B8%AAIP%E5%9C%B0%E5%9D%80%E7%94%B1%E4%B8%A4%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90"><span class="nav-number">5.5.4.0.1.</span> <span class="nav-text">每个IP地址由两部分组成</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%87%E5%BF%97%E4%B8%80%E5%8F%B0%E4%B8%BB%E6%9C%BA%E5%92%8C%E4%B8%80%E6%9D%A1%E9%93%BE%E8%B7%AF%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.5.4.0.2.</span> <span class="nav-text">标志一台主机和一条链路的接口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91%E5%99%A8%E6%88%96%E4%BA%A4%E6%8D%A2%E6%9C%BA%E8%BF%9E%E6%8E%A5%E8%B5%B7%E6%9D%A5%E7%9A%84%E8%8B%A5%E5%B9%B2%E4%B8%AA%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BB%8D%E4%B8%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C"><span class="nav-number">5.5.4.0.3.</span> <span class="nav-text">转发器或交换机连接起来的若干个局域网仍为一个网络</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%80%E6%9C%89%E5%88%86%E9%85%8D%E5%88%B0%E7%BD%91%E7%BB%9C%E5%89%8D%E7%BC%80%E7%9A%84%E7%BD%91%E7%BB%9C%E9%83%BD%E6%98%AF%E5%B9%B3%E7%AD%89%E7%9A%84"><span class="nav-number">5.5.4.0.4.</span> <span class="nav-text">所有分配到网络前缀的网络都是平等的</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">5.5.4.1.</span> <span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.5.5.</span> <span class="nav-text">IP数据报的格式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%89%87%E4%BE%8B%E5%AD%90"><span class="nav-number">5.5.5.1.</span> <span class="nav-text">分片例子</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E8%BD%AC%E5%8F%91%E5%88%86%E7%BB%84%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="nav-number">5.5.6.</span> <span class="nav-text">IP转发分组的过程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E7%BB%88%E7%82%B9%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="nav-number">5.5.6.1.</span> <span class="nav-text">基于终点的转发</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91%E8%A1%A8"><span class="nav-number">5.5.6.1.1.</span> <span class="nav-text">转发表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91%E8%A1%A8%E4%B8%AD%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%89%B9%E6%AE%8A%E8%B7%AF%E7%94%B1"><span class="nav-number">5.5.6.1.2.</span> <span class="nav-text">转发表中的两种特殊路由</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B%EF%BC%88%E5%BF%85%E8%80%83%EF%BC%89"><span class="nav-number">5.5.6.1.3.</span> <span class="nav-text">转发过程（必考）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D"><span class="nav-number">5.5.6.2.</span> <span class="nav-text">最长前缀匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D%E5%8E%9F%E5%88%99"><span class="nav-number">5.5.6.2.1.</span> <span class="nav-text">最长前缀匹配原则</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%BC%80%E4%BA%8C%E5%8F%89%E7%BA%BF%E7%B4%A2%E6%A0%91%EF%BC%88%E5%8E%9F%E7%90%86%E3%80%81%E5%A6%82%E4%BD%95%E5%8A%A0%E9%80%9F%EF%BC%89"><span class="nav-number">5.5.6.3.</span> <span class="nav-text">前缀二叉线索树（原理、如何加速）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8C%E5%8F%89%E7%BA%BF%E7%B4%A2%E6%A0%91%E7%BB%93%E6%9E%84"><span class="nav-number">5.5.6.3.1.</span> <span class="nav-text">二叉线索树结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A0%E9%80%9F%E5%8E%9F%E7%90%86"><span class="nav-number">5.5.6.3.2.</span> <span class="nav-text">加速原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B%E5%AD%90"><span class="nav-number">5.5.6.3.3.</span> <span class="nav-text">例子</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E4%B8%AA%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%EF%BC%88%E5%8E%9F%E7%90%86%EF%BC%8C%E8%83%BD%E6%AF%94%E8%BE%83%EF%BC%8C%E7%BB%99%E5%87%BA%E5%9C%BA%E6%99%AF%E9%80%89%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="nav-number">5.6.</span> <span class="nav-text">三个路由协议（原理，能比较，给出场景选协议）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#RIP"><span class="nav-number">5.6.1.</span> <span class="nav-text">RIP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="nav-number">5.6.1.1.</span> <span class="nav-text">路由表结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-3"><span class="nav-number">5.6.1.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="nav-number">5.6.1.3.</span> <span class="nav-text">距离向量算法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSPF"><span class="nav-number">5.6.2.</span> <span class="nav-text">OSPF</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-4"><span class="nav-number">5.6.2.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">5.6.2.2.</span> <span class="nav-text">链路状态数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81"><span class="nav-number">5.6.2.2.1.</span> <span class="nav-text">链路状态</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%86%85%E5%AE%B9%E5%92%8C%E7%89%B9%E7%82%B9"><span class="nav-number">5.6.2.2.2.</span> <span class="nav-text">内容和特点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="nav-number">5.6.2.3.</span> <span class="nav-text">工作过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BGP"><span class="nav-number">5.6.3.</span> <span class="nav-text">BGP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-5"><span class="nav-number">5.6.3.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"><span class="nav-number">5.6.3.2.</span> <span class="nav-text">路由信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95"><span class="nav-number">5.6.3.3.</span> <span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#BGP%E5%8F%91%E8%A8%80%E8%80%85"><span class="nav-number">5.6.3.3.1.</span> <span class="nav-text">BGP发言者</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#eBGP"><span class="nav-number">5.6.3.3.2.</span> <span class="nav-text">eBGP</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#iBGP"><span class="nav-number">5.6.3.3.3.</span> <span class="nav-text">iBGP</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A7%84%E5%88%99"><span class="nav-number">5.6.3.3.4.</span> <span class="nav-text">规则</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NAT%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2"><span class="nav-number">5.7.</span> <span class="nav-text">NAT网络地址转换</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%90%E8%BE%93%E5%B1%82"><span class="nav-number">6.</span> <span class="nav-text">运输层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="nav-number">6.1.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%BE%93%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83"><span class="nav-number">6.1.1.</span> <span class="nav-text">运输协议数据单元</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3"><span class="nav-number">6.1.2.</span> <span class="nav-text">端口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%8D%E7%94%A8-1"><span class="nav-number">6.1.2.0.1.</span> <span class="nav-text">复用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%94%A8"><span class="nav-number">6.1.2.0.2.</span> <span class="nav-text">分用</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UDP"><span class="nav-number">6.2.</span> <span class="nav-text">UDP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP%E5%8D%8F%E8%AE%AE"><span class="nav-number">6.3.</span> <span class="nav-text">TCP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E5%92%8CUDP%E5%8C%BA%E5%88%AB"><span class="nav-number">6.3.1.</span> <span class="nav-text">TCP和UDP区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-6"><span class="nav-number">6.3.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E7%9A%84%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.3.3.</span> <span class="nav-text">TCP的连接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="nav-number">6.3.3.1.</span> <span class="nav-text">套接字</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E6%8A%A5%E6%96%87%E9%A6%96%E9%83%A8%E6%A0%BC%E5%BC%8F"><span class="nav-number">6.3.4.</span> <span class="nav-text">TCP报文首部格式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MSS"><span class="nav-number">6.3.4.1.</span> <span class="nav-text">MSS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A5%E5%AD%97%E8%8A%82%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="nav-number">6.3.5.</span> <span class="nav-text">以字节为单位的滑动窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E7%AA%97%E5%8F%A3"><span class="nav-number">6.3.5.1.</span> <span class="nav-text">发送窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E7%BC%93%E5%AD%98"><span class="nav-number">6.3.5.1.1.</span> <span class="nav-text">发送缓存</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%97%E7%AA%97%E5%8F%A3"><span class="nav-number">6.3.5.2.</span> <span class="nav-text">接受窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8E%A5%E5%8F%97%E7%BC%93%E5%AD%98"><span class="nav-number">6.3.5.2.1.</span> <span class="nav-text">接受缓存</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%97%B6%E9%97%B4%E7%9A%84%E9%80%89%E6%8B%A9"><span class="nav-number">6.3.6.</span> <span class="nav-text">超时重传时间的选择</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="nav-number">6.4.</span> <span class="nav-text">流量控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%AE%9E%E7%8E%B0%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%EF%BC%88%E5%BF%85%E8%80%83%EF%BC%89"><span class="nav-number">6.4.1.</span> <span class="nav-text">利用滑动窗口实现流量控制（必考）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%81%E7%BB%AD%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="nav-number">6.4.1.1.</span> <span class="nav-text">持续计时器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E7%9A%84%E4%BC%A0%E8%BE%93%E6%95%88%E7%8E%87"><span class="nav-number">6.4.2.</span> <span class="nav-text">TCP的传输效率</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">6.5.</span> <span class="nav-text">拥塞控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="nav-number">6.5.0.1.</span> <span class="nav-text">拥塞产生的原因</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-vs-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">6.5.1.</span> <span class="nav-text">拥塞控制 vs 流量控制（重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-1"><span class="nav-number">6.5.1.1.</span> <span class="nav-text">拥塞控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6-1"><span class="nav-number">6.5.1.2.</span> <span class="nav-text">流量控制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="nav-number">6.5.2.</span> <span class="nav-text">TCP的拥塞控制方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DHCP%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8D%E5%9C%A8%E6%9C%AC%E5%9C%B0%E7%BD%91%E7%BB%9C"><span class="nav-number">6.5.3.</span> <span class="nav-text">DHCP服务器不在本地网络</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E7%BD%91"><span class="nav-number">7.</span> <span class="nav-text">无线网</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CSMA-CA"><span class="nav-number">7.1.</span> <span class="nav-text">CSMA&#x2F;CA</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8CSMA-CD%E5%8E%9F%E5%9B%A0"><span class="nav-number">7.1.1.</span> <span class="nav-text">不能使用CSMA&#x2F;CD原因</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9A%90%E8%94%BD%E7%AB%99%E9%97%AE%E9%A2%98"><span class="nav-number">7.1.1.1.</span> <span class="nav-text">隐蔽站问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9A%B4%E9%9C%B2%E7%AB%99%E9%97%AE%E9%A2%98"><span class="nav-number">7.1.1.2.</span> <span class="nav-text">暴露站问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E8%BF%9B%E4%B8%BACA"><span class="nav-number">7.1.2.</span> <span class="nav-text">改进为CA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%B3%95%E8%BF%87%E7%A8%8B"><span class="nav-number">7.1.3.</span> <span class="nav-text">算法过程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DIFS"><span class="nav-number">7.1.3.1.</span> <span class="nav-text">DIFS</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AE%97%E6%B3%95"><span class="nav-number">7.1.3.1.1.</span> <span class="nav-text">算法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E8%BD%BD%E6%B3%A2%E7%9B%91%E5%90%AC"><span class="nav-number">7.1.3.1.2.</span> <span class="nav-text">虚拟载波监听</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%89%E7%94%A8%E4%BF%A1%E9%81%93"><span class="nav-number">7.1.3.2.</span> <span class="nav-text">争用信道</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%89%E7%94%A8%E6%9C%9F-1"><span class="nav-number">7.1.3.2.1.</span> <span class="nav-text">争用期</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%80%E9%81%BF%E7%AE%97%E6%B3%95"><span class="nav-number">7.1.3.2.2.</span> <span class="nav-text">退避算法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8IP"><span class="nav-number">7.2.</span> <span class="nav-text">移动IP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89"><span class="nav-number">7.2.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E4%BF%A1%E8%80%85B%E5%92%8C%E7%A7%BB%E5%8A%A8%E7%AB%99A%E9%80%9A%E4%BF%A1%E7%9A%84%E5%9B%9B%E4%B8%AA%E9%87%8D%E8%A6%81%E6%AD%A5%E9%AA%A4"><span class="nav-number">7.2.2.</span> <span class="nav-text">通信者B和移动站A通信的四个重要步骤</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Pocon</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2026</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pocon</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
